!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}({"+JRF":function(t,e,n){var i=n("T5K2");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(t.exports=i.locals)},0:function(t,e,n){n("bUC5"),t.exports=n("pyCd")},"2SVd":function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"3M5q":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.footer-nav[data-v-1d92dfe8] {\n    position: -webkit-sticky;\n    position: sticky;\n    bottom: 0;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n    margin-top: auto;\n    background: #333;\n}\n.footer-nav-item[data-v-1d92dfe8] {\n    flex: 1;\n    text-align: center;\n    line-height: 1;\n    padding: .25rem 1rem;\n    color: white;\n    border: none;\n    background: transparent;\n    text-decoration: none;\n    text-underline: none;\n    transition: .2s;\n    outline: none;\n}\n.footer-nav--active[data-v-1d92dfe8] {\n    color: #2eb5ff;\n}\n.footer-nav-item[data-v-1d92dfe8]:hover {\n    background: #ffcc00;\n    transition: .2s;\n    color: white;\n    border: none;\n    text-decoration: none;\n    text-underline: none;\n}\n.footer-nav-item[data-v-1d92dfe8]:active {\n    outline: none;\n}\n",""])},"4IGl":function(t,e,n){"use strict";var i=n("v6aa");n.n(i).a},"4R65":function(t,e,n){!function(t){"use strict";var e=Object.freeze;function n(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(e in r=arguments[n])t[e]=r[e];return t}Object.freeze=function(t){return t};var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var o=0;function s(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function a(t,e,n){var i,r,o,s;return s=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}}function u(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function l(){return!1}function c(t,e){return e=void 0===e?6:e,+(Math.round(t+"e+"+e)+"e-"+e)}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return h(t).split(/\s+/)}function d(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var m=/\{ *([\w_-]+) *\}/g;function _(t,e){return t.replace(m,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function g(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var x=0;function w(t){var e=+new Date,n=Math.max(0,16-(e-x));return x=e+n,window.setTimeout(t,n)}var T=window.requestAnimationFrame||b("RequestAnimationFrame")||w,A=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function E(t,e,n){if(!n||T!==w)return T.call(window,r(t,e));t.call(e)}function S(t){t&&A.call(window,t)}var k=(Object.freeze||Object)({freeze:e,extend:n,create:i,bind:r,lastId:o,stamp:s,throttle:a,wrapNum:u,falseFn:l,formatNum:c,trim:h,splitWords:f,setOptions:d,getParamString:p,template:_,isArray:v,indexOf:g,emptyImageUrl:y,requestFn:T,cancelFn:A,requestAnimFrame:E,cancelAnimFrame:S});function C(){}C.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,o=i(r);for(var s in o.constructor=e,e.prototype=o,this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),n.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=n(i(o.options),t.options)),n(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},C.include=function(t){return n(this.prototype,t),this},C.mergeOptions=function(t){return n(this.prototype.options,t),this},C.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var O={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else{t=f(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,n)}return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=f(t);for(var r=0,o=t.length;r<o;r++)this._off(t[r],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,s=0,a=o.length;s<a;s++)if(o[s].fn===e&&o[s].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var s=i[r];if(s.ctx===n&&s.fn===e)return s.fn=l,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}else{for(r=0,o=i.length;r<o;r++)i[r].fn=l;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var r=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var u=o[s];u.fn.call(u.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=r(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var P=C.extend(O);function R(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var M=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function I(t,e,n){return t instanceof R?t:v(t)?new R(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new R(t.x,t.y):new R(t,e,n)}function N(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function z(t,e){return!t||t instanceof N?t:new N(t,e)}function D(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function j(t,e){return t instanceof D?t:new D(t,e)}function F(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function B(t,e,n){return t instanceof F?t:v(t)&&"object"!=typeof t[0]?3===t.length?new F(t[0],t[1],t[2]):2===t.length?new F(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new F(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new F(t,e,n)}R.prototype={clone:function(){return new R(this.x,this.y)},add:function(t){return this.clone()._add(I(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(I(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new R(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new R(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=M(this.x),this.y=M(this.y),this},distanceTo:function(t){var e=(t=I(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=I(t)).x===this.x&&t.y===this.y},contains:function(t){return t=I(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},N.prototype={extend:function(t){return t=I(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new R(this.min.x,this.max.y)},getTopRight:function(){return new R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof R?I(t):z(t))instanceof N?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=z(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,s=r.y>=e.y&&i.y<=n.y;return o&&s},overlaps:function(t){t=z(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,s=r.y>e.y&&i.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}},D.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof F)e=t,n=t;else{if(!(t instanceof D))return t?this.extend(B(t)||j(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new F(e.lat,e.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new D(new F(e.lat-i,e.lng-r),new F(n.lat+i,n.lng+r))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof F||"lat"in t?B(t):j(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof D?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,s=r.lng>=e.lng&&i.lng<=n.lng;return o&&s},overlaps:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,s=r.lng>e.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=j(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(t,e){if(!t)return!1;t=B(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(void 0===e?1e-9:e)},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return $.distance(this,B(t))},wrap:function(){return $.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var U,H={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),r=this.transformation.transform(e.max,n);return new N(i,r)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return new F(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),s=t.getNorthEast(),a=new F(o.lat-i,o.lng-r),u=new F(s.lat-i,s.lng-r);return new D(a,u)}},$=n({},H,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=o*o+Math.cos(i)*Math.cos(r)*s*s,u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*u}}),W={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new R(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(U=6378137*Math.PI,new N([-U,-U],[U,U]))};function G(t,e,n,i){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function q(t,e,n,i){return new G(t,e,n,i)}G.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new R((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var V=n({},$,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return q(t,.5,-t,.5)}()}),Z=n({},V,{code:"EPSG:900913"});function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Y(t,e){var n,i,r,o,s,a,u="";for(n=0,r=t.length;n<r;n++){for(s=t[n],i=0,o=s.length;i<o;i++)a=s[i],u+=(i?"L":"M")+a.x+" "+a.y;u+=e?kt?"z":"x":""}return u||"M0 0"}var K=document.documentElement.style,J="ActiveXObject"in window,Q=J&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=Ot("webkit"),nt=Ot("android"),it=Ot("android 2")||Ot("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=nt&&Ot("Google")&&rt<537&&!("AudioNode"in window),st=!!window.opera,at=Ot("chrome"),ut=Ot("gecko")&&!et&&!st&&!J,lt=!at&&Ot("safari"),ct=Ot("phantom"),ht="OTransition"in K,ft=0===navigator.platform.indexOf("Win"),dt=J&&"transition"in K,pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,mt="MozPerspective"in K,_t=!window.L_DISABLE_3D&&(dt||pt||mt)&&!ht&&!ct,vt="undefined"!=typeof orientation||Ot("mobile"),gt=vt&&et,yt=vt&&pt,bt=!window.PointerEvent&&window.MSPointerEvent,xt=!(!window.PointerEvent&&!bt),wt=!window.L_NO_TOUCH&&(xt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Tt=vt&&st,At=vt&&ut,Et=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,St=!!document.createElement("canvas").getContext,kt=!(!document.createElementNS||!X("svg").createSVGRect),Ct=!kt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Ot(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Lt=(Object.freeze||Object)({ie:J,ielt9:Q,edge:tt,webkit:et,android:nt,android23:it,androidStock:ot,opera:st,chrome:at,gecko:ut,safari:lt,phantom:ct,opera12:ht,win:ft,ie3d:dt,webkit3d:pt,gecko3d:mt,any3d:_t,mobile:vt,mobileWebkit:gt,mobileWebkit3d:yt,msPointer:bt,pointer:xt,touch:wt,mobileOpera:Tt,mobileGecko:At,retina:Et,canvas:St,svg:kt,vml:Ct}),Pt=bt?"MSPointerDown":"pointerdown",Rt=bt?"MSPointerMove":"pointermove",Mt=bt?"MSPointerUp":"pointerup",It=bt?"MSPointerCancel":"pointercancel",Nt=["INPUT","SELECT","OPTION"],zt={},Dt=!1,jt=0;function Ft(t,e,n,i){return"touchstart"===e?function(t,e,n){var i=r(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Nt.indexOf(t.target.tagName)<0))return;ze(t)}$t(t,e)});t["_leaflet_touchstart"+n]=i,t.addEventListener(Pt,i,!1),Dt||(document.documentElement.addEventListener(Pt,Bt,!0),document.documentElement.addEventListener(Rt,Ut,!0),document.documentElement.addEventListener(Mt,Ht,!0),document.documentElement.addEventListener(It,Ht,!0),Dt=!0)}(t,n,i):"touchmove"===e?function(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&$t(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(Rt,i,!1)}(t,n,i):"touchend"===e&&function(t,e,n){var i=function(t){$t(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(Mt,i,!1),t.addEventListener(It,i,!1)}(t,n,i),this}function Bt(t){zt[t.pointerId]=t,jt++}function Ut(t){zt[t.pointerId]&&(zt[t.pointerId]=t)}function Ht(t){delete zt[t.pointerId],jt--}function $t(t,e){for(var n in t.touches=[],zt)t.touches.push(zt[n]);t.changedTouches=[t],e(t)}var Wt=bt?"MSPointerDown":xt?"pointerdown":"touchstart",Gt=bt?"MSPointerUp":xt?"pointerup":"touchend",qt="_leaflet_";function Vt(t,e,n){var i,r,o=!1,s=250;function a(t){var e;if(xt){if(!tt||"mouse"===t.pointerType)return;e=jt}else e=t.touches.length;if(!(e>1)){var n=Date.now(),a=n-(i||n);r=t.touches?t.touches[0]:t,o=a>0&&a<=s,i=n}}function u(t){if(o&&!r.cancelBubble){if(xt){if(!tt||"mouse"===t.pointerType)return;var n,s,a={};for(s in r)n=r[s],a[s]=n&&n.bind?n.bind(r):n;r=a}r.type="dblclick",r.button=0,e(r),i=null}}return t[qt+Wt+n]=a,t[qt+Gt+n]=u,t[qt+"dblclick"+n]=e,t.addEventListener(Wt,a,!1),t.addEventListener(Gt,u,!1),t.addEventListener("dblclick",e,!1),this}function Zt(t,e){var n=t[qt+Wt+e],i=t[qt+Gt+e],r=t[qt+"dblclick"+e];return t.removeEventListener(Wt,n,!1),t.removeEventListener(Gt,i,!1),tt||t.removeEventListener("dblclick",r,!1),this}var Xt,Yt,Kt,Jt,Qt,te=_e(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ee=_e(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ne="webkitTransition"===ee||"OTransition"===ee?ee+"End":"transitionend";function ie(t){return"string"==typeof t?document.getElementById(t):t}function re(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function oe(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function se(t){var e=t.parentNode;e&&e.removeChild(t)}function ae(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ue(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function le(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=pe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function he(t,e){if(void 0!==t.classList)for(var n=f(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!ce(t,e)){var o=pe(t);de(t,(o?o+" ":"")+e)}}function fe(t,e){void 0!==t.classList?t.classList.remove(e):de(t,h((" "+pe(t)+" ").replace(" "+e+" "," ")))}function de(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function pe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function me(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function _e(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ve(t,e,n){var i=e||new R(0,0);t.style[te]=(dt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function ge(t,e){t._leaflet_pos=e,_t?ve(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ye(t){return t._leaflet_pos||new R(0,0)}if("onselectstart"in document)Xt=function(){Ce(window,"selectstart",ze)},Yt=function(){Le(window,"selectstart",ze)};else{var be=_e(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xt=function(){if(be){var t=document.documentElement.style;Kt=t[be],t[be]="none"}},Yt=function(){be&&(document.documentElement.style[be]=Kt,Kt=void 0)}}function xe(){Ce(window,"dragstart",ze)}function we(){Le(window,"dragstart",ze)}function Te(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ae(),Jt=t,Qt=t.style.outline,t.style.outline="none",Ce(window,"keydown",Ae))}function Ae(){Jt&&(Jt.style.outline=Qt,Jt=void 0,Qt=void 0,Le(window,"keydown",Ae))}function Ee(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Se(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var ke=(Object.freeze||Object)({TRANSFORM:te,TRANSITION:ee,TRANSITION_END:ne,get:ie,getStyle:re,create:oe,remove:se,empty:ae,toFront:ue,toBack:le,hasClass:ce,addClass:he,removeClass:fe,setClass:de,getClass:pe,setOpacity:me,testProp:_e,setTransform:ve,setPosition:ge,getPosition:ye,disableTextSelection:Xt,enableTextSelection:Yt,disableImageDrag:xe,enableImageDrag:we,preventOutline:Te,restoreOutline:Ae,getSizedParentNode:Ee,getScale:Se});function Ce(t,e,n,i){if("object"==typeof e)for(var r in e)Pe(t,r,e[r],n);else{e=f(e);for(var o=0,s=e.length;o<s;o++)Pe(t,e[o],n,i)}return this}var Oe="_leaflet_events";function Le(t,e,n,i){if("object"==typeof e)for(var r in e)Re(t,r,e[r],n);else if(e){e=f(e);for(var o=0,s=e.length;o<s;o++)Re(t,e[o],n,i)}else{for(var a in t[Oe])Re(t,a,t[Oe][a]);delete t[Oe]}return this}function Pe(t,e,n,i){var r=e+s(n)+(i?"_"+s(i):"");if(t[Oe]&&t[Oe][r])return this;var o=function(e){return n.call(i||t,e||window.event)},a=o;xt&&0===e.indexOf("touch")?Ft(t,e,o,r):!wt||"dblclick"!==e||!Vt||xt&&at?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",o,!1):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,Ge(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",o,!1)):("click"===e&&nt&&(o=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Ue&&n-Ue;i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?De(t):(Ue=n,e(t))}(t,a)}),t.addEventListener(e,o,!1)):"attachEvent"in t&&t.attachEvent("on"+e,o):Vt(t,o,r),t[Oe]=t[Oe]||{},t[Oe][r]=o}function Re(t,e,n,i){var r=e+s(n)+(i?"_"+s(i):""),o=t[Oe]&&t[Oe][r];if(!o)return this;xt&&0===e.indexOf("touch")?function(t,e,n){var i=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Pt,i,!1):"touchmove"===e?t.removeEventListener(Rt,i,!1):"touchend"===e&&(t.removeEventListener(Mt,i,!1),t.removeEventListener(It,i,!1))}(t,e,r):!wt||"dblclick"!==e||!Zt||xt&&at?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",o,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o):Zt(t,r),t[Oe][r]=null}function Me(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,We(t),this}function Ie(t){return Pe(t,"mousewheel",Me),this}function Ne(t){return Ce(t,"mousedown touchstart dblclick",Me),Pe(t,"click",$e),this}function ze(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function De(t){return ze(t),Me(t),this}function je(t,e){if(!e)return new R(t.clientX,t.clientY);var n=Se(e),i=n.boundingClientRect;return new R((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Fe=ft&&at?2*window.devicePixelRatio:ut?window.devicePixelRatio:1;function Be(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Fe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Ue,He={};function $e(t){He[t.type]=!0}function We(t){var e=He[t.type];return He[t.type]=!1,e}function Ge(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var qe=(Object.freeze||Object)({on:Ce,off:Le,stopPropagation:Me,disableScrollPropagation:Ie,disableClickPropagation:Ne,preventDefault:ze,stop:De,getMousePosition:je,getWheelDelta:Be,fakeStop:$e,skipped:We,isExternalTarget:Ge,addListener:Ce,removeListener:Le}),Ve=P.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=ye(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ge(this._el,n),this.fire("step")},_complete:function(){S(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ze=P.extend({options:{crs:V,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(B(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ee&&_t&&!Tt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ce(this._proxy,ne,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(B(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i){void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof R?t:this.latLngToContainerPoint(t),s=o.subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(s));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():j(t);var n=I(e.paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r),u=this.unproject(s.add(a).divideBy(2).add(o),r);return{center:u,zoom:r}},fitBounds:function(t,e){if(!(t=j(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=I(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ve,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){he(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!_t)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),r=this.project(t),o=this.getSize(),s=this._zoom;t=B(t),e=void 0===e?s:e;var a=Math.max(o.x,o.y),u=a*this.getZoomScale(s,e),l=r.distanceTo(i)||1,c=1.42,h=c*c;function f(t){var e=t?-1:1,n=t?u:a,i=u*u-a*a+e*h*h*l*l,r=2*n*h*l,o=i/r,s=Math.sqrt(o*o+1)-o,c=s<1e-9?-18:Math.log(s);return c}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}var m=f(0);function _(t){return a*(p(m)*(d(e=m+c*t)/p(e))-d(m))/h;var e}var v=Date.now(),g=(f(1)-m)/c,y=n.duration?1e3*n.duration:1e3*g*.8;return this._moveStart(!0,n.noMoveStart),function n(){var o=(Date.now()-v)/y,u=function(t){return 1-Math.pow(1-t,1.5)}(o)*g;o<=1?(this._flyToFrame=E(n,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(_(u)/l)),s),this.getScaleZoom(a/function(t){return a*(p(m)/p(m+c*t))}(u),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=j(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,j(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=I((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),r=this.getCenter(),o=this.project(r),s=this.project(t),a=this.getPixelBounds(),u=a.getSize().divideBy(2),l=z([a.min.add(n),a.max.subtract(i)]);if(!l.contains(s)){this._enforcingBounds=!0;var c=o.subtract(s),h=I(s.x+c.x,s.y+c.y);(s.x<l.min.x||s.x>l.max.x)&&(h.x=o.x-c.x,c.x>0?h.x+=u.x-n.x:h.x-=u.x-i.x),(s.y<l.min.y||s.y>l.max.y)&&(h.y=o.y-c.y,c.y>0?h.y+=u.y-n.y:h.y-=u.y-i.y),this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),s=i.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new F(e,n),r=i.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var s=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(s,o.maxZoom):s)}var a={latlng:i,bounds:r,timestamp:t.timestamp};for(var u in t.coords)"number"==typeof t.coords[u]&&(a[u]=t.coords[u]);this.fire("locationfound",a)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(S(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)se(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=oe("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new D(e,n)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=j(t),n=I(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(n),l=z(this.project(a,i),this.project(s,i)).getSize(),c=_t?this.options.zoomSnap:1,h=u.x/l.x,f=u.y/l.y,d=e?Math.max(h,f):Math.min(h,f);return i=this.getScaleZoom(d,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new N(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(B(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(I(t),e)},layerPointToLatLng:function(t){var e=I(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(B(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(B(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(B(t),B(e))},containerPointToLayerPoint:function(t){return I(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return I(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(I(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(t)))},mouseEventToContainerPoint:function(t){return je(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ie(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ce(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&_t,he(t,"leaflet-container"+(wt?" leaflet-touch":"")+(Et?" leaflet-retina":"")+(Q?" leaflet-oldie":"")+(lt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=re(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ge(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(he(t.markerPane,"leaflet-zoom-hide"),he(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){ge(this._mapPane,new R(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return S(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ge(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Le:Ce;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),_t&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){S(this._resizeRequest),this._resizeRequest=E(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],r="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,a=!1;o;){if((n=this._targets[s(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(r&&!Ge(o,t))break;if(i.push(n),r)break}if(o===this._container)break;o=o.parentNode}return i.length||a||r||!Ge(o,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!We(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Te(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var o=i[0];"contextmenu"===e&&o.listens(e,!0)&&ze(t);var s={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var a=o.getLatLng&&(!o._radius||o._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var u=0;u<i.length;u++)if(i[u].fire(e,s,!0),s.originalEvent._stopped||!1===i[u].options.bubblingMouseEvents&&-1!==g(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ye(this._mapPane)||new R(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return z([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new N(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new N(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=z(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max),s=this._rebound(r.x,-o.x),a=this._rebound(r.y,-o.y);return new R(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=_t?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=te,n=this._proxy.style[e];ve(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();ve(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r)||(E(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,he(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),E(function(){this._moveEnd(!0)},this))}}),Xe=C.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return he(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ye=function(t){return new Xe(t)};Ze.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=oe("div",e+"control-container",this._container);function i(i,r){var o=e+i+" "+e+r;t[i+r]=oe("div",o,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)se(this._controlCorners[t]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ke=Xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Xe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){he(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(he(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=oe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ne(e),Ie(e);var i=this._section=oe("section",t+"-list");n&&(this._map.on("click",this.collapse,this),nt||Ce(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=oe("a",t+"-toggle",e);r.href="#",r.title="Layers",wt?(Ce(r,"click",De),Ce(r,"click",this.expand,this)):Ce(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=oe("div",t+"-base",i),this._separator=oe("div",t+"-separator",i),this._overlaysList=oe("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ae(this._baseLayersList),ae(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+s(this),i),this._layerControlInputs.push(e),e.layerId=s(t.layer),Ce(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("div");n.appendChild(o),o.appendChild(e),o.appendChild(r);var a=t.overlay?this._overlaysList:this._baseLayersList;return a.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Je=Xe.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=oe("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=oe("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Ne(o),Ce(o,"click",De),Ce(o,"click",r,this),Ce(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";fe(this._zoomInButton,e),fe(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&he(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&he(this._zoomInButton,e)}});Ze.mergeOptions({zoomControl:!0}),Ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Je,this.addControl(this.zoomControl))});var Qe=Xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=oe("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=oe("div",e,n)),t.imperial&&(this._iScale=oe("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),tn=Xe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),Ne(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ze.mergeOptions({attributionControl:!0}),Ze.addInitHook(function(){this.options.attributionControl&&(new tn).addTo(this)}),Xe.Layers=Ke,Xe.Zoom=Je,Xe.Scale=Qe,Xe.Attribution=tn,Ye.layers=function(t,e,n){return new Ke(t,e,n)},Ye.zoom=function(t){return new Je(t)},Ye.scale=function(t){return new Qe(t)},Ye.attribution=function(t){return new tn(t)};var en=C.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});en.addTo=function(t,e){return t.addHandler(e,this),this};var nn,rn={Events:O},on=wt?"touchstart mousedown":"mousedown",sn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},an={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},un=P.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){d(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ce(this._dragStartTarget,on,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(un._dragging===this&&this.finishDrag(),Le(this._dragStartTarget,on,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ce(this._element,"leaflet-zoom-anim")&&!(un._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(un._dragging=this,this._preventOutline&&Te(this._element),xe(),Xt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Ee(this._element);this._startPoint=new R(e.clientX,e.clientY),this._parentScale=Se(n),Ce(document,an[t.type],this._onMove,this),Ce(document,sn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new R(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,ze(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ye(this._element).subtract(n),he(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),he(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,S(this._animRequest),this._lastEvent=t,this._animRequest=E(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ge(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in fe(document.body,"leaflet-dragging"),this._lastTarget&&(fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),an)Le(document,an[t],this._onMove,this),Le(document,sn[t],this._onUp,this);we(),Yt(),this._moved&&this._moving&&(S(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,un._dragging=!1}});function ln(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,r,o){var s,a,u,l=0;for(a=r+1;a<=o-1;a++)(u=pn(e[a],e[r],e[o],!0))>l&&(s=a,l=u);l>i&&(n[s]=1,t(e,n,i,r,s),t(e,n,i,s,o))}(t,i,e,0,n-1);var r,o=[];for(r=0;r<n;r++)i[r]&&o.push(t[r]);return o}(t=function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)s=t[i],a=t[r],u=void 0,l=void 0,u=a.x-s.x,l=a.y-s.y,u*u+l*l>e&&(n.push(t[i]),r=i);var s,a,u,l;return r<o-1&&n.push(t[o-1]),n}(t,n),n)}function cn(t,e,n){return Math.sqrt(pn(t,e,n,!0))}function hn(t,e,n,i,r){var o,s,a,u=i?nn:dn(t,n),l=dn(e,n);for(nn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;s=fn(t,e,o=u||l,n,r),a=dn(s,n),o===u?(t=s,u=a):(e=s,l=a)}}function fn(t,e,n,i,r){var o,s,a=e.x-t.x,u=e.y-t.y,l=i.min,c=i.max;return 8&n?(o=t.x+a*(c.y-t.y)/u,s=c.y):4&n?(o=t.x+a*(l.y-t.y)/u,s=l.y):2&n?(o=c.x,s=t.y+u*(c.x-t.x)/a):1&n&&(o=l.x,s=t.y+u*(l.x-t.x)/a),new R(o,s,r)}function dn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function pn(t,e,n,i){var r,o=e.x,s=e.y,a=n.x-o,u=n.y-s,l=a*a+u*u;return l>0&&((r=((t.x-o)*a+(t.y-s)*u)/l)>1?(o=n.x,s=n.y):r>0&&(o+=a*r,s+=u*r)),a=t.x-o,u=t.y-s,i?a*a+u*u:new R(o,s)}function mn(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function _n(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mn(t)}var vn=(Object.freeze||Object)({simplify:ln,pointToSegmentDistance:cn,closestPointOnSegment:function(t,e,n){return pn(t,e,n)},clipSegment:hn,_getEdgeIntersection:fn,_getBitCode:dn,_sqClosestPointOnSegment:pn,isFlat:mn,_flat:_n});function gn(t,e,n){var i,r,o,s,a,u,l,c,h,f=[1,4,2,8];for(r=0,l=t.length;r<l;r++)t[r]._code=dn(t[r],e);for(s=0;s<4;s++){for(c=f[s],i=[],r=0,l=t.length,o=l-1;r<l;o=r++)a=t[r],u=t[o],a._code&c?u._code&c||((h=fn(u,a,c,e,n))._code=dn(h,e),i.push(h)):(u._code&c&&((h=fn(u,a,c,e,n))._code=dn(h,e),i.push(h)),i.push(a));t=i}return t}var yn=(Object.freeze||Object)({clipPolygon:gn}),bn={project:function(t){return new R(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new N([-180,-90],[180,90])},xn={R:6378137,R_MINOR:6356752.314245179,bounds:new N([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);return i=-n*Math.log(Math.max(a,1e-10)),new R(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),l=Math.PI/2-2*Math.atan(s*e)-a,a+=l;return new F(a*n,t.x*n/i)}},wn=(Object.freeze||Object)({LonLat:bn,Mercator:xn,SphericalMercator:W}),Tn=n({},$,{code:"EPSG:3395",projection:xn,transformation:function(){var t=.5/(Math.PI*xn.R);return q(t,.5,-t,.5)}()}),An=n({},$,{code:"EPSG:4326",projection:bn,transformation:q(1/180,1,-1/180,.5)}),En=n({},H,{projection:bn,transformation:q(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});H.Earth=$,H.EPSG3395=Tn,H.EPSG3857=V,H.EPSG900913=Z,H.EPSG4326=An,H.Simple=En;var Sn=P.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ze.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?v(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var kn=Sn.extend({initialize:function(t,e){var n,i;if(d(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Cn=kn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),kn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),kn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new D;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),On=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var r=I(i),o=I("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Et&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Ln=On.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Ln.imagePath||(Ln.imagePath=this._detectIconPath()),(this.options.imagePath||Ln.imagePath)+On.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body),e=re(t,"background-image")||re(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Pn=en.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new un(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),he(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=ye(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),u=z(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!u.contains(o)){var l=I((Math.max(u.max.x,o.x)-u.max.x)/(s.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(s.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(s.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(s.min.y-u.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),ge(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=E(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(S(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=ye(e._icon),r=e._map.layerPointToLatLng(i);n&&ge(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){S(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Rn=Sn.extend({options:{icon:new Ln,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=B(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=B(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),he(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(he(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(t){ge(this._icon,t),this._shadow&&ge(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(he(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&me(this._icon,t),this._shadow&&me(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Mn=Sn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),In=Mn.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=B(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=B(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Mn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new N(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Nn=In.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=n({},i,{radius:e})),d(this,e),this._latlng=B(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Mn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===$.distance){var r=Math.PI/180,o=this._mRadius/$.R/r,s=n.project([e+o,t]),a=n.project([e-o,t]),u=s.add(a).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(l*r))/(Math.cos(e*r)*Math.cos(l*r)))/r;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,t-c]).x,this._radiusY=u.y-s.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),zn=Mn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=pn,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,c=u.length;l<c;l++){e=u[l-1],n=u[l];var h=o(t,e,n,!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a=this._rings[0],u=a.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<u-1;t++)if(r=a[t],o=a[t+1],n=r.distanceTo(o),(i+=n)>e)return s=(i-e)/n,this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=B(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new D,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=mn(t),i=0,r=t.length;i<r;i++)n?(e[i]=B(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new R(t,t);this._pxBounds=new N([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof F,s=t.length;if(o){for(r=[],i=0;i<s;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,r,o,s,a,u=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(a=this._rings[e],n=0,o=a.length;n<o-1;n++)(s=hn(a[n],a[n+1],t,n,!0))&&(u[i]=u[i]||[],u[i].push(s[0]),s[1]===a[n+1]&&n!==o-2||(u[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=ln(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(a=this._parts[n],i=0,s=a.length,r=s-1;i<s;r=i++)if((e||0!==i)&&cn(t,a[r],a[i])<=u)return!0;return!1}});zn._flat=_n;var Dn=zn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a,u,l=this._rings[0],c=l.length;if(!c)return null;for(o=s=a=0,t=0,e=c-1;t<c;e=t++)n=l[t],i=l[e],r=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*r,a+=(n.y+i.y)*r,o+=3*r;return u=0===o?l[0]:[s/o,a/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=zn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof F&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){zn.prototype._setLatLngs.call(this,t),mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new R(e,e);if(t=new N(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=gn(this._rings[r],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,s,a,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(e=this._parts[r],o=0,u=e.length,s=u-1;o<u;s=o++)n=e[o],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||zn.prototype._containsPoint.call(this,t,!0)}}),jn=Cn.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=v(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((i=r[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=Fn(t,o);return s?(s.feature=Gn(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Fn(t,e){var n,i,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Bn;if(!a&&!s)return null;switch(s.type){case"Point":return n=c(a),l?l(t,n):new Rn(n);case"MultiPoint":for(r=0,o=a.length;r<o;r++)n=c(a[r]),u.push(l?l(t,n):new Rn(n));return new Cn(u);case"LineString":case"MultiLineString":return i=Un(a,"LineString"===s.type?0:1,c),new zn(i,e);case"Polygon":case"MultiPolygon":return i=Un(a,"Polygon"===s.type?1:2,c),new Dn(i,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var h=Fn({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new Cn(u);default:throw new Error("Invalid GeoJSON object.")}}function Bn(t){return new F(t[1],t[0],t[2])}function Un(t,e,n){for(var i,r=[],o=0,s=t.length;o<s;o++)i=e?Un(t[o],e-1,n):(n||Bn)(t[o]),r.push(i);return r}function Hn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function $n(t,e,n,i){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?$n(t[o],e-1,n,i):Hn(t[o],i));return!e&&n&&r.push(r[0]),r}function Wn(t,e){return t.feature?n({},t.feature,{geometry:e}):Gn(e)}function Gn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var qn={toGeoJSON:function(t){return Wn(this,{type:"Point",coordinates:Hn(this.getLatLng(),t)})}};function Vn(t,e){return new jn(t,e)}Rn.include(qn),Nn.include(qn),In.include(qn),zn.include({toGeoJSON:function(t){var e=!mn(this._latlngs),n=$n(this._latlngs,e?1:0,!1,t);return Wn(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),Dn.include({toGeoJSON:function(t){var e=!mn(this._latlngs),n=e&&!mn(this._latlngs[0]),i=$n(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Wn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),kn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),Wn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=Gn(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}}),n?Wn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Zn=Vn,Xn=Sn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=j(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(he(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ue(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:oe("img");he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),this.options.className&&he(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ve(this._image,n,e)},_reset:function(){var t=this._image,e=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ge(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Yn=Xn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:oe("video");if(he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[e.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var a=oe("source");a.src=this._url[s],e.appendChild(a)}}}}),Kn=Xn.extend({_initImage:function(){var t=this._image=this._url;he(t,"leaflet-image-layer"),this._zoomAnimated&&he(t,"leaflet-zoom-animated"),t.onselectstart=l,t.onmousemove=l}}),Jn=Sn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){d(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&me(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(me(this._container,0),this._removeTimeout=setTimeout(r(se,void 0,this._container),200)):se(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=B(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ue(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Sn||(n=e,e=t),e instanceof Cn)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=I(this.options.offset),n=this._getAnchor();this._zoomAnimated?ge(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Qn=Jn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Jn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mn||this._source.on("preclick",Me))},onRemove:function(t){Jn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mn||this._source.off("preclick",Me))},getEvents:function(){var t=Jn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=oe("div",t+"-content-wrapper",e);if(this._contentNode=oe("div",t+"-content",n),Ne(n),Ie(this._contentNode),Ce(n,"contextmenu",Me),this._tipContainer=oe("div",t+"-tip-container",e),this._tip=oe("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=oe("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Ce(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight;r&&i>r?(e.height=r+"px",he(t,"leaflet-popup-scrolled")):fe(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ge(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(re(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new R(this._containerLeft,-n-this._containerBottom);r._add(ye(this._container));var o=t.layerPointToContainerPoint(r),s=I(this.options.autoPanPadding),a=I(this.options.autoPanPaddingTopLeft||s),u=I(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),c=0,h=0;o.x+i+u.x>l.x&&(c=o.x+i-l.x+u.x),o.x-c-a.x<0&&(c=o.x-a.x),o.y+n+u.y>l.y&&(h=o.y+n-l.y+u.y),o.y-h-a.y<0&&(h=o.y-a.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),De(t)},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ze.mergeOptions({closePopupOnClick:!0}),Ze.include({openPopup:function(t,e,n){return t instanceof Qn||(t=new Qn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Sn.include({bindPopup:function(t,e){return t instanceof Qn?(d(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Qn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(De(t),e instanceof Mn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ti=Jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Jn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Jn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Jn.prototype.getEvents.call(this);return wt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,s=n.offsetWidth,a=n.offsetHeight,u=I(this.options.offset),l=this._getAnchor();"top"===o?t=t.add(I(-s/2+u.x,-a+u.y+l.y,!0)):"bottom"===o?t=t.subtract(I(s/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(I(s/2+u.x,a/2-l.y+u.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",t=t.add(I(u.x+l.x,l.y-a/2+u.y,!0))):(o="left",t=t.subtract(I(s+l.x-u.x,a/2-l.y-u.y,!0))),fe(n,"leaflet-tooltip-right"),fe(n,"leaflet-tooltip-left"),fe(n,"leaflet-tooltip-top"),fe(n,"leaflet-tooltip-bottom"),he(n,"leaflet-tooltip-"+o),ge(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&me(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ze.include({openTooltip:function(t,e,n){return t instanceof ti||(t=new ti(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Sn.include({bindTooltip:function(t,e){return t instanceof ti?(d(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new ti(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),wt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(he(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(fe(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ei=On.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ae(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=I(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});On.Default=Ln;var ni=Sn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),se(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ue(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof R?t:new R(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){me(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);me(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(S(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(se(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||((i=this._levels[t]={}).el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)se(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new R(+r,+o);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>i&&this._retainParent(r,o,s,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new R(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();_t?ve(t.el,r,i):ge(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new N(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,u=new N(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new R(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var f=r.min.x;f<=r.max.x;f++){var d=new R(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:s.push(d)}}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(f=0;f<s.length;f++)this._addTile(s[f],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n),o=e.unproject(i,t.z),s=e.unproject(r,t.z);return[o,s]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new D(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new R(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(se(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){he(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,Q&&this.options.opacity<1&&me(t,this.options.opacity),nt&&!it&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&E(r(this._tileReady,this,t,null,o)),ge(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(me(n.el,0),S(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(he(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new R(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new N(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ii=ni.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&Et&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ce(n,"load",r(this._tileOnLoad,this,e,n)),Ce(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Et?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return _(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=y,se(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return ot||e.el.setAttribute("src",y),ni.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==y))return ni.prototype._tileReady.call(this,t,e,n)}});function ri(t,e){return new ii(t,e)}var oi=ii.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var r in e)r in this.options||(i[r]=e[r]);var o=(e=d(this,e)).detectRetina&&Et?2:1,s=this.getTileSize();i.width=s.x*o,i.height=s.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ii.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=z(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,s=(this._wmsVersion>=1.3&&this._crs===An?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=ii.prototype.getTileUrl.call(this,t);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});ii.WMS=oi,ri.wms=function(t,e){return new oi(t,e)};var si=Sn.extend({options:{padding:.1,tolerance:0},initialize:function(t){d(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&he(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=ye(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e),a=s.subtract(o),u=r.multiplyBy(-n).add(i).add(r).subtract(a);_t?ve(this._container,u,n):ge(this._container,u)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new N(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ai=si.extend({getEvents:function(){var t=si.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){si.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ce(t,"mousemove",a(this._onMouseMove,32,this),this),Ce(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ce(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){S(this._redrawRequest),delete this._ctx,se(this._container),Le(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){si.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Et?2:1;ge(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Et&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){si.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,s=t._parts,a=s.length,u=this._ctx;if(a){for(u.beginPath(),n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++)o=s[n][i],u[i?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&($e(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(fe(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(he(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function ui(t){return St?new ai(t):null}var li=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),ci={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(si.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=li("shape");he(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=li("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;se(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=li("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=v(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=li("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ue(t._container)},_bringToBack:function(t){le(t._container)}},hi=Ct?li:X,fi=si.extend({getEvents:function(){var t=si.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=hi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),Le(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){si.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),ge(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=hi("path");t.options.className&&he(e,t.options.className),t.options.interactive&&he(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){se(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Y(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=Math.max(Math.round(t._radiusY),1)||n,r="a"+n+","+i+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ue(t._path)},_bringToBack:function(t){le(t._path)}});function di(t){return kt||Ct?new fi(t):null}Ct&&fi.include(ci),Ze.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ui(t)||di(t)}});var pi=Dn.extend({initialize:function(t,e){Dn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=j(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});fi.create=hi,fi.pointsToPath=Y,jn.geometryToLayer=Fn,jn.coordsToLatLng=Bn,jn.coordsToLatLngs=Un,jn.latLngToCoords=Hn,jn.latLngsToCoords=$n,jn.getFeature=Wn,jn.asFeature=Gn,Ze.mergeOptions({boxZoom:!0});var mi=en.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Xt(),xe(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ce(document,{contextmenu:De,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),he(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new N(this._point,this._startPoint),n=e.getSize();ge(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(se(this._box),fe(this._container,"leaflet-crosshair")),Yt(),we(),Le(document,{contextmenu:De,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ze.addInitHook("addHandler","boxZoom",mi),Ze.mergeOptions({doubleClickZoom:!0});var _i=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});Ze.addInitHook("addHandler","doubleClickZoom",_i),Ze.mergeOptions({dragging:!0,inertia:!it,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vi=en.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new un(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}he(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fe(this._map._container,"leaflet-grab"),fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=j(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/o),u=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=a.multiplyBy(l/u),h=l/(n.inertiaDeceleration*s),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),E(function(){e.panBy(f,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Ze.addInitHook("addHandler","dragging",vi),Ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gi=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ce(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Le(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=I(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}De(t)}}});Ze.addInitHook("addHandler","keyboard",gi),Ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yi=en.extend({addHooks:function(){Ce(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Le(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Be(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),De(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Ze.addInitHook("addHandler","scrollWheelZoom",yi),Ze.mergeOptions({tap:!0,tapTolerance:15});var bi=en.extend({addHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(ze(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new R(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&he(n,"leaflet-active"),this._holdTimeout=setTimeout(r(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Ce(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Le(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&fe(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new R(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});wt&&!xt&&Ze.addInitHook("addHandler","tap",bi),Ze.mergeOptions({touchZoom:wt&&!it,bounceAtZoomLimits:!0});var xi=en.extend({addHooks:function(){he(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend",this._onTouchEnd,this),ze(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),S(this._animRequest);var a=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=E(a,this,!0),ze(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,S(this._animRequest),Le(document,"touchmove",this._onTouchMove),Le(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ze.addInitHook("addHandler","touchZoom",xi),Ze.BoxZoom=mi,Ze.DoubleClickZoom=_i,Ze.Drag=vi,Ze.Keyboard=gi,Ze.ScrollWheelZoom=yi,Ze.Tap=bi,Ze.TouchZoom=xi,Object.freeze=e,t.version="1.5.1+build.2e3e0ffb",t.Control=Xe,t.control=Ye,t.Browser=Lt,t.Evented=P,t.Mixin=rn,t.Util=k,t.Class=C,t.Handler=en,t.extend=n,t.bind=r,t.stamp=s,t.setOptions=d,t.DomEvent=qe,t.DomUtil=ke,t.PosAnimation=Ve,t.Draggable=un,t.LineUtil=vn,t.PolyUtil=yn,t.Point=R,t.point=I,t.Bounds=N,t.bounds=z,t.Transformation=G,t.transformation=q,t.Projection=wn,t.LatLng=F,t.latLng=B,t.LatLngBounds=D,t.latLngBounds=j,t.CRS=H,t.GeoJSON=jn,t.geoJSON=Vn,t.geoJson=Zn,t.Layer=Sn,t.LayerGroup=kn,t.layerGroup=function(t,e){return new kn(t,e)},t.FeatureGroup=Cn,t.featureGroup=function(t){return new Cn(t)},t.ImageOverlay=Xn,t.imageOverlay=function(t,e,n){return new Xn(t,e,n)},t.VideoOverlay=Yn,t.videoOverlay=function(t,e,n){return new Yn(t,e,n)},t.SVGOverlay=Kn,t.svgOverlay=function(t,e,n){return new Kn(t,e,n)},t.DivOverlay=Jn,t.Popup=Qn,t.popup=function(t,e){return new Qn(t,e)},t.Tooltip=ti,t.tooltip=function(t,e){return new ti(t,e)},t.Icon=On,t.icon=function(t){return new On(t)},t.DivIcon=ei,t.divIcon=function(t){return new ei(t)},t.Marker=Rn,t.marker=function(t,e){return new Rn(t,e)},t.TileLayer=ii,t.tileLayer=ri,t.GridLayer=ni,t.gridLayer=function(t){return new ni(t)},t.SVG=fi,t.svg=di,t.Renderer=si,t.Canvas=ai,t.canvas=ui,t.Path=Mn,t.CircleMarker=In,t.circleMarker=function(t,e){return new In(t,e)},t.Circle=Nn,t.circle=function(t,e,n){return new Nn(t,e,n)},t.Polyline=zn,t.polyline=function(t,e){return new zn(t,e)},t.Polygon=Dn,t.polygon=function(t,e){return new Dn(t,e)},t.Rectangle=pi,t.rectangle=function(t,e){return new pi(t,e)},t.Map=Ze,t.map=function(t,e){return new Ze(t,e)};var wi=window.L;t.noConflict=function(){return window.L=wi,this},window.L=t}(e)},"5oMp":function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},"8L3F":function(t,e,n){"use strict";n.r(e),function(t){for(var n="undefined"!=typeof window&&"undefined"!=typeof document,i=["Edge","Trident","Firefox"],r=0,o=0;o<i.length;o+=1)if(n&&navigator.userAgent.indexOf(i[o])>=0){r=1;break}var s=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},r))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function u(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function l(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function c(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=u(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:c(l(t))}var h=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(t){return 11===t?h:10===t?f:h||f}function p(t){if(!t)return document.documentElement;for(var e=d(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function m(t){return null!==t.parentNode?m(t.parentNode):t}function _(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,u=o.commonAncestorContainer;if(t!==u&&e!==u||i.contains(r))return"BODY"===(a=(s=u).nodeName)||"HTML"!==a&&p(s.firstElementChild)!==s?p(u):u;var l=m(t);return l.host?_(l.host,e):_(t,m(e).host)}function v(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function g(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function y(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],d(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function b(t){var e=t.body,n=t.documentElement,i=d(10)&&getComputedStyle(n);return{height:y("Height",e,n,i),width:y("Width",e,n,i)}}var x=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},w=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),T=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function E(t){return A({},t,{right:t.left+t.width,bottom:t.top+t.height})}function S(t){var e={};try{if(d(10)){e=t.getBoundingClientRect();var n=v(t,"top"),i=v(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?b(t.ownerDocument):{},s=o.width||t.clientWidth||r.right-r.left,a=o.height||t.clientHeight||r.bottom-r.top,l=t.offsetWidth-s,c=t.offsetHeight-a;if(l||c){var h=u(t);l-=g(h,"x"),c-=g(h,"y"),r.width-=l,r.height-=c}return E(r)}function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=d(10),r="HTML"===e.nodeName,o=S(t),s=S(e),a=c(t),l=u(e),h=parseFloat(l.borderTopWidth,10),f=parseFloat(l.borderLeftWidth,10);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=E({top:o.top-s.top-h,left:o.left-s.left-f,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!i&&r){var m=parseFloat(l.marginTop,10),_=parseFloat(l.marginLeft,10);p.top-=h-m,p.bottom-=h-m,p.left-=f-_,p.right-=f-_,p.marginTop=m,p.marginLeft=_}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(e,"top"),r=v(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(p,e)),p}function C(t){if(!t||!t.parentElement||d())return document.documentElement;for(var e=t.parentElement;e&&"none"===u(e,"transform");)e=e.parentElement;return e||document.documentElement}function O(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?C(t):_(t,e);if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=k(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:v(n),a=e?0:v(n,"left");return E({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}(s,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=c(l(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var h=k(a,s,r);if("HTML"!==a.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===u(e,"position"))return!0;var i=l(e);return!!i&&t(i)}(s))o=h;else{var f=b(t.ownerDocument),d=f.height,p=f.width;o.top+=h.top-h.marginTop,o.bottom=d+h.top,o.left+=h.left-h.marginLeft,o.right=p+h.left}}var m="number"==typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function L(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=O(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},u=Object.keys(a).map(function(t){return A({key:t},a[t],{area:(e=a[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),l=u.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=l.length>0?l[0].key:u[0].key,h=t.split("-")[1];return c+(h?"-"+h:"")}function P(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return k(n,i?C(e):_(e,n),i)}function R(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function M(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function I(t,e,n){n=n.split("-")[0];var i=R(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return r[s]=e[s]+e[u]/2-i[u]/2,r[a]=n===a?e[a]-i[l]:e[M(a)],r}function N(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function z(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=N(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=E(e.offsets.popper),e.offsets.reference=E(e.offsets.reference),e=n(e,t))}),e}function D(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function j(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function F(t){var e=t.ownerDocument;return e?e.defaultView:window}function B(t,e,n,i){n.updateBound=i,F(t).addEventListener("resize",n.updateBound,{passive:!0});var r=c(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),o||t(c(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function U(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,F(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function H(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function $(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&H(e[n])&&(i="px"),t.style[n]=e[n]+i})}var W=n&&/Firefox/i.test(navigator.userAgent);function G(t,e,n){var i=N(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],V=q.slice(3);function Z(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=V.indexOf(t),i=V.slice(n+1).concat(V.slice(0,n));return e?i.reverse():i}var X={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Y(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(N(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==a?[s.slice(0,a).concat([s[a].split(u)[0]]),[s[a].split(u)[1]].concat(s.slice(a+1))]:[s];return(l=l.map(function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return E(a)[e]/100*o}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){H(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}var K={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),u=a?"left":"top",l=a?"width":"height",c={start:T({},u,o[u]),end:T({},u,o[u]+o[l]-s[l])};t.offsets.popper=A({},s,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],u=void 0;return u=H(+n)?[+n,0]:Y(n,o,s,a),"left"===a?(o.top+=u[0],o.left-=u[1]):"right"===a?(o.top+=u[0],o.left+=u[1]):"top"===a?(o.left+=u[0],o.top-=u[1]):"bottom"===a&&(o.left+=u[0],o.top+=u[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var i=j("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var u=O(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=u;var l=e.priority,c=t.offsets.popper,h={primary:function(t){var n=c[t];return c[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(c[t],u[t])),T({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>u[t]&&!e.escapeWithReference&&(i=Math.min(c[n],u[t]-("right"===t?c.width:c.height))),T({},n,i)}};return l.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=A({},c,h[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",u=s?"left":"top",l=s?"width":"height";return n[a]<o(i[u])&&(t.offsets.popper[u]=o(i[u])-n[l]),n[u]>o(i[a])&&(t.offsets.popper[u]=o(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!G(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(r),c=l?"height":"width",h=l?"Top":"Left",f=h.toLowerCase(),d=l?"left":"top",p=l?"bottom":"right",m=R(i)[c];a[p]-m<s[f]&&(t.offsets.popper[f]-=s[f]-(a[p]-m)),a[f]+m>s[p]&&(t.offsets.popper[f]+=a[f]+m-s[p]),t.offsets.popper=E(t.offsets.popper);var _=a[f]+a[c]/2-m/2,v=u(t.instance.popper),g=parseFloat(v["margin"+h],10),y=parseFloat(v["border"+h+"Width"],10),b=_-t.offsets.popper[f]-g-y;return b=Math.max(Math.min(s[c]-m,b),0),t.arrowElement=i,t.offsets.arrow=(T(n={},f,Math.round(b)),T(n,d,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(D(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=O(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=M(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case X.FLIP:s=[i,r];break;case X.CLOCKWISE:s=Z(i);break;case X.COUNTERCLOCKWISE:s=Z(i,!0);break;default:s=e.behavior}return s.forEach(function(a,u){if(i!==a||s.length===u+1)return t;i=t.placement.split("-")[0],r=M(i);var l=t.offsets.popper,c=t.offsets.reference,h=Math.floor,f="left"===i&&h(l.right)>h(c.left)||"right"===i&&h(l.left)<h(c.right)||"top"===i&&h(l.bottom)>h(c.top)||"bottom"===i&&h(l.top)<h(c.bottom),d=h(l.left)<h(n.left),p=h(l.right)>h(n.right),m=h(l.top)<h(n.top),_=h(l.bottom)>h(n.bottom),v="left"===i&&d||"right"===i&&p||"top"===i&&m||"bottom"===i&&_,g=-1!==["top","bottom"].indexOf(i),y=!!e.flipVariations&&(g&&"start"===o&&d||g&&"end"===o&&p||!g&&"start"===o&&m||!g&&"end"===o&&_),b=!!e.flipVariationsByContent&&(g&&"start"===o&&p||g&&"end"===o&&d||!g&&"start"===o&&_||!g&&"end"===o&&m),x=y||b;(f||v||x)&&(t.flipped=!0,(f||v)&&(i=s[u+1]),x&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=A({},t.offsets.popper,I(t.instance.popper,t.offsets.reference,t.placement)),t=z(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=M(e),t.offsets.popper=E(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!G(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=N(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=N(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=p(t.instance.popper),u=S(a),l={position:r.position},c=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=Math.round,s=Math.floor,a=function(t){return t},u=o(r.width),l=o(i.width),c=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),f=e?c||h||u%2==l%2?o:s:a,d=e?o:a;return{left:f(u%2==1&&l%2==1&&!h&&e?i.left-1:i.left),top:d(i.top),bottom:d(i.bottom),right:f(i.right)}}(t,window.devicePixelRatio<2||!W),h="bottom"===n?"top":"bottom",f="right"===i?"left":"right",d=j("transform"),m=void 0,_=void 0;if(_="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-u.height+c.bottom:c.top,m="right"===f?"HTML"===a.nodeName?-a.clientWidth+c.right:-u.width+c.right:c.left,s&&d)l[d]="translate3d("+m+"px, "+_+"px, 0)",l[h]=0,l[f]=0,l.willChange="transform";else{var v="bottom"===h?-1:1,g="right"===f?-1:1;l[h]=_*v,l[f]=m*g,l.willChange=h+", "+f}var y={"x-placement":t.placement};return t.attributes=A({},y,t.attributes),t.styles=A({},l,t.styles),t.arrowStyles=A({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return $(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&$(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=P(r,e,t,n.positionFixed),s=L(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),$(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},J=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=A({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(A({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=A({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return A({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return w(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=P(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=L(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=I(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=z(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,D(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[j("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),t}();J.Utils=("undefined"!=typeof window?window:t).PopperUtils,J.placements=q,J.Defaults=K,e.default=J}.call(this,n("yLpj"))},"8oxB":function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=a(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"9Wh1":function(t,e,n){window._=n("LvDl");try{window.Popper=n("8L3F").default,window.$=window.jQuery=n("EVdn"),n("SYky")}catch(t){}window.axios=n("vDqi"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var i=document.head.querySelector('meta[name="csrf-token"]');i?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=i.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")},"9rSQ":function(t,e,n){"use strict";var i=n("xTJ+");function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},"9tPo":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},BEtg:function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},CfQg:function(t,e,n){"use strict";var i=n("NTRo");n.n(i).a},CgaS:function(t,e,n){"use strict";var i=n("JEQr"),r=n("xTJ+"),o=n("9rSQ"),s=n("UnBK");function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"==typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),(t=r.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},r.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=a},DfZB:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},EVdn:function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,u=o.slice,l=o.concat,c=o.push,h=o.indexOf,f={},d=f.toString,p=f.hasOwnProperty,m=p.toString,_=m.call(Object),v={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var i,r,o=(n=n||s).createElement("script");if(o.text=t,e)for(i in b)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[d.call(t)]||"object":typeof t}var T=function(t,e){return new T.fn.init(t,e)},A=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function E(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!g(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}T.fn=T.prototype={jquery:"3.4.1",constructor:T,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||g(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(l&&i&&(T.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||T.isPlainObject(n)?n:{},r=!1,s[e]=T.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},T.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=a(t))||"function"==typeof(n=p.call(e,"constructor")&&e.constructor)&&m.call(n)===_)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){x(t,{nonce:e&&e.nonce})},each:function(t,e){var n,i=0;if(E(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(A,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(E(Object(t))?T.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(E(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return l.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var S=function(t){var e,n,i,r,o,s,a,u,l,c,h,f,d,p,m,_,v,g,y,b="sizzle"+1*new Date,x=t.document,w=0,T=0,A=ut(),E=ut(),S=ut(),k=ut(),C=function(t,e){return t===e&&(h=!0),0},O={}.hasOwnProperty,L=[],P=L.pop,R=L.push,M=L.push,I=L.slice,N=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+D+"*("+j+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+D+"*\\]",B=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",U=new RegExp(D+"+","g"),H=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),$=new RegExp("^"+D+"*,"+D+"*"),W=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),G=new RegExp(D+"|>"),q=new RegExp(B),V=new RegExp("^"+j+"$"),Z={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+D+"?|("+D+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){f()},st=bt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{M.apply(L=I.call(x.childNodes),x.childNodes),L[x.childNodes.length].nodeType}catch(t){M={apply:L.length?function(t,e){R.apply(t,I.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,r){var o,a,l,c,h,p,v,g=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!r&&((e?e.ownerDocument||e:x)!==d&&f(e),e=e||d,m)){if(11!==w&&(h=Q.exec(t)))if(o=h[1]){if(9===w){if(!(l=e.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(g&&(l=g.getElementById(o))&&y(e,l)&&l.id===o)return i.push(l),i}else{if(h[2])return M.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return M.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!k[t+" "]&&(!_||!_.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(v=t,g=e,1===w&&G.test(t)){for((c=e.getAttribute("id"))?c=c.replace(it,rt):e.setAttribute("id",c=b),a=(p=s(t)).length;a--;)p[a]="#"+c+" "+yt(p[a]);v=p.join(","),g=tt.test(t)&&vt(e.parentNode)||e}try{return M.apply(i,g.querySelectorAll(v)),i}catch(e){k(t,!0)}finally{c===b&&e.removeAttribute("id")}}}return u(t.replace(H,"$1"),e,i,r)}function ut(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function lt(t){return t[b]=!0,t}function ct(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ft(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function _t(t){return lt(function(e){return e=+e,lt(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!X.test(e||n&&n.nodeName||"HTML")},f=at.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:x;return s!==d&&9===s.nodeType&&s.documentElement?(p=(d=s).documentElement,m=!o(d),x!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ct(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(d.getElementsByClassName),n.getById=ct(function(t){return p.appendChild(t).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],_=[],(n.qsa=J.test(d.querySelectorAll))&&(ct(function(t){p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+D+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||_.push("\\["+D+"*(?:value|"+z+")"),t.querySelectorAll("[id~="+b+"-]").length||_.push("~="),t.querySelectorAll(":checked").length||_.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||_.push(".#.+[+~]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&_.push("name"+D+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),_.push(",.*:")})),(n.matchesSelector=J.test(g=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ct(function(t){n.disconnectedMatch=g.call(t,"*"),g.call(t,"[s!='']:x"),v.push("!=",B)}),_=_.length&&new RegExp(_.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(p.compareDocumentPosition),y=e||J.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},C=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===d||t.ownerDocument===x&&y(x,t)?-1:e===d||e.ownerDocument===x&&y(x,e)?1:c?N(c,t)-N(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===d?-1:e===d?1:r?-1:o?1:c?N(c,t)-N(c,e):0;if(r===o)return ft(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ft(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},d):d},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&f(t),n.matchesSelector&&m&&!k[e+" "]&&(!v||!v.test(e))&&(!_||!_.test(e)))try{var i=g.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){k(e,!0)}return at(e,d,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!==d&&f(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==d&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&O.call(i.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==o?o:n.attributes||!m?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(it,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(C),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=at.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=at.selectors={cacheLength:50,createPseudo:lt,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=A[t+" "];return e||(e=new RegExp("(^|"+D+")"+t+"("+D+"|$)"))&&A(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=at.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,m=o!==s?"nextSibling":"previousSibling",_=e.parentNode,v=a&&e.nodeName.toLowerCase(),g=!u&&!a,y=!1;if(_){if(o){for(;m;){for(f=e;f=f[m];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?_.firstChild:_.lastChild],s&&g){for(y=(d=(l=(c=(h=(f=_)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&l[1])&&l[2],f=d&&_.childNodes[d];f=++d&&f&&f[m]||(y=d=0)||p.pop();)if(1===f.nodeType&&++y&&f===e){c[t]=[w,d,y];break}}else if(g&&(y=d=(l=(c=(h=(f=e)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&l[1]),!1===y)for(;(f=++d&&f&&f[m]||(y=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++y||(g&&((c=(h=f[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[w,y]),f!==e)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=N(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:lt(function(t){var e=[],n=[],i=a(t.replace(H,"$1"));return i[b]?lt(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:lt(function(t){return function(e){return at(t,e).length>0}}),contains:lt(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}}),lang:lt(function(t){return V.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return Y.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:_t(function(){return[0]}),last:_t(function(t,e){return[e-1]}),eq:_t(function(t,e,n){return[n<0?n+e:n]}),even:_t(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:_t(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:_t(function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t}),gt:_t(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=pt(e);function gt(){}function yt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=T++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,u){var l,c,h,f=[w,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=c[o])&&l[0]===w&&l[1]===a)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function xt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function wt(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function Tt(t,e,n,i,r,o){return i&&!i[b]&&(i=Tt(i)),r&&!r[b]&&(r=Tt(r,o)),lt(function(o,s,a,u){var l,c,h,f=[],d=[],p=s.length,m=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),_=!t||!o&&e?m:wt(m,f,t,a,u),v=n?r||(o?t:p||i)?[]:s:_;if(n&&n(_,v,a,u),i)for(l=wt(v,d),i(l,[],a,u),c=l.length;c--;)(h=l[c])&&(v[d[c]]=!(_[d[c]]=h));if(o){if(r||t){if(r){for(l=[],c=v.length;c--;)(h=v[c])&&l.push(_[c]=h);r(null,v=[],l,u)}for(c=v.length;c--;)(h=v[c])&&(l=r?N(o,h):f[c])>-1&&(o[l]=!(s[l]=h))}}else v=wt(v===s?v.splice(p,v.length):v),r?r(null,s,v,u):M.apply(s,v)})}function At(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],u=s?1:0,c=bt(function(t){return t===e},a,!0),h=bt(function(t){return N(e,t)>-1},a,!0),f=[function(t,n,i){var r=!s&&(i||n!==l)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];u<o;u++)if(n=i.relative[t[u].type])f=[bt(xt(f),n)];else{if((n=i.filter[t[u].type].apply(null,t[u].matches))[b]){for(r=++u;r<o&&!i.relative[t[r].type];r++);return Tt(u>1&&xt(f),u>1&&yt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(H,"$1"),n,u<r&&At(t.slice(u,r)),r<o&&At(t=t.slice(r)),r<o&&yt(t))}f.push(n)}return xt(f)}return gt.prototype=i.filters=i.pseudos,i.setFilters=new gt,s=at.tokenize=function(t,e){var n,r,o,s,a,u,l,c=E[t+" "];if(c)return e?0:c.slice(0);for(a=t,u=[],l=i.preFilter;a;){for(s in n&&!(r=$.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=W.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(H," ")}),a=a.slice(n.length)),i.filter)!(r=Z[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):E(t,u).slice(0)},a=at.compile=function(t,e){var n,r=[],o=[],a=S[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=At(e[n]))[b]?r.push(a):o.push(a);(a=S(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,u,c){var h,p,_,v=0,g="0",y=o&&[],b=[],x=l,T=o||r&&i.find.TAG("*",c),A=w+=null==x?1:Math.random()||.1,E=T.length;for(c&&(l=s===d||s||c);g!==E&&null!=(h=T[g]);g++){if(r&&h){for(p=0,s||h.ownerDocument===d||(f(h),a=!m);_=t[p++];)if(_(h,s||d,a)){u.push(h);break}c&&(w=A)}n&&((h=!_&&h)&&v--,o&&y.push(h))}if(v+=g,n&&g!==v){for(p=0;_=e[p++];)_(y,b,s,a);if(o){if(v>0)for(;g--;)y[g]||b[g]||(b[g]=P.call(u));b=wt(b)}M.apply(u,b),c&&!o&&b.length>0&&v+e.length>1&&at.uniqueSort(u)}return c&&(w=A,l=x),y};return n?lt(o):o}(o,r))).selector=t}return a},u=at.select=function(t,e,n,r){var o,u,l,c,h,f="function"==typeof t&&t,d=!r&&s(t=f.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&m&&i.relative[u[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=Z.needsContext.test(t)?0:u.length;o--&&(l=u[o],!i.relative[c=l.type]);)if((h=i.find[c])&&(r=h(l.matches[0].replace(et,nt),tt.test(u[0].type)&&vt(e.parentNode)||e))){if(u.splice(o,1),!(t=r.length&&yt(u)))return M.apply(n,r),n;break}}return(f||a(t,d))(r,e,!m,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=b.split("").sort(C).join("")===b,n.detectDuplicates=!!h,f(),n.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ht("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||ht(z,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),at}(n);T.find=S,T.expr=S.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=S.uniqueSort,T.text=S.getText,T.isXMLDoc=S.isXML,T.contains=S.contains,T.escapeSelector=S.escape;var k=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&T(t).is(n))break;i.push(t)}return i},C=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},O=T.expr.match.needsContext;function L(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(t,e,n){return g(e)?T.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?T.grep(t,function(t){return t===e!==n}):"string"!=typeof e?T.grep(t,function(t){return h.call(e,t)>-1!==n}):T.filter(e,t,n)}T.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?T.find.matchesSelector(i,t)?[i]:[]:T.find.matches(t,T.grep(e,function(t){return 1===t.nodeType}))},T.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(T(t).filter(function(){for(e=0;e<i;e++)if(T.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)T.find(t,r[e],n);return i>1?T.uniqueSort(n):n},filter:function(t){return this.pushStack(R(this,t||[],!1))},not:function(t){return this.pushStack(R(this,t||[],!0))},is:function(t){return!!R(this,"string"==typeof t&&O.test(t)?T(t):t||[],!1).length}});var M,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||M,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:I.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),P.test(i[1])&&T.isPlainObject(e))for(i in e)g(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==n.ready?n.ready(t):t(T):T.makeArray(t,this)}).prototype=T.fn,M=T(s);var N=/^(?:parents|prev(?:Until|All))/,z={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(T.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&T(t);if(!O.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(T(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,n){return k(t,"parentNode",n)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,n){return k(t,"nextSibling",n)},prevUntil:function(t,e,n){return k(t,"previousSibling",n)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(L(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},function(t,e){T.fn[t]=function(n,i){var r=T.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=T.filter(i,r)),this.length>1&&(z[t]||T.uniqueSort(r),N.test(t)&&r.reverse()),this.pushStack(r)}});var j=/[^\x20\t\r\n\f]+/g;function F(t){return t}function B(t){throw t}function U(t,e,n,i){var r;try{t&&g(r=t.promise)?r.call(t).done(e).fail(n):t&&g(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}T.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return T.each(t.match(j)||[],function(t,n){e[n]=!0}),e}(t):T.extend({},t);var e,n,i,r,o=[],s=[],a=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){T.each(n,function(n,i){g(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return T.each(arguments,function(t,e){for(var n;(n=T.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?T.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return T.Deferred(function(n){T.each(e,function(e,i){var r=g(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&g(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,u=arguments,l=function(){var n,l;if(!(t<o)){if((n=i.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,g(l)?r?l.call(n,s(o,e,F,r),s(o,e,B,r)):(o++,l.call(n,s(o,e,F,r),s(o,e,B,r),s(o,e,F,e.notifyWith))):(i!==F&&(a=void 0,u=[n]),(r||e.resolveWith)(a,u))}},c=r?l:function(){try{l()}catch(n){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==B&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?c():(T.Deferred.getStackHook&&(c.stackTrace=T.Deferred.getStackHook()),n.setTimeout(c))}}return T.Deferred(function(n){e[0][3].add(s(0,n,g(r)?r:F,n.notifyWith)),e[1][3].add(s(0,n,g(t)?t:F)),e[2][3].add(s(0,n,g(i)?i:B))}).promise()},promise:function(t){return null!=t?T.extend(t,r):r}},o={};return T.each(e,function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=u.call(arguments),o=T.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(U(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||g(r[n]&&r[n].then)))return o.then();for(;n--;)U(r[n],s(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&H.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){n.setTimeout(function(){throw t})};var $=T.Deferred();function W(){s.removeEventListener("DOMContentLoaded",W),n.removeEventListener("load",W),T.ready()}T.fn.ready=function(t){return $.then(t).catch(function(t){T.readyException(t)}),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||$.resolveWith(s,[T]))}}),T.ready.then=$.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(T.ready):(s.addEventListener("DOMContentLoaded",W),n.addEventListener("load",W));var G=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===w(n))for(a in r=!0,n)G(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,g(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(T(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o},q=/^-ms-/,V=/-([a-z])/g;function Z(t,e){return e.toUpperCase()}function X(t){return t.replace(q,"ms-").replace(V,Z)}var Y=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=T.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Y(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[X(e)]=n;else for(i in e)r[X(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][X(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(X):(e=X(e))in i?[e]:e.match(j)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||T.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var J=new K,Q=new K,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}T.extend({hasData:function(t){return Q.hasData(t)||J.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),T.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=X(i.slice(5)),nt(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Q.set(this,t)}):G(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Q.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),T.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,T.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=T.queue(t,e),i=n.length,r=n.shift(),o=T._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){T.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:T.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),T.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?T.queue(this[0],t):void 0===e?this:this.each(function(){var n=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&T.dequeue(this,t)})},dequeue:function(t){return this.each(function(){T.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=T.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=J.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=s.documentElement,at=function(t){return T.contains(t.ownerDocument,t)},ut={composed:!0};st.getRootNode&&(at=function(t){return T.contains(t.ownerDocument,t)||t.getRootNode(ut)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===T.css(t,"display")},ct=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function ht(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return T.css(t,e,"")},u=a(),l=n&&n[3]||(T.cssNumber[e]?"":"px"),c=t.nodeType&&(T.cssNumber[e]||"px"!==l&&+u)&&rt.exec(T.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)T.style(t,e,c+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),c/=o;c*=2,T.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var ft={};function dt(t){var e,n=t.ownerDocument,i=t.nodeName,r=ft[i];return r||(e=n.body.appendChild(n.createElement(i)),r=T.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ft[i]=r,r)}function pt(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&lt(i)&&(r[o]=dt(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}T.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){lt(this)?T(this).show():T(this).hide()})}});var mt=/^(?:checkbox|radio)$/i,_t=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function yt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&L(t,e)?T.merge([t],n):n}function bt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var xt,wt,Tt=/<|&#?\w+;/;function At(t,e,n,i,r){for(var o,s,a,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===w(o))T.merge(f,o.nodeType?[o]:o);else if(Tt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(_t.exec(o)||["",""])[1].toLowerCase(),u=gt[a]||gt._default,s.innerHTML=u[1]+T.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;T.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(i&&T.inArray(o,i)>-1)r&&r.push(o);else if(l=at(o),s=yt(h.appendChild(o),"script"),l&&bt(s),n)for(c=0;o=s[c++];)vt.test(o.type||"")&&n.push(o);return h}xt=s.createDocumentFragment().appendChild(s.createElement("div")),(wt=s.createElement("input")).setAttribute("type","radio"),wt.setAttribute("checked","checked"),wt.setAttribute("name","t"),xt.appendChild(wt),v.checkClone=xt.cloneNode(!0).cloneNode(!0).lastChild.checked,xt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!xt.cloneNode(!0).lastChild.defaultValue;var Et=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kt=/^([^.]*)(?:\.(.+)|)/;function Ct(){return!0}function Ot(){return!1}function Lt(t,e){return t===function(){try{return s.activeElement}catch(t){}}()==("focus"===e)}function Pt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Pt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ot;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return T().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=T.guid++)),t.each(function(){T.event.add(this,e,r,i,n)})}function Rt(t,e,n){n?(J.set(t,e,!1),T.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=J.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(T.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=u.call(arguments),J.set(this,e,o),i=n(this,e),this[e](),o!==(r=J.get(this,e))||i?J.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(J.set(this,e,{value:T.event.trigger(T.extend(o[0],T.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&T.event.add(t,e,Ct)}T.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,d,p,m,_=J.get(t);if(_)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&T.find.matchesSelector(st,r),n.guid||(n.guid=T.guid++),(u=_.events)||(u=_.events={}),(s=_.handle)||(s=_.handle=function(e){return void 0!==T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(j)||[""]).length;l--;)d=m=(a=kt.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),d&&(h=T.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=T.event.special[d]||{},c=T.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&T.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),T.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,d,p,m,_=J.hasData(t)&&J.get(t);if(_&&(u=_.events)){for(l=(e=(e||"").match(j)||[""]).length;l--;)if(d=m=(a=kt.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),d){for(h=T.event.special[d]||{},f=u[d=(i?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,_.handle)||T.removeEvent(t,d,_.handle),delete u[d])}else for(d in u)T.event.remove(t,d+e[l],n,i,!0);T.isEmptyObject(u)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=T.event.fix(t),u=new Array(arguments.length),l=(J.get(this,"events")||{})[a.type]||[],c=T.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=T.event.handlers.call(this,a,l),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((T.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?T(r,this).index(l)>-1:T.find(r,this,null,[l]).length),s[r]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return l=this,u<e.length&&a.push({elem:l,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&L(e,"input")&&Rt(e,"click",Ct),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&L(e,"input")&&Rt(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&L(e,"input")&&J.get(e,"click")||L(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ct:Ot,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ct,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ct,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ct,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Et.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},function(t,e){T.event.special[t]={setup:function(){return Rt(this,t,Lt),!1},trigger:function(){return Rt(this,t),!0},delegateType:e}}),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||T.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),T.fn.extend({on:function(t,e,n,i){return Pt(this,t,e,n,i)},one:function(t,e,n,i){return Pt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,T(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ot),this.each(function(){T.event.remove(this,t,n,e)})}});var Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,It=/<script|<style|<link/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Dt(t,e){return L(t,"table")&&L(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function jt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ft(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Bt(t,e){var n,i,r,o,s,a,u,l;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),s=J.set(e,o),l=o.events))for(r in delete s.handle,s.events={},l)for(n=0,i=l[r].length;n<i;n++)T.event.add(e,r,l[r][n]);Q.hasData(t)&&(a=Q.access(t),u=T.extend({},a),Q.set(e,u))}}function Ut(t,e,n,i){e=l.apply([],e);var r,o,s,a,u,c,h=0,f=t.length,d=f-1,p=e[0],m=g(p);if(m||f>1&&"string"==typeof p&&!v.checkClone&&Nt.test(p))return t.each(function(r){var o=t.eq(r);m&&(e[0]=p.call(this,r,o.html())),Ut(o,e,n,i)});if(f&&(o=(r=At(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=T.map(yt(r,"script"),jt)).length;h<f;h++)u=r,h!==d&&(u=T.clone(u,!0,!0),a&&T.merge(s,yt(u,"script"))),n.call(t[h],u,h);if(a)for(c=s[s.length-1].ownerDocument,T.map(s,Ft),h=0;h<a;h++)u=s[h],vt.test(u.type||"")&&!J.access(u,"globalEval")&&T.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?T._evalUrl&&!u.noModule&&T._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):x(u.textContent.replace(zt,""),u,c))}return t}function Ht(t,e,n){for(var i,r=e?T.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||T.cleanData(yt(i)),i.parentNode&&(n&&at(i)&&bt(yt(i,"script")),i.parentNode.removeChild(i));return t}T.extend({htmlPrefilter:function(t){return t.replace(Mt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,u,l,c=t.cloneNode(!0),h=at(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(s=yt(c),i=0,r=(o=yt(t)).length;i<r;i++)a=o[i],u=s[i],l=void 0,"input"===(l=u.nodeName.toLowerCase())&&mt.test(a.type)?u.checked=a.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=a.defaultValue);if(e)if(n)for(o=o||yt(t),s=s||yt(c),i=0,r=o.length;i<r;i++)Bt(o[i],s[i]);else Bt(t,c);return(s=yt(c,"script")).length>0&&bt(s,!h&&yt(t,"script")),c},cleanData:function(t){for(var e,n,i,r=T.event.special,o=0;void 0!==(n=t[o]);o++)if(Y(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?T.event.remove(n,i):T.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return G(this,function(t){return void 0===t?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ut(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)})},prepend:function(){return Ut(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ut(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ut(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(yt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return T.clone(this,t,e)})},html:function(t){return G(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!It.test(t)&&!gt[(_t.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(T.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ut(this,arguments,function(e){var n=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(yt(this)),n&&n.replaceChild(e,this))},t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){T.fn[t]=function(t){for(var n,i=[],r=T(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),T(r[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var $t=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Wt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Gt=new RegExp(ot.join("|"),"i");function qt(t,e,n){var i,r,o,s,a=t.style;return(n=n||Wt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||at(t)||(s=T.style(t,e)),!v.pixelBoxStyles()&&$t.test(s)&&Gt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Vt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),st.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,u,l=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,T.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var Zt=["Webkit","Moz","ms"],Xt=s.createElement("div").style,Yt={};function Kt(t){var e=T.cssProps[t]||Yt[t];return e||(t in Xt?t:Yt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Zt.length;n--;)if((t=Zt[n]+e)in Xt)return t}(t)||t)}var Jt=/^(none|table(?!-c[ea]).+)/,Qt=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ne(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ie(t,e,n,i,r,o){var s="width"===e?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=T.css(t,n+ot[s],!0,r)),i?("content"===n&&(u-=T.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(u-=T.css(t,"border"+ot[s]+"Width",!0,r))):(u+=T.css(t,"padding"+ot[s],!0,r),"padding"!==n?u+=T.css(t,"border"+ot[s]+"Width",!0,r):a+=T.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))||0),u}function re(t,e,n){var i=Wt(t),r=(!v.boxSizingReliable()||n)&&"border-box"===T.css(t,"boxSizing",!1,i),o=r,s=qt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if($t.test(s)){if(!n)return s;s="auto"}return(!v.boxSizingReliable()&&r||"auto"===s||!parseFloat(s)&&"inline"===T.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===T.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ie(t,e,n||(r?"border":"content"),o,i,s)+"px"}function oe(t,e,n,i,r){return new oe.prototype.init(t,e,n,i,r)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=X(e),u=Qt.test(e),l=t.style;if(u||(e=Kt(a)),s=T.cssHooks[e]||T.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ht(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=r&&r[3]||(T.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,o,s,a=X(e);return Qt.test(e)||(e=Kt(a)),(s=T.cssHooks[e]||T.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=qt(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),T.each(["height","width"],function(t,e){T.cssHooks[e]={get:function(t,n,i){if(n)return!Jt.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,e,i):ct(t,te,function(){return re(t,e,i)})},set:function(t,n,i){var r,o=Wt(t),s=!v.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===T.css(t,"boxSizing",!1,o),u=i?ie(t,e,i,a,o):0;return a&&s&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ie(t,e,"border",!1,o)-.5)),u&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=T.css(t,e)),ne(0,n,u)}}}),T.cssHooks.marginLeft=Vt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(qt(t,"marginLeft"))||t.getBoundingClientRect().left-ct(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(t,e){T.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(T.cssHooks[t+e].set=ne)}),T.fn.extend({css:function(t,e){return G(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Wt(t),r=e.length;s<r;s++)o[e[s]]=T.css(t,e[s],!1,i);return o}return void 0!==n?T.style(t,e,n):T.css(t,e)},t,e,arguments.length>1)}}),T.Tween=oe,oe.prototype={constructor:oe,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(T.cssNumber[n]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,n=oe.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):oe.propHooks._default.set(this),this}},oe.prototype.init.prototype=oe.prototype,oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||!T.cssHooks[t.prop]&&null==t.elem.style[Kt(t.prop)]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=oe.prototype.init,T.fx.step={};var se,ae,ue=/^(?:toggle|show|hide)$/,le=/queueHooks$/;function ce(){ae&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ce):n.setTimeout(ce,T.fx.interval),T.fx.tick())}function he(){return n.setTimeout(function(){se=void 0}),se=Date.now()}function fe(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function de(t,e,n){for(var i,r=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function pe(t,e,n){var i,r,o=0,s=pe.prefilters.length,a=T.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=se||he(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(i);return a.notifyWith(t,[l,i,n]),i<1&&s?n:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:e,originalOptions:n,startTime:se||he(),duration:n.duration,tweens:[],createTween:function(e,n){var i=T.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=X(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=T.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,l.opts.specialEasing);o<s;o++)if(i=pe.prefilters[o].call(l,t,c,l.opts))return g(i.stop)&&(T._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return T.map(c,de,l),g(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),T.fx.timer(T.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}T.Animation=T.extend(pe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ht(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(j);for(var n,i=0,r=t.length;i<r;i++)n=t[i],pe.tweeners[n]=pe.tweeners[n]||[],pe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,m=t.nodeType&&lt(t),_=J.get(t,"fxshow");for(i in n.queue||(null==(s=T._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,T.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],ue.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!_||void 0===_[i])continue;m=!0}d[i]=_&&_[i]||T.style(t,i)}if((u=!T.isEmptyObject(e))||!T.isEmptyObject(d))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=_&&_.display)&&(l=J.get(t,"display")),"none"===(c=T.css(t,"display"))&&(l?c=l:(pt([t],!0),l=t.style.display||l,c=T.css(t,"display"),pt([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===T.css(t,"float")&&(u||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,d)u||(_?"hidden"in _&&(m=_.hidden):_=J.access(t,"fxshow",{display:l}),o&&(_.hidden=!m),m&&pt([t],!0),f.done(function(){for(i in m||pt([t]),J.remove(t,"fxshow"),d)T.style(t,i,d[i])})),u=de(m?_[i]:0,i,f),i in _||(_[i]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),T.speed=function(t,e,n){var i=t&&"object"==typeof t?T.extend({},t):{complete:n||!n&&e||g(t)&&t,duration:t,easing:n&&e||e&&!g(e)&&e};return T.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in T.fx.speeds?i.duration=T.fx.speeds[i.duration]:i.duration=T.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&T.dequeue(this,i.queue)},i},T.fn.extend({fadeTo:function(t,e,n,i){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=T.isEmptyObject(t),o=T.speed(e,n,i),s=function(){var e=pe(this,T.extend({},t),o);(r||J.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=T.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&le.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||T.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=T.timers,s=i?i.length:0;for(n.finish=!0,T.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),T.each(["toggle","show","hide"],function(t,e){var n=T.fn[e];T.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(fe(e,!0),t,i,r)}}),T.each({slideDown:fe("show"),slideUp:fe("hide"),slideToggle:fe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){T.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),T.timers=[],T.fx.tick=function(){var t,e=0,n=T.timers;for(se=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||T.fx.stop(),se=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){ae||(ae=!0,ce())},T.fx.stop=function(){ae=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var me,_e=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return G(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){T.removeAttr(this,t)})}}),T.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?T.prop(t,e,n):(1===o&&T.isXMLDoc(t)||(r=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?me:void 0)),void 0!==n?null===n?void T.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=T.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&L(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(j);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),me={set:function(t,e,n){return!1===e?T.removeAttr(t,n):t.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),function(t,e){var n=_e[e]||T.find.attr;_e[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=_e[s],_e[s]=r,r=null!=n(t,e,i)?s:null,_e[s]=o),r}});var ve=/^(?:input|select|textarea|button)$/i,ge=/^(?:a|area)$/i;function ye(t){return(t.match(j)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function xe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(j)||[]}T.fn.extend({prop:function(t,e){return G(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[T.propFix[t]||t]})}}),T.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(t)||(e=T.propFix[e]||e,r=T.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||ge.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(g(t))return this.each(function(e){T(this).addClass(t.call(this,e,be(this)))});if((e=xe(t)).length)for(;n=this[u++];)if(r=be(n),i=1===n.nodeType&&" "+ye(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ye(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(g(t))return this.each(function(e){T(this).removeClass(t.call(this,e,be(this)))});if(!arguments.length)return this.attr("class","");if((e=xe(t)).length)for(;n=this[u++];)if(r=be(n),i=1===n.nodeType&&" "+ye(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=ye(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):g(t)?this.each(function(n){T(this).toggleClass(t.call(this,n,be(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=T(this),s=xe(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=be(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ye(be(n))+" ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g;T.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=g(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,T(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=T.map(r,function(t){return null==t?"":t+""})),(e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=T.valHooks[r.type]||T.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(we,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:ye(T.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:r.length;for(i=o<0?u:s?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!L(n.parentNode,"optgroup"))){if(e=T(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=T.makeArray(e),s=r.length;s--;)((i=r[s]).selected=T.inArray(T.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},v.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var Te=/^(?:focusinfocus|focusoutblur)$/,Ae=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,i,r){var o,a,u,l,c,h,f,d,m=[i||s],_=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(a=d=u=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!Te.test(_+T.event.triggered)&&(_.indexOf(".")>-1&&(v=_.split("."),_=v.shift(),v.sort()),c=_.indexOf(":")<0&&"on"+_,(t=t[T.expando]?t:new T.Event(_,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:T.makeArray(e,[t]),f=T.event.special[_]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!y(i)){for(l=f.delegateType||_,Te.test(l+_)||(a=a.parentNode);a;a=a.parentNode)m.push(a),u=a;u===(i.ownerDocument||s)&&m.push(u.defaultView||u.parentWindow||n)}for(o=0;(a=m[o++])&&!t.isPropagationStopped();)d=a,t.type=o>1?l:f.bindType||_,(h=(J.get(a,"events")||{})[t.type]&&J.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&Y(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=_,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(m.pop(),e)||!Y(i)||c&&g(i[_])&&!y(i)&&((u=i[c])&&(i[c]=null),T.event.triggered=_,t.isPropagationStopped()&&d.addEventListener(_,Ae),i[_](),t.isPropagationStopped()&&d.removeEventListener(_,Ae),T.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(t,e,n){var i=T.extend(new T.Event,n,{type:t,isSimulated:!0});T.event.trigger(i,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each(function(){T.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return T.event.trigger(t,e,n,!0)}}),v.focusin||T.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){T.event.simulate(e,t.target,T.event.fix(t))};T.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}});var Ee=n.location,Se=Date.now(),ke=/\?/;T.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+t),e};var Ce=/\[\]$/,Oe=/\r?\n/g,Le=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;function Re(t,e,n,i){var r;if(Array.isArray(e))T.each(e,function(e,r){n||Ce.test(t)?i(t,r):Re(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==w(e))i(t,e);else for(r in e)Re(t+"["+r+"]",e[r],n,i)}T.param=function(t,e){var n,i=[],r=function(t,e){var n=g(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,function(){r(this.name,this.value)});else for(n in t)Re(n,t[n],e,r);return i.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&Pe.test(this.nodeName)&&!Le.test(t)&&(this.checked||!mt.test(t))}).map(function(t,e){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,function(t){return{name:e.name,value:t.replace(Oe,"\r\n")}}):{name:e.name,value:n.replace(Oe,"\r\n")}}).get()}});var Me=/%20/g,Ie=/#.*$/,Ne=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)$/gm,De=/^(?:GET|HEAD)$/,je=/^\/\//,Fe={},Be={},Ue="*/".concat("*"),He=s.createElement("a");function $e(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(j)||[];if(g(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function We(t,e,n,i){var r={},o=t===Be;function s(a){var u;return r[a]=!0,T.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||o||r[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),s(l),!1)}),u}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Ge(t,e){var n,i,r=T.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&T.extend(!0,t,i),t}He.href=Ee.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ge(Ge(t,T.ajaxSettings),e):Ge(T.ajaxSettings,t)},ajaxPrefilter:$e(Fe),ajaxTransport:$e(Be),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,u,l,c,h,f,d,p=T.ajaxSetup({},e),m=p.context||p,_=p.context&&(m.nodeType||m.jquery)?T(m):T.event,v=T.Deferred(),g=T.Callbacks("once memory"),y=p.statusCode||{},b={},x={},w="canceled",A={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=ze.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)A.always(t[A.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),E(0,e),this}};if(v.promise(A),p.url=((t||p.url||Ee.href)+"").replace(je,Ee.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(j)||[""],null==p.crossDomain){l=s.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=He.protocol+"//"+He.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=T.param(p.data,p.traditional)),We(Fe,p,e,A),c)return A;for(f in(h=T.event&&p.global)&&0==T.active++&&T.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!De.test(p.type),r=p.url.replace(Ie,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Me,"+")):(d=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(ke.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Ne,"$1"),d=(ke.test(r)?"&":"?")+"_="+Se+++d),p.url=r+d),p.ifModified&&(T.lastModified[r]&&A.setRequestHeader("If-Modified-Since",T.lastModified[r]),T.etag[r]&&A.setRequestHeader("If-None-Match",T.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&A.setRequestHeader("Content-Type",p.contentType),A.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ue+"; q=0.01":""):p.accepts["*"]),p.headers)A.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(m,A,p)||c))return A.abort();if(w="abort",g.add(p.complete),A.done(p.success),A.fail(p.error),i=We(Be,p,e,A)){if(A.readyState=1,h&&_.trigger("ajaxSend",[A,p]),c)return A;p.async&&p.timeout>0&&(u=n.setTimeout(function(){A.abort("timeout")},p.timeout));try{c=!1,i.send(b,E)}catch(t){if(c)throw t;E(-1,t)}}else E(-1,"No Transport");function E(t,e,s,a){var l,f,d,b,x,w=e;c||(c=!0,u&&n.clearTimeout(u),i=void 0,o=a||"",A.readyState=t>0?4:0,l=t>=200&&t<300||304===t,s&&(b=function(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,A,s)),b=function(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,b,A,l),l?(p.ifModified&&((x=A.getResponseHeader("Last-Modified"))&&(T.lastModified[r]=x),(x=A.getResponseHeader("etag"))&&(T.etag[r]=x)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=b.state,f=b.data,l=!(d=b.error))):(d=w,!t&&w||(w="error",t<0&&(t=0))),A.status=t,A.statusText=(e||w)+"",l?v.resolveWith(m,[f,w,A]):v.rejectWith(m,[A,w,d]),A.statusCode(y),y=void 0,h&&_.trigger(l?"ajaxSuccess":"ajaxError",[A,p,l?f:d]),g.fireWith(m,[A,w]),h&&(_.trigger("ajaxComplete",[A,p]),--T.active||T.event.trigger("ajaxStop")))}return A},getJSON:function(t,e,n){return T.get(t,e,n,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],function(t,e){T[e]=function(t,n,i,r){return g(n)&&(r=r||i,i=n,n=void 0),T.ajax(T.extend({url:t,type:e,dataType:r,data:n,success:i},T.isPlainObject(t)&&t))}}),T._evalUrl=function(t,e){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){T.globalEval(t,e)}})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){T(this).wrapInner(t.call(this,e))}):this.each(function(){var e=T(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(n){T(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},Ve=T.ajaxSettings.xhr();v.cors=!!Ve&&"withCredentials"in Ve,v.ajax=Ve=!!Ve,T.ajaxTransport(function(t){var e,i;if(v.cors||Ve&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),T.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),T.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=T("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ze,Xe=[],Ye=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||T.expando+"_"+Se++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ye,"$1"+r):!1!==t.jsonp&&(t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||T.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?T(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Xe.push(r)),s&&g(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((Ze=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ze.childNodes.length),T.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),o=!n&&[],(r=P.exec(t))?[e.createElement(r[1])]:(r=At([t],e,o),o&&o.length&&T(o).remove(),T.merge([],r.childNodes)));var i,r,o},T.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ye(t.slice(a)),t=t.slice(0,a)),g(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&T.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?T("<div>").append(T.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){T.fn[e]=function(t){return this.on(e,t)}}),T.expr.pseudos.animated=function(t){return T.grep(T.timers,function(e){return t===e.elem}).length},T.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l=T.css(t,"position"),c=T(t),h={};"static"===l&&(t.style.position="relative"),a=c.offset(),o=T.css(t,"top"),u=T.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),g(e)&&(e=e.call(t,n,T.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){T.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===T.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),r.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-T.css(i,"marginTop",!0),left:e.left-r.left-T.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||st})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;T.fn[t]=function(i){return G(this,function(t,i,r){var o;if(y(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),T.each(["top","left"],function(t,e){T.cssHooks[e]=Vt(v.pixelPosition,function(t,n){if(n)return n=qt(t,e),$t.test(n)?T(t).position()[e]+"px":n})}),T.each({Height:"height",Width:"width"},function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){T.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return G(this,function(e,n,r){var o;return y(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?T.css(e,n,a):T.style(e,n,r,a)},e,s?r:void 0,s)}})}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){T.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),T.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),T.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),T.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),g(t))return i=u.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(u.call(arguments)))}).guid=t.guid=t.guid||T.guid++,r},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=L,T.isFunction=g,T.isWindow=y,T.camelCase=X,T.type=w,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return T}.apply(e,[]))||(t.exports=i);var Ke=n.jQuery,Je=n.$;return T.noConflict=function(t){return n.$===T&&(n.$=Je),t&&n.jQuery===T&&(n.jQuery=Ke),T},r||(n.jQuery=n.$=T),T})},HSsa:function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},I1BE:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(o).concat([r]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},INkZ:function(t,e,n){"use strict";(function(e,n){var i=Object.freeze({});function r(t){return null==t}function o(t){return null!=t}function s(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function u(t){return null!==t&&"object"==typeof t}var l=Object.prototype.toString;function c(t){return"[object Object]"===l.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return o(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function d(t){return null==t?"":Array.isArray(t)||c(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var _=m("slot,component",!0),v=m("key,ref,slot,slot-scope,is");function g(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function b(t,e){return y.call(t,e)}function x(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var w=/-(\w)/g,T=x(function(t){return t.replace(w,function(t,e){return e?e.toUpperCase():""})}),A=x(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),E=/\B([A-Z])/g,S=x(function(t){return t.replace(E,"-$1").toLowerCase()}),k=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function C(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function O(t,e){for(var n in e)t[n]=e[n];return t}function L(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function P(t,e,n){}var R=function(t,e,n){return!1},M=function(t){return t};function I(t,e){if(t===e)return!0;var n=u(t),i=u(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),o=Array.isArray(e);if(r&&o)return t.length===e.length&&t.every(function(t,n){return I(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every(function(n){return I(t[n],e[n])})}catch(t){return!1}}function N(t,e){for(var n=0;n<t.length;n++)if(I(t[n],e))return n;return-1}function z(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var D="data-server-rendered",j=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:P,parsePlatformTagName:M,mustUseProp:R,async:!0,_lifecycleHooks:F},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var $,W=new RegExp("[^"+U.source+".$_\\d]"),G="__proto__"in{},q="undefined"!=typeof window,V="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Z=V&&WXEnvironment.platform.toLowerCase(),X=q&&window.navigator.userAgent.toLowerCase(),Y=X&&/msie|trident/.test(X),K=X&&X.indexOf("msie 9.0")>0,J=X&&X.indexOf("edge/")>0,Q=(X&&X.indexOf("android"),X&&/iphone|ipad|ipod|ios/.test(X)||"ios"===Z),tt=(X&&/chrome\/\d+/.test(X),X&&/phantomjs/.test(X),X&&X.match(/firefox\/(\d+)/)),et={}.watch,nt=!1;if(q)try{var it={};Object.defineProperty(it,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,it)}catch(i){}var rt=function(){return void 0===$&&($=!q&&!V&&void 0!==e&&e.process&&"server"===e.process.env.VUE_ENV),$},ot=q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function st(t){return"function"==typeof t&&/native code/.test(t.toString())}var at,ut="undefined"!=typeof Symbol&&st(Symbol)&&"undefined"!=typeof Reflect&&st(Reflect.ownKeys);at="undefined"!=typeof Set&&st(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var lt=P,ct=0,ht=function(){this.id=ct++,this.subs=[]};ht.prototype.addSub=function(t){this.subs.push(t)},ht.prototype.removeSub=function(t){g(this.subs,t)},ht.prototype.depend=function(){ht.target&&ht.target.addDep(this)},ht.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},ht.target=null;var ft=[];function dt(t){ft.push(t),ht.target=t}function pt(){ft.pop(),ht.target=ft[ft.length-1]}var mt=function(t,e,n,i,r,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},_t={child:{configurable:!0}};_t.child.get=function(){return this.componentInstance},Object.defineProperties(mt.prototype,_t);var vt=function(t){void 0===t&&(t="");var e=new mt;return e.text=t,e.isComment=!0,e};function gt(t){return new mt(void 0,void 0,void 0,String(t))}function yt(t){var e=new mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var bt=Array.prototype,xt=Object.create(bt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=bt[t];H(xt,t,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,o=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&s.observeArray(r),s.dep.notify(),o})});var wt=Object.getOwnPropertyNames(xt),Tt=!0;function At(t){Tt=t}var Et=function(t){var e;this.value=t,this.dep=new ht,this.vmCount=0,H(t,"__ob__",this),Array.isArray(t)?(G?(e=xt,t.__proto__=e):function(t,e,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];H(t,o,e[o])}}(t,xt,wt),this.observeArray(t)):this.walk(t)};function St(t,e){var n;if(u(t)&&!(t instanceof mt))return b(t,"__ob__")&&t.__ob__ instanceof Et?n=t.__ob__:Tt&&!rt()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Et(t)),e&&n&&n.vmCount++,n}function kt(t,e,n,i,r){var o=new ht,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,u=s&&s.set;a&&!u||2!==arguments.length||(n=t[e]);var l=!r&&St(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return ht.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,i=0,r=e.length;i<r;i++)(n=e[i])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var i=a?a.call(t):n;e===i||e!=e&&i!=i||a&&!u||(u?u.call(t,e):n=e,l=!r&&St(e),o.notify())}})}}function Ct(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(kt(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Ot(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||b(t,e)&&(delete t[e],n&&n.dep.notify())}}Et.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)kt(t,e[n])},Et.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)St(t[e])};var Lt=B.optionMergeStrategies;function Pt(t,e){if(!e)return t;for(var n,i,r,o=ut?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)"__ob__"!==(n=o[s])&&(i=t[n],r=e[n],b(t,n)?i!==r&&c(i)&&c(r)&&Pt(i,r):Ct(t,n,r));return t}function Rt(t,e,n){return n?function(){var i="function"==typeof e?e.call(n,n):e,r="function"==typeof t?t.call(n,n):t;return i?Pt(i,r):r}:e?t?function(){return Pt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Mt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function It(t,e,n,i){var r=Object.create(t||null);return e?O(r,e):r}Lt.data=function(t,e,n){return n?Rt(t,e,n):e&&"function"!=typeof e?t:Rt(t,e)},F.forEach(function(t){Lt[t]=Mt}),j.forEach(function(t){Lt[t+"s"]=It}),Lt.watch=function(t,e,n,i){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var o in O(r,t),e){var s=r[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),r[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return r},Lt.props=Lt.methods=Lt.inject=Lt.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return O(r,t),e&&O(r,e),r},Lt.provide=Rt;var Nt=function(t,e){return void 0===e?t:e};function zt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var i,r,o={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(o[T(r)]={type:null});else if(c(n))for(var s in n)r=n[s],o[T(s)]=c(r)?r:{type:r};t.props=o}}(e),function(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(c(n))for(var o in n){var s=n[o];i[o]=c(s)?O({from:o},s):{from:s}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"==typeof i&&(e[n]={bind:i,update:i})}}(e),!e._base&&(e.extends&&(t=zt(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=zt(t,e.mixins[i],n);var o,s={};for(o in t)a(o);for(o in e)b(t,o)||a(o);function a(i){var r=Lt[i]||Nt;s[i]=r(t[i],e[i],n,i)}return s}function Dt(t,e,n,i){if("string"==typeof n){var r=t[e];if(b(r,n))return r[n];var o=T(n);if(b(r,o))return r[o];var s=A(o);return b(r,s)?r[s]:r[n]||r[o]||r[s]}}function jt(t,e,n,i){var r=e[t],o=!b(n,t),s=n[t],a=Ut(Boolean,r.type);if(a>-1)if(o&&!b(r,"default"))s=!1;else if(""===s||s===S(t)){var u=Ut(String,r.type);(u<0||a<u)&&(s=!0)}if(void 0===s){s=function(t,e,n){if(b(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof i&&"Function"!==Ft(e.type)?i.call(t):i}}(i,r,t);var l=Tt;At(!0),St(s),At(l)}return s}function Ft(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Bt(t,e){return Ft(t)===Ft(e)}function Ut(t,e){if(!Array.isArray(e))return Bt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Bt(e[n],t))return n;return-1}function Ht(t,e,n){dt();try{if(e)for(var i=e;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(i,t,e,n))return}catch(t){Wt(t,i,"errorCaptured hook")}}Wt(t,e,n)}finally{pt()}}function $t(t,e,n,i,r){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&f(o)&&!o._handled&&(o.catch(function(t){return Ht(t,i,r+" (Promise/async)")}),o._handled=!0)}catch(t){Ht(t,i,r)}return o}function Wt(t,e,n){if(B.errorHandler)try{return B.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Gt(e,null,"config.errorHandler")}Gt(t,e,n)}function Gt(t,e,n){if(!q&&!V||"undefined"==typeof console)throw t;console.error(t)}var qt,Vt=!1,Zt=[],Xt=!1;function Yt(){Xt=!1;var t=Zt.slice(0);Zt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&st(Promise)){var Kt=Promise.resolve();qt=function(){Kt.then(Yt),Q&&setTimeout(P)},Vt=!0}else if(Y||"undefined"==typeof MutationObserver||!st(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())qt=void 0!==n&&st(n)?function(){n(Yt)}:function(){setTimeout(Yt,0)};else{var Jt=1,Qt=new MutationObserver(Yt),te=document.createTextNode(String(Jt));Qt.observe(te,{characterData:!0}),qt=function(){Jt=(Jt+1)%2,te.data=String(Jt)},Vt=!0}function ee(t,e){var n;if(Zt.push(function(){if(t)try{t.call(e)}catch(t){Ht(t,e,"nextTick")}else n&&n(e)}),Xt||(Xt=!0,qt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var ne=new at;function ie(t){!function t(e,n){var i,r,o=Array.isArray(e);if(!(!o&&!u(e)||Object.isFrozen(e)||e instanceof mt)){if(e.__ob__){var s=e.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(o)for(i=e.length;i--;)t(e[i],n);else for(i=(r=Object.keys(e)).length;i--;)t(e[r[i]],n)}}(t,ne),ne.clear()}var re=x(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:n,capture:i,passive:e}});function oe(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return $t(i,null,arguments,e,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)$t(r[o],null,t,e,"v-on handler")}return n.fns=t,n}function se(t,e,n,i,o,a){var u,l,c,h;for(u in t)l=t[u],c=e[u],h=re(u),r(l)||(r(c)?(r(l.fns)&&(l=t[u]=oe(l,a)),s(h.once)&&(l=t[u]=o(h.name,l,h.capture)),n(h.name,l,h.capture,h.passive,h.params)):l!==c&&(c.fns=l,t[u]=c));for(u in e)r(t[u])&&i((h=re(u)).name,e[u],h.capture)}function ae(t,e,n){var i;t instanceof mt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function u(){n.apply(this,arguments),g(i.fns,u)}r(a)?i=oe([u]):o(a.fns)&&s(a.merged)?(i=a).fns.push(u):i=oe([a,u]),i.merged=!0,t[e]=i}function ue(t,e,n,i,r){if(o(e)){if(b(e,n))return t[n]=e[n],r||delete e[n],!0;if(b(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function le(t){return a(t)?[gt(t)]:Array.isArray(t)?function t(e,n){var i,u,l,c,h=[];for(i=0;i<e.length;i++)r(u=e[i])||"boolean"==typeof u||(c=h[l=h.length-1],Array.isArray(u)?u.length>0&&(ce((u=t(u,(n||"")+"_"+i))[0])&&ce(c)&&(h[l]=gt(c.text+u[0].text),u.shift()),h.push.apply(h,u)):a(u)?ce(c)?h[l]=gt(c.text+u):""!==u&&h.push(gt(u)):ce(u)&&ce(c)?h[l]=gt(c.text+u.text):(s(e._isVList)&&o(u.tag)&&r(u.key)&&o(n)&&(u.key="__vlist"+n+"_"+i+"__"),h.push(u)));return h}(t):void 0}function ce(t){return o(t)&&o(t.text)&&!1===t.isComment}function he(t,e){if(t){for(var n=Object.create(null),i=ut?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){for(var s=t[o].from,a=e;a;){if(a._provided&&b(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a&&"default"in t[o]){var u=t[o].default;n[o]="function"==typeof u?u.call(e):u}}}return n}}function fe(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var o=t[i],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,u=n[a]||(n[a]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var l in n)n[l].every(de)&&delete n[l];return n}function de(t){return t.isComment&&!t.asyncFactory||" "===t.text}function pe(t,e,n){var r,o=Object.keys(e).length>0,s=t?!!t.$stable:!o,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&n&&n!==i&&a===n.$key&&!o&&!n.$hasNormal)return n;for(var u in r={},t)t[u]&&"$"!==u[0]&&(r[u]=me(e,u,t[u]))}else r={};for(var l in e)l in r||(r[l]=_e(e,l));return t&&Object.isExtensible(t)&&(t._normalized=r),H(r,"$stable",s),H(r,"$key",a),H(r,"$hasNormal",o),r}function me(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:le(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function _e(t,e){return function(){return t[e]}}function ve(t,e){var n,i,r,s,a;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(u(t))if(ut&&t[Symbol.iterator]){n=[];for(var l=t[Symbol.iterator](),c=l.next();!c.done;)n.push(e(c.value,n.length)),c=l.next()}else for(s=Object.keys(t),n=new Array(s.length),i=0,r=s.length;i<r;i++)a=s[i],n[i]=e(t[a],a,i);return o(n)||(n=[]),n._isVList=!0,n}function ge(t,e,n,i){var r,o=this.$scopedSlots[t];o?(n=n||{},i&&(n=O(O({},i),n)),r=o(n)||e):r=this.$slots[t]||e;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},r):r}function ye(t){return Dt(this.$options,"filters",t)||M}function be(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function xe(t,e,n,i,r){var o=B.keyCodes[e]||n;return r&&i&&!B.keyCodes[e]?be(r,i):o?be(o,t):i?S(i)!==e:void 0}function we(t,e,n,i,r){if(n&&u(n)){var o;Array.isArray(n)&&(n=L(n));var s=function(s){if("class"===s||"style"===s||v(s))o=t;else{var a=t.attrs&&t.attrs.type;o=i||B.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=T(s),l=S(s);u in o||l in o||(o[s]=n[s],r&&((t.on||(t.on={}))["update:"+s]=function(t){n[s]=t}))};for(var a in n)s(a)}return t}function Te(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(Ee(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),i)}function Ae(t,e,n){return Ee(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ee(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&Se(t[i],e+"_"+i,n);else Se(t,e,n)}function Se(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function ke(t,e){if(e&&c(e)){var n=t.on=t.on?O({},t.on):{};for(var i in e){var r=n[i],o=e[i];n[i]=r?[].concat(r,o):o}}return t}function Ce(t,e,n,i){e=e||{$stable:!n};for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?Ce(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return i&&(e.$key=i),e}function Oe(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"==typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Le(t,e){return"string"==typeof t?e+t:t}function Pe(t){t._o=Ae,t._n=p,t._s=d,t._l=ve,t._t=ge,t._q=I,t._i=N,t._m=Te,t._f=ye,t._k=xe,t._b=we,t._v=gt,t._e=vt,t._u=Ce,t._g=ke,t._d=Oe,t._p=Le}function Re(t,e,n,r,o){var a,u=this,l=o.options;b(r,"_uid")?(a=Object.create(r))._original=r:(a=r,r=r._original);var c=s(l._compiled),h=!c;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||i,this.injections=he(l.inject,r),this.slots=function(){return u.$slots||pe(t.scopedSlots,u.$slots=fe(n,r)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return pe(t.scopedSlots,this.slots())}}),c&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=pe(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,i){var o=Ue(a,t,e,n,i,h);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=r),o}:this._c=function(t,e,n,i){return Ue(a,t,e,n,i,h)}}function Me(t,e,n,i,r){var o=yt(t);return o.fnContext=n,o.fnOptions=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Ie(t,e){for(var n in e)t[T(n)]=e[n]}Pe(Re.prototype);var Ne={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Ne.prepatch(n,n)}else(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:Ke},i=t.data.inlineTemplate;return o(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}(t)).$mount(e?t.elm:void 0,e)},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,o){var s=r.data.scopedSlots,a=t.$scopedSlots,u=!!(s&&!s.$stable||a!==i&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key),l=!!(o||t.$options._renderChildren||u);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o,t.$attrs=r.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){At(!1);for(var c=t._props,h=t.$options._propKeys||[],f=0;f<h.length;f++){var d=h[f],p=t.$options.props;c[d]=jt(d,p,e,t)}At(!0),t.$options.propsData=e}n=n||i;var m=t.$options._parentListeners;t.$options._parentListeners=n,Ye(t,n,m),l&&(t.$slots=fe(o,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,en(i,"mounted")),t.data.keepAlive&&(n._isMounted?((e=i)._inactive=!1,rn.push(e)):tn(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,Qe(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);en(e,"deactivated")}}(e,!0):e.$destroy())}},ze=Object.keys(Ne);function De(t,e,n,a,l){if(!r(t)){var c=n.$options._base;if(u(t)&&(t=c.extend(t)),"function"==typeof t){var h;if(r(t.cid)&&void 0===(t=function(t,e){if(s(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var n=$e;if(n&&o(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),s(t.loading)&&o(t.loadingComp))return t.loadingComp;if(n&&!o(t.owners)){var i=t.owners=[n],a=!0,l=null,c=null;n.$on("hook:destroyed",function(){return g(i,n)});var h=function(t){for(var e=0,n=i.length;e<n;e++)i[e].$forceUpdate();t&&(i.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},d=z(function(n){t.resolved=We(n,e),a?i.length=0:h(!0)}),p=z(function(e){o(t.errorComp)&&(t.error=!0,h(!0))}),m=t(d,p);return u(m)&&(f(m)?r(t.resolved)&&m.then(d,p):f(m.component)&&(m.component.then(d,p),o(m.error)&&(t.errorComp=We(m.error,e)),o(m.loading)&&(t.loadingComp=We(m.loading,e),0===m.delay?t.loading=!0:l=setTimeout(function(){l=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,h(!1))},m.delay||200)),o(m.timeout)&&(c=setTimeout(function(){c=null,r(t.resolved)&&p(null)},m.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}(h=t,c)))return function(t,e,n,i,r){var o=vt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:i,tag:r},o}(h,e,n,a,l);e=e||{},Tn(t),o(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var r=e.on||(e.on={}),s=r[i],a=e.model.callback;o(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(r[i]=[a].concat(s)):r[i]=a}(t.options,e);var d=function(t,e,n){var i=e.options.props;if(!r(i)){var s={},a=t.attrs,u=t.props;if(o(a)||o(u))for(var l in i){var c=S(l);ue(s,u,l,c,!0)||ue(s,a,l,c,!1)}return s}}(e,t);if(s(t.options.functional))return function(t,e,n,r,s){var a=t.options,u={},l=a.props;if(o(l))for(var c in l)u[c]=jt(c,l,e||i);else o(n.attrs)&&Ie(u,n.attrs),o(n.props)&&Ie(u,n.props);var h=new Re(n,u,s,r,t),f=a.render.call(null,h._c,h);if(f instanceof mt)return Me(f,n,h.parent,a);if(Array.isArray(f)){for(var d=le(f)||[],p=new Array(d.length),m=0;m<d.length;m++)p[m]=Me(d[m],n,h.parent,a);return p}}(t,d,e,n,a);var p=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<ze.length;n++){var i=ze[n],r=e[i],o=Ne[i];r===o||r&&r._merged||(e[i]=r?je(o,r):o)}}(e);var _=t.options.name||l;return new mt("vue-component-"+t.cid+(_?"-"+_:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:d,listeners:p,tag:l,children:a},h)}}}function je(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}var Fe=1,Be=2;function Ue(t,e,n,i,l,c){return(Array.isArray(n)||a(n))&&(l=i,i=n,n=void 0),s(c)&&(l=Be),function(t,e,n,i,a){if(o(n)&&o(n.__ob__))return vt();if(o(n)&&o(n.is)&&(e=n.is),!e)return vt();var l,c,h;(Array.isArray(i)&&"function"==typeof i[0]&&((n=n||{}).scopedSlots={default:i[0]},i.length=0),a===Be?i=le(i):a===Fe&&(i=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(i)),"string"==typeof e)?(c=t.$vnode&&t.$vnode.ns||B.getTagNamespace(e),l=B.isReservedTag(e)?new mt(B.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!o(h=Dt(t.$options,"components",e))?new mt(e,n,i,void 0,void 0,t):De(h,n,t,i,e)):l=De(e,n,t,i);return Array.isArray(l)?l:o(l)?(o(c)&&function t(e,n,i){if(e.ns=n,"foreignObject"===e.tag&&(n=void 0,i=!0),o(e.children))for(var a=0,u=e.children.length;a<u;a++){var l=e.children[a];o(l.tag)&&(r(l.ns)||s(i)&&"svg"!==l.tag)&&t(l,n,i)}}(l,c),o(n)&&function(t){u(t.style)&&ie(t.style),u(t.class)&&ie(t.class)}(n),l):vt()}(t,e,n,i,l)}var He,$e=null;function We(t,e){return(t.__esModule||ut&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function Ge(t){return t.isComment&&t.asyncFactory}function qe(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&(o(n.componentOptions)||Ge(n)))return n}}function Ve(t,e){He.$on(t,e)}function Ze(t,e){He.$off(t,e)}function Xe(t,e){var n=He;return function i(){null!==e.apply(null,arguments)&&n.$off(t,i)}}function Ye(t,e,n){He=t,se(e,n||{},Ve,Ze,Xe,t),He=void 0}var Ke=null;function Je(t){var e=Ke;return Ke=t,function(){Ke=e}}function Qe(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function tn(t,e){if(e){if(t._directInactive=!1,Qe(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)tn(t.$children[n]);en(t,"activated")}}function en(t,e){dt();var n=t.$options[e],i=e+" hook";if(n)for(var r=0,o=n.length;r<o;r++)$t(n[r],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),pt()}var nn=[],rn=[],on={},sn=!1,an=!1,un=0,ln=0,cn=Date.now;if(q&&!Y){var hn=window.performance;hn&&"function"==typeof hn.now&&cn()>document.createEvent("Event").timeStamp&&(cn=function(){return hn.now()})}function fn(){var t,e;for(ln=cn(),an=!0,nn.sort(function(t,e){return t.id-e.id}),un=0;un<nn.length;un++)(t=nn[un]).before&&t.before(),e=t.id,on[e]=null,t.run();var n=rn.slice(),i=nn.slice();un=nn.length=rn.length=0,on={},sn=an=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,tn(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&en(i,"updated")}}(i),ot&&B.devtools&&ot.emit("flush")}var dn=0,pn=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++dn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new at,this.newDepIds=new at,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!W.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};pn.prototype.get=function(){var t;dt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Ht(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ie(t),pt(),this.cleanupDeps()}return t},pn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},pn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},pn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==on[e]){if(on[e]=!0,an){for(var n=nn.length-1;n>un&&nn[n].id>t.id;)n--;nn.splice(n+1,0,t)}else nn.push(t);sn||(sn=!0,ee(fn))}}(this)},pn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Ht(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},pn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},pn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},pn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var mn={enumerable:!0,configurable:!0,get:P,set:P};function _n(t,e,n){mn.get=function(){return this[e][n]},mn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,mn)}var vn={lazy:!0};function gn(t,e,n){var i=!rt();"function"==typeof n?(mn.get=i?yn(e):bn(n),mn.set=P):(mn.get=n.get?i&&!1!==n.cache?yn(e):bn(n.get):P,mn.set=n.set||P),Object.defineProperty(t,e,mn)}function yn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ht.target&&e.depend(),e.value}}function bn(t){return function(){return t.call(this,this)}}function xn(t,e,n,i){return c(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}var wn=0;function Tn(t){var e=t.options;if(t.super){var n=Tn(t.super);if(n!==t.superOptions){t.superOptions=n;var i=function(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}(t);i&&O(t.extendOptions,i),(e=t.options=zt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function An(t){this._init(t)}function En(t){return t&&(t.Ctor.options.name||t.tag)}function Sn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:(n=t,"[object RegExp]"===l.call(n)&&t.test(e));var n}function kn(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var o in n){var s=n[o];if(s){var a=En(s.componentOptions);a&&!e(a)&&Cn(n,o,i,r)}}}function Cn(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,g(n,e)}An.prototype._init=function(t){var e=this;e._uid=wn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=zt(Tn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ye(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=fe(e._renderChildren,r),t.$scopedSlots=i,t._c=function(e,n,i,r){return Ue(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return Ue(t,e,n,i,r,!0)};var o=n&&n.data;kt(t,"$attrs",o&&o.attrs||i,null,!0),kt(t,"$listeners",e._parentListeners||i,null,!0)}(e),en(e,"beforeCreate"),function(t){var e=he(t.$options.inject,t);e&&(At(!1),Object.keys(e).forEach(function(n){kt(t,n,e[n])}),At(!0))}(e),function(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[];t.$parent&&At(!1);var o=function(o){r.push(o);var s=jt(o,e,n,t);kt(i,o,s),o in t||_n(t,"_props",o)};for(var s in e)o(s);At(!0)}(t,e.props),e.methods&&function(t,e){for(var n in t.$options.props,e)t[n]="function"!=typeof e[n]?P:k(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;c(e=t._data="function"==typeof e?function(t,e){dt();try{return t.call(e,e)}catch(t){return Ht(t,e,"data()"),{}}finally{pt()}}(e,t):e||{})||(e={});for(var n,i=Object.keys(e),r=t.$options.props,o=(t.$options.methods,i.length);o--;){var s=i[o];r&&b(r,s)||36!==(n=(s+"").charCodeAt(0))&&95!==n&&_n(t,"_data",s)}St(e,!0)}(t):St(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),i=rt();for(var r in e){var o=e[r],s="function"==typeof o?o:o.get;i||(n[r]=new pn(t,s||P,P,vn)),r in t||gn(t,r,o)}}(t,e.computed),e.watch&&e.watch!==et&&function(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)xn(t,n,i[r]);else xn(t,n,i)}}(t,e.watch)}(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),en(e,"created"),e.$options.el&&e.$mount(e.$options.el)},function(t){Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",{get:function(){return this._props}}),t.prototype.$set=Ct,t.prototype.$delete=Ot,t.prototype.$watch=function(t,e,n){if(c(e))return xn(this,t,e,n);(n=n||{}).user=!0;var i=new pn(this,t,e,n);if(n.immediate)try{e.call(this,i.value)}catch(t){Ht(t,this,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(An),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var o,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;for(var a=s.length;a--;)if((o=s[a])===e||o.fn===e){s.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this._events[t];if(e){e=e.length>1?C(e):e;for(var n=C(arguments,1),i='event handler for "'+t+'"',r=0,o=e.length;r<o;r++)$t(e[r],this,n,this,i)}return this}}(An),function(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,o=Je(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){en(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||g(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),en(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(An),function(t){Pe(t.prototype),t.prototype.$nextTick=function(t){return ee(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;r&&(e.$scopedSlots=pe(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{$e=e,t=i.call(e._renderProxy,e.$createElement)}catch(n){Ht(n,e,"render"),t=e._vnode}finally{$e=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof mt||(t=vt()),t.parent=r,t}}(An);var On=[String,RegExp,Array],Ln={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:On,exclude:On,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Cn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){kn(t,function(t){return Sn(e,t)})}),this.$watch("exclude",function(e){kn(t,function(t){return!Sn(e,t)})})},render:function(){var t=this.$slots.default,e=qe(t),n=e&&e.componentOptions;if(n){var i=En(n),r=this.include,o=this.exclude;if(r&&(!i||!Sn(r,i))||o&&i&&Sn(o,i))return e;var s=this.cache,a=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;s[u]?(e.componentInstance=s[u].componentInstance,g(a,u),a.push(u)):(s[u]=e,a.push(u),this.max&&a.length>parseInt(this.max)&&Cn(s,a[0],a,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return B}};Object.defineProperty(t,"config",e),t.util={warn:lt,extend:O,mergeOptions:zt,defineReactive:kt},t.set=Ct,t.delete=Ot,t.nextTick=ee,t.observable=function(t){return St(t),t},t.options=Object.create(null),j.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,O(t.options.components,Ln),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=C(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=zt(this.options,t),this}}(t),function(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var o=t.name||n.options.name,s=function(t){this._init(t)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=e++,s.options=zt(n.options,t),s.super=n,s.options.props&&function(t){var e=t.options.props;for(var n in e)_n(t.prototype,"_props",n)}(s),s.options.computed&&function(t){var e=t.options.computed;for(var n in e)gn(t.prototype,n,e[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,j.forEach(function(t){s[t]=n[t]}),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=O({},s.options),r[i]=s,s}}(t),function(t){j.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&c(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}(t)}(An),Object.defineProperty(An.prototype,"$isServer",{get:rt}),Object.defineProperty(An.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(An,"FunctionalRenderContext",{value:Re}),An.version="2.6.10";var Pn=m("style,class"),Rn=m("input,textarea,option,select,progress"),Mn=function(t,e,n){return"value"===n&&Rn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},In=m("contenteditable,draggable,spellcheck"),Nn=m("events,caret,typing,plaintext-only"),zn=function(t,e){return Un(e)||"false"===e?"false":"contenteditable"===t&&Nn(e)?e:"true"},Dn=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),jn="http://www.w3.org/1999/xlink",Fn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Bn=function(t){return Fn(t)?t.slice(6,t.length):""},Un=function(t){return null==t||!1===t};function Hn(t,e){return{staticClass:$n(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function $n(t,e){return t?e?t+" "+e:t:e||""}function Wn(t){return Array.isArray(t)?function(t){for(var e,n="",i=0,r=t.length;i<r;i++)o(e=Wn(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):u(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Gn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},qn=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Vn=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Zn=function(t){return qn(t)||Vn(t)};function Xn(t){return Vn(t)?"svg":"math"===t?"math":void 0}var Yn=Object.create(null),Kn=m("text,number,password,search,email,tel,url");function Jn(t){return"string"==typeof t?document.querySelector(t)||document.createElement("div"):t}var Qn=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(t,e){return document.createElementNS(Gn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),ti={create:function(t,e){ei(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ei(t,!0),ei(e))},destroy:function(t){ei(t,!0)}};function ei(t,e){var n=t.data.ref;if(o(n)){var i=t.context,r=t.componentInstance||t.elm,s=i.$refs;e?Array.isArray(s[n])?g(s[n],r):s[n]===r&&(s[n]=void 0):t.data.refInFor?Array.isArray(s[n])?s[n].indexOf(r)<0&&s[n].push(r):s[n]=[r]:s[n]=r}}var ni=new mt("",{},[]),ii=["create","activate","update","remove","destroy"];function ri(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,i=o(n=t.data)&&o(n=n.attrs)&&n.type,r=o(n=e.data)&&o(n=n.attrs)&&n.type;return i===r||Kn(i)&&Kn(r)}(t,e)||s(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function oi(t,e,n){var i,r,s={};for(i=e;i<=n;++i)o(r=t[i].key)&&(s[r]=i);return s}var si={create:ai,update:ai,destroy:function(t){ai(t,ni)}};function ai(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,i,r,o=t===ni,s=e===ni,a=li(t.data.directives,t.context),u=li(e.data.directives,e.context),l=[],c=[];for(n in u)i=a[n],r=u[n],i?(r.oldValue=i.value,r.oldArg=i.arg,hi(r,"update",e,t),r.def&&r.def.componentUpdated&&c.push(r)):(hi(r,"bind",e,t),r.def&&r.def.inserted&&l.push(r));if(l.length){var h=function(){for(var n=0;n<l.length;n++)hi(l[n],"inserted",e,t)};o?ae(e,"insert",h):h()}if(c.length&&ae(e,"postpatch",function(){for(var n=0;n<c.length;n++)hi(c[n],"componentUpdated",e,t)}),!o)for(n in a)u[n]||hi(a[n],"unbind",t,t,s)}(t,e)}var ui=Object.create(null);function li(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)(i=t[n]).modifiers||(i.modifiers=ui),r[ci(i)]=i,i.def=Dt(e.$options,"directives",i.name);return r}function ci(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function hi(t,e,n,i,r){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,i,r)}catch(i){Ht(i,n.context,"directive "+t.name+" "+e+" hook")}}var fi=[ti,si];function di(t,e){var n=e.componentOptions;if(!(o(n)&&!1===n.Ctor.options.inheritAttrs||r(t.data.attrs)&&r(e.data.attrs))){var i,s,a=e.elm,u=t.data.attrs||{},l=e.data.attrs||{};for(i in o(l.__ob__)&&(l=e.data.attrs=O({},l)),l)s=l[i],u[i]!==s&&pi(a,i,s);for(i in(Y||J)&&l.value!==u.value&&pi(a,"value",l.value),u)r(l[i])&&(Fn(i)?a.removeAttributeNS(jn,Bn(i)):In(i)||a.removeAttribute(i))}}function pi(t,e,n){t.tagName.indexOf("-")>-1?mi(t,e,n):Dn(e)?Un(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):In(e)?t.setAttribute(e,zn(e,n)):Fn(e)?Un(n)?t.removeAttributeNS(jn,Bn(e)):t.setAttributeNS(jn,e,n):mi(t,e,n)}function mi(t,e,n){if(Un(n))t.removeAttribute(e);else{if(Y&&!K&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var _i={create:di,update:di};function vi(t,e){var n=e.elm,i=e.data,s=t.data;if(!(r(i.staticClass)&&r(i.class)&&(r(s)||r(s.staticClass)&&r(s.class)))){var a=function(t){for(var e=t.data,n=t,i=t;o(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=Hn(i.data,e));for(;o(n=n.parent);)n&&n.data&&(e=Hn(e,n.data));return function(t,e){return o(t)||o(e)?$n(t,Wn(e)):""}(e.staticClass,e.class)}(e),u=n._transitionClasses;o(u)&&(a=$n(a,Wn(u))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var gi,yi,bi,xi,wi,Ti,Ai={create:vi,update:vi},Ei=/[\w).+\-_$\]]/;function Si(t){var e,n,i,r,o,s=!1,a=!1,u=!1,l=!1,c=0,h=0,f=0,d=0;for(i=0;i<t.length;i++)if(n=e,e=t.charCodeAt(i),s)39===e&&92!==n&&(s=!1);else if(a)34===e&&92!==n&&(a=!1);else if(u)96===e&&92!==n&&(u=!1);else if(l)47===e&&92!==n&&(l=!1);else if(124!==e||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||c||h||f){switch(e){case 34:a=!0;break;case 39:s=!0;break;case 96:u=!0;break;case 40:f++;break;case 41:f--;break;case 91:h++;break;case 93:h--;break;case 123:c++;break;case 125:c--}if(47===e){for(var p=i-1,m=void 0;p>=0&&" "===(m=t.charAt(p));p--);m&&Ei.test(m)||(l=!0)}}else void 0===r?(d=i+1,r=t.slice(0,i).trim()):_();function _(){(o||(o=[])).push(t.slice(d,i).trim()),d=i+1}if(void 0===r?r=t.slice(0,i).trim():0!==d&&_(),o)for(i=0;i<o.length;i++)r=ki(r,o[i]);return r}function ki(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var i=e.slice(0,n),r=e.slice(n+1);return'_f("'+i+'")('+t+(")"!==r?","+r:r)}function Ci(t,e){console.error("[Vue compiler]: "+t)}function Oi(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function Li(t,e,n,i,r){(t.props||(t.props=[])).push(Fi({name:e,value:n,dynamic:r},i)),t.plain=!1}function Pi(t,e,n,i,r){(r?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Fi({name:e,value:n,dynamic:r},i)),t.plain=!1}function Ri(t,e,n,i){t.attrsMap[e]=n,t.attrsList.push(Fi({name:e,value:n},i))}function Mi(t,e,n,i,r,o,s,a){(t.directives||(t.directives=[])).push(Fi({name:e,rawName:n,value:i,arg:r,isDynamicArg:o,modifiers:s},a)),t.plain=!1}function Ii(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function Ni(t,e,n,r,o,s,a,u){var l;(r=r||i).right?u?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete r.right):r.middle&&(u?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),r.capture&&(delete r.capture,e=Ii("!",e,u)),r.once&&(delete r.once,e=Ii("~",e,u)),r.passive&&(delete r.passive,e=Ii("&",e,u)),r.native?(delete r.native,l=t.nativeEvents||(t.nativeEvents={})):l=t.events||(t.events={});var c=Fi({value:n.trim(),dynamic:u},a);r!==i&&(c.modifiers=r);var h=l[e];Array.isArray(h)?o?h.unshift(c):h.push(c):l[e]=h?o?[c,h]:[h,c]:c,t.plain=!1}function zi(t,e,n){var i=Di(t,":"+e)||Di(t,"v-bind:"+e);if(null!=i)return Si(i);if(!1!==n){var r=Di(t,e);if(null!=r)return JSON.stringify(r)}}function Di(t,e,n){var i;if(null!=(i=t.attrsMap[e]))for(var r=t.attrsList,o=0,s=r.length;o<s;o++)if(r[o].name===e){r.splice(o,1);break}return n&&delete t.attrsMap[e],i}function ji(t,e){for(var n=t.attrsList,i=0,r=n.length;i<r;i++){var o=n[i];if(e.test(o.name))return n.splice(i,1),o}}function Fi(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Bi(t,e,n){var i=n||{},r=i.number,o="$$v";i.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(o="_n("+o+")");var s=Ui(e,o);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+s+"}"}}function Ui(t,e){var n=function(t){if(t=t.trim(),gi=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<gi-1)return(xi=t.lastIndexOf("."))>-1?{exp:t.slice(0,xi),key:'"'+t.slice(xi+1)+'"'}:{exp:t,key:null};for(yi=t,xi=wi=Ti=0;!$i();)Wi(bi=Hi())?qi(bi):91===bi&&Gi(bi);return{exp:t.slice(0,wi),key:t.slice(wi+1,Ti)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Hi(){return yi.charCodeAt(++xi)}function $i(){return xi>=gi}function Wi(t){return 34===t||39===t}function Gi(t){var e=1;for(wi=xi;!$i();)if(Wi(t=Hi()))qi(t);else if(91===t&&e++,93===t&&e--,0===e){Ti=xi;break}}function qi(t){for(var e=t;!$i()&&(t=Hi())!==e;);}var Vi,Zi="__r",Xi="__c";function Yi(t,e,n){var i=Vi;return function r(){null!==e.apply(null,arguments)&&Qi(t,r,n,i)}}var Ki=Vt&&!(tt&&Number(tt[1])<=53);function Ji(t,e,n,i){if(Ki){var r=ln,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Vi.addEventListener(t,e,nt?{capture:n,passive:i}:n)}function Qi(t,e,n,i){(i||Vi).removeEventListener(t,e._wrapper||e,n)}function tr(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Vi=e.elm,function(t){if(o(t[Zi])){var e=Y?"change":"input";t[e]=[].concat(t[Zi],t[e]||[]),delete t[Zi]}o(t[Xi])&&(t.change=[].concat(t[Xi],t.change||[]),delete t[Xi])}(n),se(n,i,Ji,Qi,Yi,e.context),Vi=void 0}}var er,nr={create:tr,update:tr};function ir(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,i,s=e.elm,a=t.data.domProps||{},u=e.data.domProps||{};for(n in o(u.__ob__)&&(u=e.data.domProps=O({},u)),a)n in u||(s[n]="");for(n in u){if(i=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=i;var l=r(i)?"":String(i);rr(s,l)&&(s.value=l)}else if("innerHTML"===n&&Vn(s.tagName)&&r(s.innerHTML)){(er=er||document.createElement("div")).innerHTML="<svg>"+i+"</svg>";for(var c=er.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}else if(i!==a[n])try{s[n]=i}catch(t){}}}}function rr(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,i=t._vModifiers;if(o(i)){if(i.number)return p(n)!==p(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var or={create:ir,update:ir},sr=x(function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e});function ar(t){var e=ur(t.style);return t.staticStyle?O(t.staticStyle,e):e}function ur(t){return Array.isArray(t)?L(t):"string"==typeof t?sr(t):t}var lr,cr=/^--/,hr=/\s*!important$/,fr=function(t,e,n){if(cr.test(e))t.style.setProperty(e,n);else if(hr.test(n))t.style.setProperty(S(e),n.replace(hr,""),"important");else{var i=pr(e);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)t.style[i]=n[r];else t.style[i]=n}},dr=["Webkit","Moz","ms"],pr=x(function(t){if(lr=lr||document.createElement("div").style,"filter"!==(t=T(t))&&t in lr)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<dr.length;n++){var i=dr[n]+e;if(i in lr)return i}});function mr(t,e){var n=e.data,i=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var s,a,u=e.elm,l=i.staticStyle,c=i.normalizedStyle||i.style||{},h=l||c,f=ur(e.data.style)||{};e.data.normalizedStyle=o(f.__ob__)?O({},f):f;var d=function(t,e){for(var n,i={},r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=ar(r.data))&&O(i,n);(n=ar(t.data))&&O(i,n);for(var o=t;o=o.parent;)o.data&&(n=ar(o.data))&&O(i,n);return i}(e);for(a in h)r(d[a])&&fr(u,a,"");for(a in d)(s=d[a])!==h[a]&&fr(u,a,null==s?"":s)}}var _r={create:mr,update:mr},vr=/\s+/;function gr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(vr).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function yr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(vr).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function br(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&O(e,xr(t.name||"v")),O(e,t),e}return"string"==typeof t?xr(t):void 0}}var xr=x(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),wr=q&&!K,Tr="transition",Ar="animation",Er="transition",Sr="transitionend",kr="animation",Cr="animationend";wr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Er="WebkitTransition",Sr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(kr="WebkitAnimation",Cr="webkitAnimationEnd"));var Or=q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Lr(t){Or(function(){Or(t)})}function Pr(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),gr(t,e))}function Rr(t,e){t._transitionClasses&&g(t._transitionClasses,e),yr(t,e)}function Mr(t,e,n){var i=Nr(t,e),r=i.type,o=i.timeout,s=i.propCount;if(!r)return n();var a=r===Tr?Sr:Cr,u=0,l=function(){t.removeEventListener(a,c),n()},c=function(e){e.target===t&&++u>=s&&l()};setTimeout(function(){u<s&&l()},o+1),t.addEventListener(a,c)}var Ir=/\b(transform|all)(,|$)/;function Nr(t,e){var n,i=window.getComputedStyle(t),r=(i[Er+"Delay"]||"").split(", "),o=(i[Er+"Duration"]||"").split(", "),s=zr(r,o),a=(i[kr+"Delay"]||"").split(", "),u=(i[kr+"Duration"]||"").split(", "),l=zr(a,u),c=0,h=0;return e===Tr?s>0&&(n=Tr,c=s,h=o.length):e===Ar?l>0&&(n=Ar,c=l,h=u.length):h=(n=(c=Math.max(s,l))>0?s>l?Tr:Ar:null)?n===Tr?o.length:u.length:0,{type:n,timeout:c,propCount:h,hasTransform:n===Tr&&Ir.test(i[Er+"Property"])}}function zr(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Dr(e)+Dr(t[n])}))}function Dr(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function jr(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=br(t.data.transition);if(!r(i)&&!o(n._enterCb)&&1===n.nodeType){for(var s=i.css,a=i.type,l=i.enterClass,c=i.enterToClass,h=i.enterActiveClass,f=i.appearClass,d=i.appearToClass,m=i.appearActiveClass,_=i.beforeEnter,v=i.enter,g=i.afterEnter,y=i.enterCancelled,b=i.beforeAppear,x=i.appear,w=i.afterAppear,T=i.appearCancelled,A=i.duration,E=Ke,S=Ke.$vnode;S&&S.parent;)E=S.context,S=S.parent;var k=!E._isMounted||!t.isRootInsert;if(!k||x||""===x){var C=k&&f?f:l,O=k&&m?m:h,L=k&&d?d:c,P=k&&b||_,R=k&&"function"==typeof x?x:v,M=k&&w||g,I=k&&T||y,N=p(u(A)?A.enter:A),D=!1!==s&&!K,j=Ur(R),F=n._enterCb=z(function(){D&&(Rr(n,L),Rr(n,O)),F.cancelled?(D&&Rr(n,C),I&&I(n)):M&&M(n),n._enterCb=null});t.data.show||ae(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),R&&R(n,F)}),P&&P(n),D&&(Pr(n,C),Pr(n,O),Lr(function(){Rr(n,C),F.cancelled||(Pr(n,L),j||(Br(N)?setTimeout(F,N):Mr(n,a,F)))})),t.data.show&&(e&&e(),R&&R(n,F)),D||j||F()}}}function Fr(t,e){var n=t.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=br(t.data.transition);if(r(i)||1!==n.nodeType)return e();if(!o(n._leaveCb)){var s=i.css,a=i.type,l=i.leaveClass,c=i.leaveToClass,h=i.leaveActiveClass,f=i.beforeLeave,d=i.leave,m=i.afterLeave,_=i.leaveCancelled,v=i.delayLeave,g=i.duration,y=!1!==s&&!K,b=Ur(d),x=p(u(g)?g.leave:g),w=n._leaveCb=z(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(Rr(n,c),Rr(n,h)),w.cancelled?(y&&Rr(n,l),_&&_(n)):(e(),m&&m(n)),n._leaveCb=null});v?v(T):T()}function T(){w.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),y&&(Pr(n,l),Pr(n,h),Lr(function(){Rr(n,l),w.cancelled||(Pr(n,c),b||(Br(x)?setTimeout(w,x):Mr(n,a,w)))})),d&&d(n,w),y||b||w())}}function Br(t){return"number"==typeof t&&!isNaN(t)}function Ur(t){if(r(t))return!1;var e=t.fns;return o(e)?Ur(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Hr(t,e){!0!==e.data.show&&jr(e)}var $r=function(t){var e,n,i={},u=t.modules,l=t.nodeOps;for(e=0;e<ii.length;++e)for(i[ii[e]]=[],n=0;n<u.length;++n)o(u[n][ii[e]])&&i[ii[e]].push(u[n][ii[e]]);function c(t){var e=l.parentNode(t);o(e)&&l.removeChild(e,t)}function h(t,e,n,r,a,u,c){if(o(t.elm)&&o(u)&&(t=u[c]=yt(t)),t.isRootInsert=!a,!function(t,e,n,r){var a=t.data;if(o(a)){var u=o(t.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(t,!1),o(t.componentInstance))return f(t,e),d(n,t.elm,r),s(u)&&function(t,e,n,r){for(var s,a=t;a.componentInstance;)if(o(s=(a=a.componentInstance._vnode).data)&&o(s=s.transition)){for(s=0;s<i.activate.length;++s)i.activate[s](ni,a);e.push(a);break}d(n,t.elm,r)}(t,e,n,r),!0}}(t,e,n,r)){var h=t.data,m=t.children,_=t.tag;o(_)?(t.elm=t.ns?l.createElementNS(t.ns,_):l.createElement(_,t),g(t),p(t,m,e),o(h)&&v(t,e),d(n,t.elm,r)):s(t.isComment)?(t.elm=l.createComment(t.text),d(n,t.elm,r)):(t.elm=l.createTextNode(t.text),d(n,t.elm,r))}}function f(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,_(t)?(v(t,e),g(t)):(ei(t),e.push(t))}function d(t,e,n){o(t)&&(o(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var i=0;i<e.length;++i)h(e[i],n,t.elm,null,!0,e,i);else a(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function _(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return o(t.tag)}function v(t,n){for(var r=0;r<i.create.length;++r)i.create[r](ni,t);o(e=t.data.hook)&&(o(e.create)&&e.create(ni,t),o(e.insert)&&n.push(t))}function g(t){var e;if(o(e=t.fnScopeId))l.setStyleScope(t.elm,e);else for(var n=t;n;)o(e=n.context)&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent;o(e=Ke)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function y(t,e,n,i,r,o){for(;i<=r;++i)h(n[i],o,t,e,!1,n,i)}function b(t){var e,n,r=t.data;if(o(r))for(o(e=r.hook)&&o(e=e.destroy)&&e(t),e=0;e<i.destroy.length;++e)i.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function x(t,e,n,i){for(;n<=i;++n){var r=e[n];o(r)&&(o(r.tag)?(w(r),b(r)):c(r.elm))}}function w(t,e){if(o(e)||o(t.data)){var n,r=i.remove.length+1;for(o(e)?e.listeners+=r:e=function(t,e){function n(){0==--n.listeners&&c(t)}return n.listeners=e,n}(t.elm,r),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&w(n,e),n=0;n<i.remove.length;++n)i.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else c(t.elm)}function T(t,e,n,i){for(var r=n;r<i;r++){var s=e[r];if(o(s)&&ri(t,s))return r}}function A(t,e,n,a,u,c){if(t!==e){o(e.elm)&&o(a)&&(e=a[u]=yt(e));var f=e.elm=t.elm;if(s(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?k(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,p=e.data;o(p)&&o(d=p.hook)&&o(d=d.prepatch)&&d(t,e);var m=t.children,v=e.children;if(o(p)&&_(e)){for(d=0;d<i.update.length;++d)i.update[d](t,e);o(d=p.hook)&&o(d=d.update)&&d(t,e)}r(e.text)?o(m)&&o(v)?m!==v&&function(t,e,n,i,s){for(var a,u,c,f=0,d=0,p=e.length-1,m=e[0],_=e[p],v=n.length-1,g=n[0],b=n[v],w=!s;f<=p&&d<=v;)r(m)?m=e[++f]:r(_)?_=e[--p]:ri(m,g)?(A(m,g,i,n,d),m=e[++f],g=n[++d]):ri(_,b)?(A(_,b,i,n,v),_=e[--p],b=n[--v]):ri(m,b)?(A(m,b,i,n,v),w&&l.insertBefore(t,m.elm,l.nextSibling(_.elm)),m=e[++f],b=n[--v]):ri(_,g)?(A(_,g,i,n,d),w&&l.insertBefore(t,_.elm,m.elm),_=e[--p],g=n[++d]):(r(a)&&(a=oi(e,f,p)),r(u=o(g.key)?a[g.key]:T(g,e,f,p))?h(g,i,t,m.elm,!1,n,d):ri(c=e[u],g)?(A(c,g,i,n,d),e[u]=void 0,w&&l.insertBefore(t,c.elm,m.elm)):h(g,i,t,m.elm,!1,n,d),g=n[++d]);f>p?y(t,r(n[v+1])?null:n[v+1].elm,n,d,v,i):d>v&&x(0,e,f,p)}(f,m,v,n,c):o(v)?(o(t.text)&&l.setTextContent(f,""),y(f,null,v,0,v.length-1,n)):o(m)?x(0,m,0,m.length-1):o(t.text)&&l.setTextContent(f,""):t.text!==e.text&&l.setTextContent(f,e.text),o(p)&&o(d=p.hook)&&o(d=d.postpatch)&&d(t,e)}}}function E(t,e,n){if(s(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var S=m("attrs,class,staticClass,staticStyle,key");function k(t,e,n,i){var r,a=e.tag,u=e.data,l=e.children;if(i=i||u&&u.pre,e.elm=t,s(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(u)&&(o(r=u.hook)&&o(r=r.init)&&r(e,!0),o(r=e.componentInstance)))return f(e,n),!0;if(o(a)){if(o(l))if(t.hasChildNodes())if(o(r=u)&&o(r=r.domProps)&&o(r=r.innerHTML)){if(r!==t.innerHTML)return!1}else{for(var c=!0,h=t.firstChild,d=0;d<l.length;d++){if(!h||!k(h,l[d],n,i)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else p(e,l,n);if(o(u)){var m=!1;for(var _ in u)if(!S(_)){m=!0,v(e,n);break}!m&&u.class&&ie(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!r(e)){var u,c=!1,f=[];if(r(t))c=!0,h(e,f);else{var d=o(t.nodeType);if(!d&&ri(t,e))A(t,e,f,null,null,a);else{if(d){if(1===t.nodeType&&t.hasAttribute(D)&&(t.removeAttribute(D),n=!0),s(n)&&k(t,e,f))return E(e,f,!0),t;u=t,t=new mt(l.tagName(u).toLowerCase(),{},[],void 0,u)}var p=t.elm,m=l.parentNode(p);if(h(e,f,p._leaveCb?null:m,l.nextSibling(p)),o(e.parent))for(var v=e.parent,g=_(e);v;){for(var y=0;y<i.destroy.length;++y)i.destroy[y](v);if(v.elm=e.elm,g){for(var w=0;w<i.create.length;++w)i.create[w](ni,v);var T=v.data.hook.insert;if(T.merged)for(var S=1;S<T.fns.length;S++)T.fns[S]()}else ei(v);v=v.parent}o(m)?x(0,[t],0,0):o(t.tag)&&b(t)}}return E(e,f,c),e.elm}o(t)&&b(t)}}({nodeOps:Qn,modules:[_i,Ai,nr,or,_r,q?{create:Hr,activate:Hr,remove:function(t,e){!0!==t.data.show?Fr(t,e):e()}}:{}].concat(fi)});K&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Kr(t,"input")});var Wr={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ae(n,"postpatch",function(){Wr.componentUpdated(t,e,n)}):Gr(t,e,n.context),t._vOptions=[].map.call(t.options,Zr)):("textarea"===n.tag||Kn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Xr),t.addEventListener("compositionend",Yr),t.addEventListener("change",Yr),K&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Gr(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,Zr);r.some(function(t,e){return!I(t,i[e])})&&(t.multiple?e.value.some(function(t){return Vr(t,r)}):e.value!==e.oldValue&&Vr(e.value,r))&&Kr(t,"change")}}};function Gr(t,e,n){qr(t,e,n),(Y||J)&&setTimeout(function(){qr(t,e,n)},0)}function qr(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var o,s,a=0,u=t.options.length;a<u;a++)if(s=t.options[a],r)o=N(i,Zr(s))>-1,s.selected!==o&&(s.selected=o);else if(I(Zr(s),i))return void(t.selectedIndex!==a&&(t.selectedIndex=a));r||(t.selectedIndex=-1)}}function Vr(t,e){return e.every(function(e){return!I(e,t)})}function Zr(t){return"_value"in t?t._value:t.value}function Xr(t){t.target.composing=!0}function Yr(t){t.target.composing&&(t.target.composing=!1,Kr(t.target,"input"))}function Kr(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Jr(t){return!t.componentInstance||t.data&&t.data.transition?t:Jr(t.componentInstance._vnode)}var Qr={model:Wr,show:{bind:function(t,e,n){var i=e.value,r=(n=Jr(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,jr(n,function(){t.style.display=o})):t.style.display=i?o:"none"},update:function(t,e,n){var i=e.value;!i!=!e.oldValue&&((n=Jr(n)).data&&n.data.transition?(n.data.show=!0,i?jr(n,function(){t.style.display=t.__vOriginalDisplay}):Fr(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}}},to={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function eo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?eo(qe(e.children)):t}function no(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var o in r)e[T(o)]=r[o];return e}function io(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var ro=function(t){return t.tag||Ge(t)},oo=function(t){return"show"===t.name},so={name:"transition",props:to,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(ro)).length){var i=this.mode,r=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return r;var o=eo(r);if(!o)return r;if(this._leaving)return io(t,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var u=(o.data||(o.data={})).transition=no(this),l=this._vnode,c=eo(l);if(o.data.directives&&o.data.directives.some(oo)&&(o.data.show=!0),c&&c.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,c)&&!Ge(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=O({},u);if("out-in"===i)return this._leaving=!0,ae(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),io(t,r);if("in-out"===i){if(Ge(o))return l;var f,d=function(){f()};ae(u,"afterEnter",d),ae(u,"enterCancelled",d),ae(h,"delayLeave",function(t){f=t})}}return r}}},ao=O({tag:String,moveClass:String},to);function uo(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function lo(t){t.data.newPos=t.elm.getBoundingClientRect()}function co(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}delete ao.mode;var ho={Transition:so,TransitionGroup:{props:ao,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=Je(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=no(this),a=0;a<r.length;a++){var u=r[a];u.tag&&null!=u.key&&0!==String(u.key).indexOf("__vlist")&&(o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s)}if(i){for(var l=[],c=[],h=0;h<i.length;h++){var f=i[h];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?l.push(f):c.push(f)}this.kept=t(e,null,l),this.removed=c}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(uo),t.forEach(lo),t.forEach(co),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;Pr(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Sr,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Sr,t),n._moveCb=null,Rr(n,e))})}}))},methods:{hasMove:function(t,e){if(!wr)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){yr(n,t)}),gr(n,e),n.style.display="none",this.$el.appendChild(n);var i=Nr(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};An.config.mustUseProp=Mn,An.config.isReservedTag=Zn,An.config.isReservedAttr=Pn,An.config.getTagNamespace=Xn,An.config.isUnknownElement=function(t){if(!q)return!0;if(Zn(t))return!1;if(t=t.toLowerCase(),null!=Yn[t])return Yn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Yn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Yn[t]=/HTMLUnknownElement/.test(e.toString())},O(An.options.directives,Qr),O(An.options.components,ho),An.prototype.__patch__=q?$r:P,An.prototype.$mount=function(t,e){return function(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=vt),en(t,"beforeMount"),i=function(){t._update(t._render(),n)},new pn(t,i,P,{before:function(){t._isMounted&&!t._isDestroyed&&en(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,en(t,"mounted")),t}(this,t=t&&q?Jn(t):void 0,e)},q&&setTimeout(function(){B.devtools&&ot&&ot.emit("init",An)},0);var fo,po=/\{\{((?:.|\r?\n)+?)\}\}/g,mo=/[-.*+?^${}()|[\]\/\\]/g,_o=x(function(t){var e=t[0].replace(mo,"\\$&"),n=t[1].replace(mo,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}),vo={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Di(t,"class");n&&(t.staticClass=JSON.stringify(n));var i=zi(t,"class",!1);i&&(t.classBinding=i)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}},go={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Di(t,"style");n&&(t.staticStyle=JSON.stringify(sr(n)));var i=zi(t,"style",!1);i&&(t.styleBinding=i)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},yo=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),bo=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),xo=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),wo=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,To=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Ao="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+U.source+"]*",Eo="((?:"+Ao+"\\:)?"+Ao+")",So=new RegExp("^<"+Eo),ko=/^\s*(\/?)>/,Co=new RegExp("^<\\/"+Eo+"[^>]*>"),Oo=/^<!DOCTYPE [^>]+>/i,Lo=/^<!\--/,Po=/^<!\[/,Ro=m("script,style,textarea",!0),Mo={},Io={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},No=/&(?:lt|gt|quot|amp|#39);/g,zo=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Do=m("pre,textarea",!0),jo=function(t,e){return t&&Do(t)&&"\n"===e[0]};function Fo(t,e){var n=e?zo:No;return t.replace(n,function(t){return Io[t]})}var Bo,Uo,Ho,$o,Wo,Go,qo,Vo,Zo=/^@|^v-on:/,Xo=/^v-|^@|^:/,Yo=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ko=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Jo=/^\(|\)$/g,Qo=/^\[.*\]$/,ts=/:(.*)$/,es=/^:|^\.|^v-bind:/,ns=/\.[^.\]]+(?=[^\]]*$)/g,is=/^v-slot(:|$)|^#/,rs=/[\r\n]/,os=/\s+/g,ss=x(function(t){return(fo=fo||document.createElement("div")).innerHTML=t,fo.textContent}),as="_empty_";function us(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:ps(e),rawAttrsMap:{},parent:n,children:[]}}function ls(t,e){var n,i;(i=zi(n=t,"key"))&&(n.key=i),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=zi(t,"ref");e&&(t.ref=e,t.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Di(t,"scope"),t.slotScope=e||Di(t,"slot-scope")):(e=Di(t,"slot-scope"))&&(t.slotScope=e);var n=zi(t,"slot");if(n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||Pi(t,"slot",n,function(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}(t,"slot"))),"template"===t.tag){var i=ji(t,is);if(i){var r=fs(i),o=r.name,s=r.dynamic;t.slotTarget=o,t.slotTargetDynamic=s,t.slotScope=i.value||as}}else{var a=ji(t,is);if(a){var u=t.scopedSlots||(t.scopedSlots={}),l=fs(a),c=l.name,h=l.dynamic,f=u[c]=us("template",[],t);f.slotTarget=c,f.slotTargetDynamic=h,f.children=t.children.filter(function(t){if(!t.slotScope)return t.parent=f,!0}),f.slotScope=a.value||as,t.children=[],t.plain=!1}}}(t),function(t){"slot"===t.tag&&(t.slotName=zi(t,"name"))}(t),function(t){var e;(e=zi(t,"is"))&&(t.component=e),null!=Di(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<Ho.length;r++)t=Ho[r](t,e)||t;return function(t){var e,n,i,r,o,s,a,u,l=t.attrsList;for(e=0,n=l.length;e<n;e++)if(i=r=l[e].name,o=l[e].value,Xo.test(i))if(t.hasBindings=!0,(s=ds(i.replace(Xo,"")))&&(i=i.replace(ns,"")),es.test(i))i=i.replace(es,""),o=Si(o),(u=Qo.test(i))&&(i=i.slice(1,-1)),s&&(s.prop&&!u&&"innerHtml"===(i=T(i))&&(i="innerHTML"),s.camel&&!u&&(i=T(i)),s.sync&&(a=Ui(o,"$event"),u?Ni(t,'"update:"+('+i+")",a,null,!1,0,l[e],!0):(Ni(t,"update:"+T(i),a,null,!1,0,l[e]),S(i)!==T(i)&&Ni(t,"update:"+S(i),a,null,!1,0,l[e])))),s&&s.prop||!t.component&&qo(t.tag,t.attrsMap.type,i)?Li(t,i,o,l[e],u):Pi(t,i,o,l[e],u);else if(Zo.test(i))i=i.replace(Zo,""),(u=Qo.test(i))&&(i=i.slice(1,-1)),Ni(t,i,o,s,!1,0,l[e],u);else{var c=(i=i.replace(Xo,"")).match(ts),h=c&&c[1];u=!1,h&&(i=i.slice(0,-(h.length+1)),Qo.test(h)&&(h=h.slice(1,-1),u=!0)),Mi(t,i,r,o,h,u,s,l[e])}else Pi(t,i,JSON.stringify(o),l[e]),!t.component&&"muted"===i&&qo(t.tag,t.attrsMap.type,i)&&Li(t,i,"true",l[e])}(t),t}function cs(t){var e;if(e=Di(t,"v-for")){var n=function(t){var e=t.match(Yo);if(e){var n={};n.for=e[2].trim();var i=e[1].trim().replace(Jo,""),r=i.match(Ko);return r?(n.alias=i.replace(Ko,"").trim(),n.iterator1=r[1].trim(),r[2]&&(n.iterator2=r[2].trim())):n.alias=i,n}}(e);n&&O(t,n)}}function hs(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function fs(t){var e=t.name.replace(is,"");return e||"#"!==t.name[0]&&(e="default"),Qo.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function ds(t){var e=t.match(ns);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}function ps(t){for(var e={},n=0,i=t.length;n<i;n++)e[t[n].name]=t[n].value;return e}var ms=/^xmlns:NS\d+/,_s=/^NS\d+:/;function vs(t){return us(t.tag,t.attrsList.slice(),t.parent)}var gs,ys,bs=[vo,go,{preTransformNode:function(t,e){if("input"===t.tag){var n,i=t.attrsMap;if(!i["v-model"])return;if((i[":type"]||i["v-bind:type"])&&(n=zi(t,"type")),i.type||n||!i["v-bind"]||(n="("+i["v-bind"]+").type"),n){var r=Di(t,"v-if",!0),o=r?"&&("+r+")":"",s=null!=Di(t,"v-else",!0),a=Di(t,"v-else-if",!0),u=vs(t);cs(u),Ri(u,"type","checkbox"),ls(u,e),u.processed=!0,u.if="("+n+")==='checkbox'"+o,hs(u,{exp:u.if,block:u});var l=vs(t);Di(l,"v-for",!0),Ri(l,"type","radio"),ls(l,e),hs(u,{exp:"("+n+")==='radio'"+o,block:l});var c=vs(t);return Di(c,"v-for",!0),Ri(c,":type",n),ls(c,e),hs(u,{exp:r,block:c}),s?u.else=!0:a&&(u.elseif=a),u}}}}],xs={expectHTML:!0,modules:bs,directives:{model:function(t,e,n){var i=e.value,r=e.modifiers,o=t.tag,s=t.attrsMap.type;if(t.component)return Bi(t,i,r),!1;if("select"===o)!function(t,e,n){var i='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r&&r.number?"_n(val)":"val")+"});";Ni(t,"change",i=i+" "+Ui(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)}(t,i);else if("input"===o&&"checkbox"===s)!function(t,e,n){var i=n&&n.number,r=zi(t,"value")||"null",o=zi(t,"true-value")||"true",s=zi(t,"false-value")||"false";Li(t,"checked","Array.isArray("+e+")?_i("+e+","+r+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),Ni(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+s+");if(Array.isArray($$a)){var $$v="+(i?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Ui(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Ui(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Ui(e,"$$c")+"}",null,!0)}(t,i,r);else if("input"===o&&"radio"===s)!function(t,e,n){var i=n&&n.number,r=zi(t,"value")||"null";Li(t,"checked","_q("+e+","+(r=i?"_n("+r+")":r)+")"),Ni(t,"change",Ui(e,r),null,!0)}(t,i,r);else if("input"===o||"textarea"===o)!function(t,e,n){var i=t.attrsMap.type,r=n||{},o=r.lazy,s=r.number,a=r.trim,u=!o&&"range"!==i,l=o?"change":"range"===i?Zi:"input",c="$event.target.value";a&&(c="$event.target.value.trim()"),s&&(c="_n("+c+")");var h=Ui(e,c);u&&(h="if($event.target.composing)return;"+h),Li(t,"value","("+e+")"),Ni(t,l,h,null,!0),(a||s)&&Ni(t,"blur","$forceUpdate()")}(t,i,r);else if(!B.isReservedTag(o))return Bi(t,i,r),!1;return!0},text:function(t,e){e.value&&Li(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&Li(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:yo,mustUseProp:Mn,canBeLeftOpenTag:bo,isReservedTag:Zn,getTagNamespace:Xn,staticKeys:bs.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")},ws=x(function(t){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))});var Ts=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*(?:[\w$]+)?\s*\(/,As=/\([^)]*?\);*$/,Es=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Ss={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},ks={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Cs=function(t){return"if("+t+")return null;"},Os={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Cs("$event.target !== $event.currentTarget"),ctrl:Cs("!$event.ctrlKey"),shift:Cs("!$event.shiftKey"),alt:Cs("!$event.altKey"),meta:Cs("!$event.metaKey"),left:Cs("'button' in $event && $event.button !== 0"),middle:Cs("'button' in $event && $event.button !== 1"),right:Cs("'button' in $event && $event.button !== 2")};function Ls(t,e){var n=e?"nativeOn:":"on:",i="",r="";for(var o in t){var s=Ps(t[o]);t[o]&&t[o].dynamic?r+=o+","+s+",":i+='"'+o+'":'+s+","}return i="{"+i.slice(0,-1)+"}",r?n+"_d("+i+",["+r.slice(0,-1)+"])":n+i}function Ps(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return Ps(t)}).join(",")+"]";var e=Es.test(t.value),n=Ts.test(t.value),i=Es.test(t.value.replace(As,""));if(t.modifiers){var r="",o="",s=[];for(var a in t.modifiers)if(Os[a])o+=Os[a],Ss[a]&&s.push(a);else if("exact"===a){var u=t.modifiers;o+=Cs(["ctrl","shift","alt","meta"].filter(function(t){return!u[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else s.push(a);return s.length&&(r+="if(!$event.type.indexOf('key')&&"+s.map(Rs).join("&&")+")return null;"),o&&(r+=o),"function($event){"+r+(e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":i?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(i?"return "+t.value:t.value)+"}"}function Rs(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Ss[t],i=ks[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(i)+")"}var Ms={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:P},Is=function(t){this.options=t,this.warn=t.warn||Ci,this.transforms=Oi(t.modules,"transformCode"),this.dataGenFns=Oi(t.modules,"genData"),this.directives=O(O({},Ms),t.directives);var e=t.isReservedTag||R;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Ns(t,e){var n=new Is(e);return{render:"with(this){return "+(t?zs(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function zs(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Ds(t,e);if(t.once&&!t.onceProcessed)return js(t,e);if(t.for&&!t.forProcessed)return Bs(t,e);if(t.if&&!t.ifProcessed)return Fs(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',i=Ws(t,e),r="_t("+n+(i?","+i:""),o=t.attrs||t.dynamicAttrs?Vs((t.attrs||[]).concat(t.dynamicAttrs||[]).map(function(t){return{name:T(t.name),value:t.value,dynamic:t.dynamic}})):null,s=t.attrsMap["v-bind"];return!o&&!s||i||(r+=",null"),o&&(r+=","+o),s&&(r+=(o?"":",null")+","+s),r+")"}(t,e);var n;if(t.component)n=function(t,e,n){var i=e.inlineTemplate?null:Ws(e,n,!0);return"_c("+t+","+Us(e,n)+(i?","+i:"")+")"}(t.component,t,e);else{var i;(!t.plain||t.pre&&e.maybeComponent(t))&&(i=Us(t,e));var r=t.inlineTemplate?null:Ws(t,e,!0);n="_c('"+t.tag+"'"+(i?","+i:"")+(r?","+r:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return Ws(t,e)||"void 0"}function Ds(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+zs(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function js(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Fs(t,e);if(t.staticInFor){for(var n="",i=t.parent;i;){if(i.for){n=i.key;break}i=i.parent}return n?"_o("+zs(t,e)+","+e.onceId+++","+n+")":zs(t,e)}return Ds(t,e)}function Fs(t,e,n,i){return t.ifProcessed=!0,function t(e,n,i,r){if(!e.length)return r||"_e()";var o=e.shift();return o.exp?"("+o.exp+")?"+s(o.block)+":"+t(e,n,i,r):""+s(o.block);function s(t){return i?i(t,n):t.once?js(t,n):zs(t,n)}}(t.ifConditions.slice(),e,n,i)}function Bs(t,e,n,i){var r=t.for,o=t.alias,s=t.iterator1?","+t.iterator1:"",a=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(i||"_l")+"(("+r+"),function("+o+s+a+"){return "+(n||zs)(t,e)+"})"}function Us(t,e){var n="{",i=function(t,e){var n=t.directives;if(n){var i,r,o,s,a="directives:[",u=!1;for(i=0,r=n.length;i<r;i++){o=n[i],s=!0;var l=e.directives[o.name];l&&(s=!!l(t,o,e.warn)),s&&(u=!0,a+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}return u?a.slice(0,-1)+"]":void 0}}(t,e);i&&(n+=i+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var r=0;r<e.dataGenFns.length;r++)n+=e.dataGenFns[r](t);if(t.attrs&&(n+="attrs:"+Vs(t.attrs)+","),t.props&&(n+="domProps:"+Vs(t.props)+","),t.events&&(n+=Ls(t.events,!1)+","),t.nativeEvents&&(n+=Ls(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e,n){var i=t.for||Object.keys(e).some(function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||Hs(n)}),r=!!t.if;if(!i)for(var o=t.parent;o;){if(o.slotScope&&o.slotScope!==as||o.for){i=!0;break}o.if&&(r=!0),o=o.parent}var s=Object.keys(e).map(function(t){return $s(e[t],n)}).join(",");return"scopedSlots:_u(["+s+"]"+(i?",null,true":"")+(!i&&r?",null,false,"+function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(s):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var n=t.children[0];if(n&&1===n.type){var i=Ns(n,e.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+Vs(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Hs(t){return 1===t.type&&("slot"===t.tag||t.children.some(Hs))}function $s(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Fs(t,e,$s,"null");if(t.for&&!t.forProcessed)return Bs(t,e,$s);var i=t.slotScope===as?"":String(t.slotScope),r="function("+i+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(Ws(t,e)||"undefined")+":undefined":Ws(t,e)||"undefined":zs(t,e))+"}",o=i?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+r+o+"}"}function Ws(t,e,n,i,r){var o=t.children;if(o.length){var s=o[0];if(1===o.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag){var a=n?e.maybeComponent(s)?",1":",0":"";return""+(i||zs)(s,e)+a}var u=n?function(t,e){for(var n=0,i=0;i<t.length;i++){var r=t[i];if(1===r.type){if(Gs(r)||r.ifConditions&&r.ifConditions.some(function(t){return Gs(t.block)})){n=2;break}(e(r)||r.ifConditions&&r.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}(o,e.maybeComponent):0,l=r||qs;return"["+o.map(function(t){return l(t,e)}).join(",")+"]"+(u?","+u:"")}}function Gs(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function qs(t,e){return 1===t.type?zs(t,e):3===t.type&&t.isComment?(i=t,"_e("+JSON.stringify(i.text)+")"):"_v("+(2===(n=t).type?n.expression:Zs(JSON.stringify(n.text)))+")";var n,i}function Vs(t){for(var e="",n="",i=0;i<t.length;i++){var r=t[i],o=Zs(r.value);r.dynamic?n+=r.name+","+o+",":e+='"'+r.name+'":'+o+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function Zs(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Xs(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),P}}function Ys(t){var e=Object.create(null);return function(n,i,r){(i=O({},i)).warn,delete i.warn;var o=i.delimiters?String(i.delimiters)+n:n;if(e[o])return e[o];var s=t(n,i),a={},u=[];return a.render=Xs(s.render,u),a.staticRenderFns=s.staticRenderFns.map(function(t){return Xs(t,u)}),e[o]=a}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");var Ks,Js,Qs=(Ks=function(t,e){var n=function(t,e){Bo=e.warn||Ci,Go=e.isPreTag||R,qo=e.mustUseProp||R,Vo=e.getTagNamespace||R,e.isReservedTag,Ho=Oi(e.modules,"transformNode"),$o=Oi(e.modules,"preTransformNode"),Wo=Oi(e.modules,"postTransformNode"),Uo=e.delimiters;var n,i,r=[],o=!1!==e.preserveWhitespace,s=e.whitespace,a=!1,u=!1;function l(t){if(c(t),a||t.processed||(t=ls(t,e)),r.length||t===n||n.if&&(t.elseif||t.else)&&hs(n,{exp:t.elseif,block:t}),i&&!t.forbidden)if(t.elseif||t.else)s=t,(l=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(i.children))&&l.if&&hs(l,{exp:s.elseif,block:s});else{if(t.slotScope){var o=t.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[o]=t}i.children.push(t),t.parent=i}var s,l;t.children=t.children.filter(function(t){return!t.slotScope}),c(t),t.pre&&(a=!1),Go(t.tag)&&(u=!1);for(var h=0;h<Wo.length;h++)Wo[h](t,e)}function c(t){if(!u)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){for(var n,i,r=[],o=e.expectHTML,s=e.isUnaryTag||R,a=e.canBeLeftOpenTag||R,u=0;t;){if(n=t,i&&Ro(i)){var l=0,c=i.toLowerCase(),h=Mo[c]||(Mo[c]=new RegExp("([\\s\\S]*?)(</"+c+"[^>]*>)","i")),f=t.replace(h,function(t,n,i){return l=i.length,Ro(c)||"noscript"===c||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),jo(c,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});u+=t.length-f.length,t=f,S(c,u-l,u)}else{var d=t.indexOf("<");if(0===d){if(Lo.test(t)){var p=t.indexOf("--\x3e");if(p>=0){e.shouldKeepComment&&e.comment(t.substring(4,p),u,u+p+3),T(p+3);continue}}if(Po.test(t)){var m=t.indexOf("]>");if(m>=0){T(m+2);continue}}var _=t.match(Oo);if(_){T(_[0].length);continue}var v=t.match(Co);if(v){var g=u;T(v[0].length),S(v[1],g,u);continue}var y=A();if(y){E(y),jo(y.tagName,t)&&T(1);continue}}var b=void 0,x=void 0,w=void 0;if(d>=0){for(x=t.slice(d);!(Co.test(x)||So.test(x)||Lo.test(x)||Po.test(x)||(w=x.indexOf("<",1))<0);)d+=w,x=t.slice(d);b=t.substring(0,d)}d<0&&(b=t),b&&T(b.length),e.chars&&b&&e.chars(b,u-b.length,u)}if(t===n){e.chars&&e.chars(t);break}}function T(e){u+=e,t=t.substring(e)}function A(){var e=t.match(So);if(e){var n,i,r={tagName:e[1],attrs:[],start:u};for(T(e[0].length);!(n=t.match(ko))&&(i=t.match(To)||t.match(wo));)i.start=u,T(i[0].length),i.end=u,r.attrs.push(i);if(n)return r.unarySlash=n[1],T(n[0].length),r.end=u,r}}function E(t){var n=t.tagName,u=t.unarySlash;o&&("p"===i&&xo(n)&&S(i),a(n)&&i===n&&S(n));for(var l=s(n)||!!u,c=t.attrs.length,h=new Array(c),f=0;f<c;f++){var d=t.attrs[f],p=d[3]||d[4]||d[5]||"",m="a"===n&&"href"===d[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[f]={name:d[1],value:Fo(p,m)}}l||(r.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:h,start:t.start,end:t.end}),i=n),e.start&&e.start(n,h,l,t.start,t.end)}function S(t,n,o){var s,a;if(null==n&&(n=u),null==o&&(o=u),t)for(a=t.toLowerCase(),s=r.length-1;s>=0&&r[s].lowerCasedTag!==a;s--);else s=0;if(s>=0){for(var l=r.length-1;l>=s;l--)e.end&&e.end(r[l].tag,n,o);r.length=s,i=s&&r[s-1].tag}else"br"===a?e.start&&e.start(t,[],!0,n,o):"p"===a&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}S()}(t,{warn:Bo,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,o,s,c,h){var f=i&&i.ns||Vo(t);Y&&"svg"===f&&(o=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];ms.test(i.name)||(i.name=i.name.replace(_s,""),e.push(i))}return e}(o));var d,p=us(t,o,i);f&&(p.ns=f),"style"!==(d=p).tag&&("script"!==d.tag||d.attrsMap.type&&"text/javascript"!==d.attrsMap.type)||rt()||(p.forbidden=!0);for(var m=0;m<$o.length;m++)p=$o[m](p,e)||p;a||(function(t){null!=Di(t,"v-pre")&&(t.pre=!0)}(p),p.pre&&(a=!0)),Go(p.tag)&&(u=!0),a?function(t){var e=t.attrsList,n=e.length;if(n)for(var i=t.attrs=new Array(n),r=0;r<n;r++)i[r]={name:e[r].name,value:JSON.stringify(e[r].value)},null!=e[r].start&&(i[r].start=e[r].start,i[r].end=e[r].end);else t.pre||(t.plain=!0)}(p):p.processed||(cs(p),function(t){var e=Di(t,"v-if");if(e)t.if=e,hs(t,{exp:e,block:t});else{null!=Di(t,"v-else")&&(t.else=!0);var n=Di(t,"v-else-if");n&&(t.elseif=n)}}(p),function(t){null!=Di(t,"v-once")&&(t.once=!0)}(p)),n||(n=p),s?l(p):(i=p,r.push(p))},end:function(t,e,n){var o=r[r.length-1];r.length-=1,i=r[r.length-1],l(o)},chars:function(t,e,n){if(i&&(!Y||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var r,l,c,h=i.children;(t=u||t.trim()?"script"===(r=i).tag||"style"===r.tag?t:ss(t):h.length?s?"condense"===s&&rs.test(t)?"":" ":o?" ":"":"")&&(u||"condense"!==s||(t=t.replace(os," ")),!a&&" "!==t&&(l=function(t,e){var n=Uo?_o(Uo):po;if(n.test(t)){for(var i,r,o,s=[],a=[],u=n.lastIndex=0;i=n.exec(t);){(r=i.index)>u&&(a.push(o=t.slice(u,r)),s.push(JSON.stringify(o)));var l=Si(i[1].trim());s.push("_s("+l+")"),a.push({"@binding":l}),u=r+i[0].length}return u<t.length&&(a.push(o=t.slice(u)),s.push(JSON.stringify(o))),{expression:s.join("+"),tokens:a}}}(t))?c={type:2,expression:l.expression,tokens:l.tokens,text:t}:" "===t&&h.length&&" "===h[h.length-1].text||(c={type:3,text:t}),c&&h.push(c))}},comment:function(t,e,n){if(i){var r={type:3,text:t,isComment:!0};i.children.push(r)}}}),n}(t.trim(),e);!1!==e.optimize&&function(t,e){t&&(gs=ws(e.staticKeys||""),ys=e.isReservedTag||R,function t(e){if(e.static=function(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||_(t.tag)||!ys(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(gs))))}(e),1===e.type){if(!ys(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n=0,i=e.children.length;n<i;n++){var r=e.children[n];t(r),r.static||(e.static=!1)}if(e.ifConditions)for(var o=1,s=e.ifConditions.length;o<s;o++){var a=e.ifConditions[o].block;t(a),a.static||(e.static=!1)}}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var i=0,r=e.children.length;i<r;i++)t(e.children[i],n||!!e.for);if(e.ifConditions)for(var o=1,s=e.ifConditions.length;o<s;o++)t(e.ifConditions[o].block,n)}}(t,!1))}(n,e);var i=Ns(n,e);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}},function(t){function e(e,n){var i=Object.create(t),r=[],o=[];if(n)for(var s in n.modules&&(i.modules=(t.modules||[]).concat(n.modules)),n.directives&&(i.directives=O(Object.create(t.directives||null),n.directives)),n)"modules"!==s&&"directives"!==s&&(i[s]=n[s]);i.warn=function(t,e,n){(n?o:r).push(t)};var a=Ks(e.trim(),i);return a.errors=r,a.tips=o,a}return{compile:e,compileToFunctions:Ys(e)}})(xs),ta=(Qs.compile,Qs.compileToFunctions);function ea(t){return(Js=Js||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Js.innerHTML.indexOf("&#10;")>0}var na=!!q&&ea(!1),ia=!!q&&ea(!0),ra=x(function(t){var e=Jn(t);return e&&e.innerHTML}),oa=An.prototype.$mount;An.prototype.$mount=function(t,e){if((t=t&&Jn(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=ra(i));else{if(!i.nodeType)return this;i=i.innerHTML}else t&&(i=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(i){var r=ta(i,{outputSourceRange:!1,shouldDecodeNewlines:na,shouldDecodeNewlinesForHref:ia,delimiters:n.delimiters,comments:n.comments},this),o=r.render,s=r.staticRenderFns;n.render=o,n.staticRenderFns=s}}return oa.call(this,t,e)},An.compile=ta,t.exports=An}).call(this,n("yLpj"),n("URgk").setImmediate)},IVnQ:function(t,e,n){"use strict";var i=n("oCqW");n.n(i).a},JEQr:function(t,e,n){"use strict";(function(e){var i=n("xTJ+"),r=n("yK9s"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=n("tQ2B"):void 0!==e&&(a=n("tQ2B")),a),transformRequest:[function(t,e){return r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){u.headers[t]={}}),i.forEach(["post","put","patch"],function(t){u.headers[t]=i.merge(o)}),t.exports=u}).call(this,n("8oxB"))},L2JU:function(t,e,n){"use strict";(function(t){var n=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}var r=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},o={namespaced:{configurable:!0}};o.namespaced.get=function(){return!!this._rawModule.namespaced},r.prototype.addChild=function(t,e){this._children[t]=e},r.prototype.removeChild=function(t){delete this._children[t]},r.prototype.getChild=function(t){return this._children[t]},r.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},r.prototype.forEachChild=function(t){i(this._children,t)},r.prototype.forEachGetter=function(t){this._rawModule.getters&&i(this._rawModule.getters,t)},r.prototype.forEachAction=function(t){this._rawModule.actions&&i(this._rawModule.actions,t)},r.prototype.forEachMutation=function(t){this._rawModule.mutations&&i(this._rawModule.mutations,t)},Object.defineProperties(r.prototype,o);var s=function(t){this.register([],t,!1)};s.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},s.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")},"")},s.prototype.update=function(t){!function t(e,n,i){0;n.update(i);if(i.modules)for(var r in i.modules){if(!n.getChild(r))return void 0;t(e.concat(r),n.getChild(r),i.modules[r])}}([],this.root,t)},s.prototype.register=function(t,e,n){var o=this;void 0===n&&(n=!0);var s=new r(e,n);0===t.length?this.root=s:this.get(t.slice(0,-1)).addChild(t[t.length-1],s);e.modules&&i(e.modules,function(e,i){o.register(t.concat(i),e,n)})},s.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var a;var u=function(t){var e=this;void 0===t&&(t={}),!a&&"undefined"!=typeof window&&window.Vue&&_(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new s(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new a;var o=this,u=this.dispatch,l=this.commit;this.dispatch=function(t,e){return u.call(o,t,e)},this.commit=function(t,e,n){return l.call(o,t,e,n)},this.strict=r;var c=this._modules.root.state;d(this,c,[],this._modules.root),f(this,c),i.forEach(function(t){return t(e)}),(void 0!==t.devtools?t.devtools:a.config.devtools)&&function(t){n&&(t._devtoolHook=n,n.emit("vuex:init",t),n.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){n.emit("vuex:mutation",t,e)}))}(this)},l={state:{configurable:!0}};function c(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function h(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;d(t,n,[],t._modules.root,!0),f(t,n,e)}function f(t,e,n){var r=t._vm;t.getters={};var o=t._wrappedGetters,s={};i(o,function(e,n){s[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var u=a.config.silent;a.config.silent=!0,t._vm=new a({data:{$$state:e},computed:s}),a.config.silent=u,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(t),r&&(n&&t._withCommit(function(){r._data.$$state=null}),a.nextTick(function(){return r.$destroy()}))}function d(t,e,n,i,r){var o=!n.length,s=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[s]=i),!o&&!r){var u=p(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a.set(u,l,i.state)})}var c=i.context=function(t,e,n){var i=""===e,r={dispatch:i?t.dispatch:function(n,i,r){var o=m(n,i,r),s=o.payload,a=o.options,u=o.type;return a&&a.root||(u=e+u),t.dispatch(u,s)},commit:i?t.commit:function(n,i,r){var o=m(n,i,r),s=o.payload,a=o.options,u=o.type;a&&a.root||(u=e+u),t.commit(u,s,a)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){var n={},i=e.length;return Object.keys(t.getters).forEach(function(r){if(r.slice(0,i)===e){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return t.getters[r]},enumerable:!0})}}),n}(t,e)}},state:{get:function(){return p(t.state,n)}}}),r}(t,s,n);i.forEachMutation(function(e,n){!function(t,e,n,i){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){n.call(t,i.state,e)})}(t,s+n,e,c)}),i.forEachAction(function(e,n){var i=e.root?n:s+n,r=e.handler||e;!function(t,e,n,i){(t._actions[e]||(t._actions[e]=[])).push(function(e,r){var o,s=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,r);return(o=s)&&"function"==typeof o.then||(s=Promise.resolve(s)),t._devtoolHook?s.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):s})}(t,i,r,c)}),i.forEachGetter(function(e,n){!function(t,e,n,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)}}(t,s+n,e,c)}),i.forEachChild(function(i,o){d(t,e,n.concat(o),i,r)})}function p(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function m(t,e,n){var i;return null!==(i=t)&&"object"==typeof i&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function _(t){a&&t===a||function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(a=t)}l.state.get=function(){return this._vm._data.$$state},l.state.set=function(t){0},u.prototype.commit=function(t,e,n){var i=this,r=m(t,e,n),o=r.type,s=r.payload,a=(r.options,{type:o,payload:s}),u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(t){t(s)})}),this._subscribers.forEach(function(t){return t(a,i.state)}))},u.prototype.dispatch=function(t,e){var n=this,i=m(t,e),r=i.type,o=i.payload,s={type:r,payload:o},a=this._actions[r];if(a){try{this._actionSubscribers.filter(function(t){return t.before}).forEach(function(t){return t.before(s,n.state)})}catch(t){0}return(a.length>1?Promise.all(a.map(function(t){return t(o)})):a[0](o)).then(function(t){try{n._actionSubscribers.filter(function(t){return t.after}).forEach(function(t){return t.after(s,n.state)})}catch(t){0}return t})}},u.prototype.subscribe=function(t){return c(t,this._subscribers)},u.prototype.subscribeAction=function(t){return c("function"==typeof t?{before:t}:t,this._actionSubscribers)},u.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},e,n)},u.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},u.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),d(this,this.state,t,this._modules.get(t),n.preserveState),f(this,this.state)},u.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=p(e.state,t.slice(0,-1));a.delete(n,t[t.length-1])}),h(this)},u.prototype.hotUpdate=function(t){this._modules.update(t),h(this,!0)},u.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(u.prototype,l);var v=w(function(t,e){var n={};return x(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=T(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,e,n):e[r]},n[i].vuex=!0}),n}),g=w(function(t,e){var n={};return x(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.commit;if(t){var o=T(this.$store,"mapMutations",t);if(!o)return;i=o.context.commit}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n}),y=w(function(t,e){var n={};return x(e).forEach(function(e){var i=e.key,r=e.val;r=t+r,n[i]=function(){if(!t||T(this.$store,"mapGetters",t))return this.$store.getters[r]},n[i].vuex=!0}),n}),b=w(function(t,e){var n={};return x(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var o=T(this.$store,"mapActions",t);if(!o)return;i=o.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n});function x(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function w(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function T(t,e,n){return t._modulesNamespaceMap[n]}var A={Store:u,install:_,version:"3.1.1",mapState:v,mapMutations:g,mapGetters:y,mapActions:b,createNamespacedHelpers:function(t){return{mapState:v.bind(null,t),mapGetters:y.bind(null,t),mapMutations:g.bind(null,t),mapActions:b.bind(null,t)}}};e.a=A}).call(this,n("yLpj"))},LYNF:function(t,e,n){"use strict";var i=n("OH9c");t.exports=function(t,e,n,r,o){var s=new Error(t);return i(s,e,n,r,o)}},Lmem:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},LvDl:function(t,e,n){(function(t,i){var r;(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,d=2,p=4,m=1,_=2,v=1,g=2,y=4,b=8,x=16,w=32,T=64,A=128,E=256,S=512,k=30,C="...",O=800,L=16,P=1,R=2,M=1/0,I=9007199254740991,N=1.7976931348623157e308,z=NaN,D=4294967295,j=D-1,F=D>>>1,B=[["ary",A],["bind",v],["bindKey",g],["curry",b],["curryRight",x],["flip",S],["partial",w],["partialRight",T],["rearg",E]],U="[object Arguments]",H="[object Array]",$="[object AsyncFunction]",W="[object Boolean]",G="[object Date]",q="[object DOMException]",V="[object Error]",Z="[object Function]",X="[object GeneratorFunction]",Y="[object Map]",K="[object Number]",J="[object Null]",Q="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",it="[object String]",rt="[object Symbol]",ot="[object Undefined]",st="[object WeakMap]",at="[object WeakSet]",ut="[object ArrayBuffer]",lt="[object DataView]",ct="[object Float32Array]",ht="[object Float64Array]",ft="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",mt="[object Uint8Array]",_t="[object Uint8ClampedArray]",vt="[object Uint16Array]",gt="[object Uint32Array]",yt=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wt=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,At=RegExp(wt.source),Et=RegExp(Tt.source),St=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lt=/^\w*$/,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rt=/[\\^$.*+?()[\]{}|]/g,Mt=RegExp(Rt.source),It=/^\s+|\s+$/g,Nt=/^\s+/,zt=/\s+$/,Dt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ft=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$t=/\w*$/,Wt=/^[-+]0x[0-9a-f]+$/i,Gt=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,Xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yt=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,Jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Qt+"]",ne="["+Jt+"]",ie="\\d+",re="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",se="[^\\ud800-\\udfff"+Qt+ie+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ae="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",le="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",he="[A-Z\\xc0-\\xd6\\xd8-\\xde]",fe="(?:"+oe+"|"+se+")",de="(?:"+he+"|"+se+")",pe="(?:"+ne+"|"+ae+")"+"?",me="[\\ufe0e\\ufe0f]?"+pe+("(?:\\u200d(?:"+[ue,le,ce].join("|")+")[\\ufe0e\\ufe0f]?"+pe+")*"),_e="(?:"+[re,le,ce].join("|")+")"+me,ve="(?:"+[ue+ne+"?",ne,le,ce,te].join("|")+")",ge=RegExp("['’]","g"),ye=RegExp(ne,"g"),be=RegExp(ae+"(?="+ae+")|"+ve+me,"g"),xe=RegExp([he+"?"+oe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ee,he,"$"].join("|")+")",de+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ee,he+fe,"$"].join("|")+")",he+"?"+fe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",he+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ie,_e].join("|"),"g"),we=RegExp("[\\u200d\\ud800-\\udfff"+Jt+"\\ufe0e\\ufe0f]"),Te=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ee=-1,Se={};Se[ct]=Se[ht]=Se[ft]=Se[dt]=Se[pt]=Se[mt]=Se[_t]=Se[vt]=Se[gt]=!0,Se[U]=Se[H]=Se[ut]=Se[W]=Se[lt]=Se[G]=Se[V]=Se[Z]=Se[Y]=Se[K]=Se[Q]=Se[et]=Se[nt]=Se[it]=Se[st]=!1;var ke={};ke[U]=ke[H]=ke[ut]=ke[lt]=ke[W]=ke[G]=ke[ct]=ke[ht]=ke[ft]=ke[dt]=ke[pt]=ke[Y]=ke[K]=ke[Q]=ke[et]=ke[nt]=ke[it]=ke[rt]=ke[mt]=ke[_t]=ke[vt]=ke[gt]=!0,ke[V]=ke[Z]=ke[st]=!1;var Ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Oe=parseFloat,Le=parseInt,Pe="object"==typeof t&&t&&t.Object===Object&&t,Re="object"==typeof self&&self&&self.Object===Object&&self,Me=Pe||Re||Function("return this")(),Ie=e&&!e.nodeType&&e,Ne=Ie&&"object"==typeof i&&i&&!i.nodeType&&i,ze=Ne&&Ne.exports===Ie,De=ze&&Pe.process,je=function(){try{var t=Ne&&Ne.require&&Ne.require("util").types;return t||De&&De.binding&&De.binding("util")}catch(t){}}(),Fe=je&&je.isArrayBuffer,Be=je&&je.isDate,Ue=je&&je.isMap,He=je&&je.isRegExp,$e=je&&je.isSet,We=je&&je.isTypedArray;function Ge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function qe(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function Ve(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Ze(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Xe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ye(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function Ke(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Je(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Qe(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function tn(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function en(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function nn(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function rn(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var on=fn("length");function sn(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function an(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):an(t,cn,n)}function ln(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function cn(t){return t!=t}function hn(t,e){var n=null==t?0:t.length;return n?mn(t,e)/n:z}function fn(t){return function(e){return null==e?o:e[t]}}function dn(t){return function(e){return null==t?o:t[e]}}function pn(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function mn(t,e){for(var n,i=-1,r=t.length;++i<r;){var s=e(t[i]);s!==o&&(n=n===o?s:n+s)}return n}function _n(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function vn(t){return function(e){return t(e)}}function gn(t,e){return Qe(e,function(e){return t[e]})}function yn(t,e){return t.has(e)}function bn(t,e){for(var n=-1,i=t.length;++n<i&&un(e,t[n],0)>-1;);return n}function xn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var wn=dn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Tn=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function An(t){return"\\"+Ce[t]}function En(t){return we.test(t)}function Sn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function kn(t,e){return function(n){return t(e(n))}}function Cn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==h||(t[n]=h,o[r++]=n)}return o}function On(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Ln(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Pn(t){return En(t)?function(t){var e=be.lastIndex=0;for(;be.test(t);)++e;return e}(t):on(t)}function Rn(t){return En(t)?function(t){return t.match(be)||[]}(t):function(t){return t.split("")}(t)}var Mn=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var In=function t(e){var n,i=(e=null==e?Me:In.defaults(Me.Object(),e,In.pick(Me,Ae))).Array,r=e.Date,Jt=e.Error,Qt=e.Function,te=e.Math,ee=e.Object,ne=e.RegExp,ie=e.String,re=e.TypeError,oe=i.prototype,se=Qt.prototype,ae=ee.prototype,ue=e["__core-js_shared__"],le=se.toString,ce=ae.hasOwnProperty,he=0,fe=(n=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",de=ae.toString,pe=le.call(ee),me=Me._,_e=ne("^"+le.call(ce).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=ze?e.Buffer:o,be=e.Symbol,we=e.Uint8Array,Ce=ve?ve.allocUnsafe:o,Pe=kn(ee.getPrototypeOf,ee),Re=ee.create,Ie=ae.propertyIsEnumerable,Ne=oe.splice,De=be?be.isConcatSpreadable:o,je=be?be.iterator:o,on=be?be.toStringTag:o,dn=function(){try{var t=Fo(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Nn=e.clearTimeout!==Me.clearTimeout&&e.clearTimeout,zn=r&&r.now!==Me.Date.now&&r.now,Dn=e.setTimeout!==Me.setTimeout&&e.setTimeout,jn=te.ceil,Fn=te.floor,Bn=ee.getOwnPropertySymbols,Un=ve?ve.isBuffer:o,Hn=e.isFinite,$n=oe.join,Wn=kn(ee.keys,ee),Gn=te.max,qn=te.min,Vn=r.now,Zn=e.parseInt,Xn=te.random,Yn=oe.reverse,Kn=Fo(e,"DataView"),Jn=Fo(e,"Map"),Qn=Fo(e,"Promise"),ti=Fo(e,"Set"),ei=Fo(e,"WeakMap"),ni=Fo(ee,"create"),ii=ei&&new ei,ri={},oi=hs(Kn),si=hs(Jn),ai=hs(Qn),ui=hs(ti),li=hs(ei),ci=be?be.prototype:o,hi=ci?ci.valueOf:o,fi=ci?ci.toString:o;function di(t){if(Ca(t)&&!va(t)&&!(t instanceof vi)){if(t instanceof _i)return t;if(ce.call(t,"__wrapped__"))return fs(t)}return new _i(t)}var pi=function(){function t(){}return function(e){if(!ka(e))return{};if(Re)return Re(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function mi(){}function _i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function vi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function gi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function yi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function bi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function xi(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new bi;++e<n;)this.add(t[e])}function wi(t){var e=this.__data__=new yi(t);this.size=e.size}function Ti(t,e){var n=va(t),i=!n&&_a(t),r=!n&&!i&&xa(t),o=!n&&!i&&!r&&za(t),s=n||i||r||o,a=s?_n(t.length,ie):[],u=a.length;for(var l in t)!e&&!ce.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||qo(l,u))||a.push(l);return a}function Ai(t){var e=t.length;return e?t[xr(0,e-1)]:o}function Ei(t,e){return us(no(t),Ii(e,0,t.length))}function Si(t){return us(no(t))}function ki(t,e,n){(n===o||da(t[e],n))&&(n!==o||e in t)||Ri(t,e,n)}function Ci(t,e,n){var i=t[e];ce.call(t,e)&&da(i,n)&&(n!==o||e in t)||Ri(t,e,n)}function Oi(t,e){for(var n=t.length;n--;)if(da(t[n][0],e))return n;return-1}function Li(t,e,n,i){return Fi(t,function(t,r,o){e(i,t,n(t),o)}),i}function Pi(t,e){return t&&io(e,ru(e),t)}function Ri(t,e,n){"__proto__"==e&&dn?dn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Mi(t,e){for(var n=-1,r=e.length,s=i(r),a=null==t;++n<r;)s[n]=a?o:Qa(t,e[n]);return s}function Ii(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Ni(t,e,n,i,r,s){var a,u=e&f,l=e&d,c=e&p;if(n&&(a=r?n(t,i,r,s):n(t)),a!==o)return a;if(!ka(t))return t;var h=va(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return no(t,a)}else{var m=Ho(t),_=m==Z||m==X;if(xa(t))return Yr(t,u);if(m==Q||m==U||_&&!r){if(a=l||_?{}:Wo(t),!u)return l?function(t,e){return io(t,Uo(t),e)}(t,function(t,e){return t&&io(e,ou(e),t)}(a,t)):function(t,e){return io(t,Bo(t),e)}(t,Pi(a,t))}else{if(!ke[m])return r?t:{};a=function(t,e,n){var i,r,o,s=t.constructor;switch(e){case ut:return Kr(t);case W:case G:return new s(+t);case lt:return function(t,e){var n=e?Kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ct:case ht:case ft:case dt:case pt:case mt:case _t:case vt:case gt:return Jr(t,n);case Y:return new s;case K:case it:return new s(t);case et:return(o=new(r=t).constructor(r.source,$t.exec(r))).lastIndex=r.lastIndex,o;case nt:return new s;case rt:return i=t,hi?ee(hi.call(i)):{}}}(t,m,u)}}s||(s=new wi);var v=s.get(t);if(v)return v;if(s.set(t,a),Ma(t))return t.forEach(function(i){a.add(Ni(i,e,n,i,t,s))}),a;if(Oa(t))return t.forEach(function(i,r){a.set(r,Ni(i,e,n,r,t,s))}),a;var g=h?o:(c?l?Ro:Po:l?ou:ru)(t);return Ve(g||t,function(i,r){g&&(i=t[r=i]),Ci(a,r,Ni(i,e,n,r,t,s))}),a}function zi(t,e,n){var i=n.length;if(null==t)return!i;for(t=ee(t);i--;){var r=n[i],s=e[r],a=t[r];if(a===o&&!(r in t)||!s(a))return!1}return!0}function Di(t,e,n){if("function"!=typeof t)throw new re(u);return rs(function(){t.apply(o,n)},e)}function ji(t,e,n,i){var r=-1,o=Ke,a=!0,u=t.length,l=[],c=e.length;if(!u)return l;n&&(e=Qe(e,vn(n))),i?(o=Je,a=!1):e.length>=s&&(o=yn,a=!1,e=new xi(e));t:for(;++r<u;){var h=t[r],f=null==n?h:n(h);if(h=i||0!==h?h:0,a&&f==f){for(var d=c;d--;)if(e[d]===f)continue t;l.push(h)}else o(e,f,i)||l.push(h)}return l}di.templateSettings={escape:St,evaluate:kt,interpolate:Ct,variable:"",imports:{_:di}},di.prototype=mi.prototype,di.prototype.constructor=di,_i.prototype=pi(mi.prototype),_i.prototype.constructor=_i,vi.prototype=pi(mi.prototype),vi.prototype.constructor=vi,gi.prototype.clear=function(){this.__data__=ni?ni(null):{},this.size=0},gi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},gi.prototype.get=function(t){var e=this.__data__;if(ni){var n=e[t];return n===l?o:n}return ce.call(e,t)?e[t]:o},gi.prototype.has=function(t){var e=this.__data__;return ni?e[t]!==o:ce.call(e,t)},gi.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ni&&e===o?l:e,this},yi.prototype.clear=function(){this.__data__=[],this.size=0},yi.prototype.delete=function(t){var e=this.__data__,n=Oi(e,t);return!(n<0||(n==e.length-1?e.pop():Ne.call(e,n,1),--this.size,0))},yi.prototype.get=function(t){var e=this.__data__,n=Oi(e,t);return n<0?o:e[n][1]},yi.prototype.has=function(t){return Oi(this.__data__,t)>-1},yi.prototype.set=function(t,e){var n=this.__data__,i=Oi(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},bi.prototype.clear=function(){this.size=0,this.__data__={hash:new gi,map:new(Jn||yi),string:new gi}},bi.prototype.delete=function(t){var e=Do(this,t).delete(t);return this.size-=e?1:0,e},bi.prototype.get=function(t){return Do(this,t).get(t)},bi.prototype.has=function(t){return Do(this,t).has(t)},bi.prototype.set=function(t,e){var n=Do(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},xi.prototype.add=xi.prototype.push=function(t){return this.__data__.set(t,l),this},xi.prototype.has=function(t){return this.__data__.has(t)},wi.prototype.clear=function(){this.__data__=new yi,this.size=0},wi.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},wi.prototype.get=function(t){return this.__data__.get(t)},wi.prototype.has=function(t){return this.__data__.has(t)},wi.prototype.set=function(t,e){var n=this.__data__;if(n instanceof yi){var i=n.__data__;if(!Jn||i.length<s-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new bi(i)}return n.set(t,e),this.size=n.size,this};var Fi=so(Vi),Bi=so(Zi,!0);function Ui(t,e){var n=!0;return Fi(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Hi(t,e,n){for(var i=-1,r=t.length;++i<r;){var s=t[i],a=e(s);if(null!=a&&(u===o?a==a&&!Na(a):n(a,u)))var u=a,l=s}return l}function $i(t,e){var n=[];return Fi(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Wi(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=Go),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Wi(a,e-1,n,i,r):tn(r,a):i||(r[r.length]=a)}return r}var Gi=ao(),qi=ao(!0);function Vi(t,e){return t&&Gi(t,e,ru)}function Zi(t,e){return t&&qi(t,e,ru)}function Xi(t,e){return Ye(e,function(e){return Aa(t[e])})}function Yi(t,e){for(var n=0,i=(e=qr(e,t)).length;null!=t&&n<i;)t=t[cs(e[n++])];return n&&n==i?t:o}function Ki(t,e,n){var i=e(t);return va(t)?i:tn(i,n(t))}function Ji(t){return null==t?t===o?ot:J:on&&on in ee(t)?function(t){var e=ce.call(t,on),n=t[on];try{t[on]=o;var i=!0}catch(t){}var r=de.call(t);return i&&(e?t[on]=n:delete t[on]),r}(t):function(t){return de.call(t)}(t)}function Qi(t,e){return t>e}function tr(t,e){return null!=t&&ce.call(t,e)}function er(t,e){return null!=t&&e in ee(t)}function nr(t,e,n){for(var r=n?Je:Ke,s=t[0].length,a=t.length,u=a,l=i(a),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Qe(f,vn(e))),c=qn(f.length,c),l[u]=!n&&(e||s>=120&&f.length>=120)?new xi(u&&f):o}f=t[0];var d=-1,p=l[0];t:for(;++d<s&&h.length<c;){var m=f[d],_=e?e(m):m;if(m=n||0!==m?m:0,!(p?yn(p,_):r(h,_,n))){for(u=a;--u;){var v=l[u];if(!(v?yn(v,_):r(t[u],_,n)))continue t}p&&p.push(_),h.push(m)}}return h}function ir(t,e,n){var i=null==(t=es(t,e=qr(e,t)))?t:t[cs(Ts(e))];return null==i?o:Ge(i,t,n)}function rr(t){return Ca(t)&&Ji(t)==U}function or(t,e,n,i,r){return t===e||(null==t||null==e||!Ca(t)&&!Ca(e)?t!=t&&e!=e:function(t,e,n,i,r,s){var a=va(t),u=va(e),l=a?H:Ho(t),c=u?H:Ho(e),h=(l=l==U?Q:l)==Q,f=(c=c==U?Q:c)==Q,d=l==c;if(d&&xa(t)){if(!xa(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new wi),a||za(t)?Oo(t,e,n,i,r,s):function(t,e,n,i,r,o,s){switch(n){case lt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new we(t),new we(e)));case W:case G:case K:return da(+t,+e);case V:return t.name==e.name&&t.message==e.message;case et:case it:return t==e+"";case Y:var a=Sn;case nt:var u=i&m;if(a||(a=On),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;i|=_,s.set(t,e);var c=Oo(a(t),a(e),i,r,o,s);return s.delete(t),c;case rt:if(hi)return hi.call(t)==hi.call(e)}return!1}(t,e,l,n,i,r,s);if(!(n&m)){var p=h&&ce.call(t,"__wrapped__"),v=f&&ce.call(e,"__wrapped__");if(p||v){var g=p?t.value():t,y=v?e.value():e;return s||(s=new wi),r(g,y,n,i,s)}}return!!d&&(s||(s=new wi),function(t,e,n,i,r,s){var a=n&m,u=Po(t),l=u.length,c=Po(e).length;if(l!=c&&!a)return!1;for(var h=l;h--;){var f=u[h];if(!(a?f in e:ce.call(e,f)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var p=!0;s.set(t,e),s.set(e,t);for(var _=a;++h<l;){f=u[h];var v=t[f],g=e[f];if(i)var y=a?i(g,v,f,e,t,s):i(v,g,f,t,e,s);if(!(y===o?v===g||r(v,g,n,i,s):y)){p=!1;break}_||(_="constructor"==f)}if(p&&!_){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(p=!1)}return s.delete(t),s.delete(e),p}(t,e,n,i,r,s))}(t,e,n,i,or,r))}function sr(t,e,n,i){var r=n.length,s=r,a=!i;if(null==t)return!s;for(t=ee(t);r--;){var u=n[r];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<s;){var l=(u=n[r])[0],c=t[l],h=u[1];if(a&&u[2]){if(c===o&&!(l in t))return!1}else{var f=new wi;if(i)var d=i(c,h,l,t,e,f);if(!(d===o?or(h,c,m|_,i,f):d))return!1}}return!0}function ar(t){return!(!ka(t)||(e=t,fe&&fe in e))&&(Aa(t)?_e:qt).test(hs(t));var e}function ur(t){return"function"==typeof t?t:null==t?Lu:"object"==typeof t?va(t)?pr(t[0],t[1]):dr(t):Fu(t)}function lr(t){if(!Ko(t))return Wn(t);var e=[];for(var n in ee(t))ce.call(t,n)&&"constructor"!=n&&e.push(n);return e}function cr(t){if(!ka(t))return function(t){var e=[];if(null!=t)for(var n in ee(t))e.push(n);return e}(t);var e=Ko(t),n=[];for(var i in t)("constructor"!=i||!e&&ce.call(t,i))&&n.push(i);return n}function hr(t,e){return t<e}function fr(t,e){var n=-1,r=ya(t)?i(t.length):[];return Fi(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function dr(t){var e=jo(t);return 1==e.length&&e[0][2]?Qo(e[0][0],e[0][1]):function(n){return n===t||sr(n,t,e)}}function pr(t,e){return Zo(t)&&Jo(e)?Qo(cs(t),e):function(n){var i=Qa(n,t);return i===o&&i===e?tu(n,t):or(e,i,m|_)}}function mr(t,e,n,i,r){t!==e&&Gi(e,function(s,a){if(ka(s))r||(r=new wi),function(t,e,n,i,r,s,a){var u=ns(t,n),l=ns(e,n),c=a.get(l);if(c)ki(t,n,c);else{var h=s?s(u,l,n+"",t,e,a):o,f=h===o;if(f){var d=va(l),p=!d&&xa(l),m=!d&&!p&&za(l);h=l,d||p||m?va(u)?h=u:ba(u)?h=no(u):p?(f=!1,h=Yr(l,!0)):m?(f=!1,h=Jr(l,!0)):h=[]:Pa(l)||_a(l)?(h=u,_a(u)?h=Wa(u):ka(u)&&!Aa(u)||(h=Wo(l))):f=!1}f&&(a.set(l,h),r(h,l,i,s,a),a.delete(l)),ki(t,n,h)}}(t,e,a,n,mr,i,r);else{var u=i?i(ns(t,a),s,a+"",t,e,r):o;u===o&&(u=s),ki(t,a,u)}},ou)}function _r(t,e){var n=t.length;if(n)return qo(e+=e<0?n:0,n)?t[e]:o}function vr(t,e,n){var i=-1;return e=Qe(e.length?e:[Lu],vn(zo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(fr(t,function(t,n,r){return{criteria:Qe(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var u=Qr(r[i],o[i]);if(u){if(i>=a)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)})}function gr(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=Yi(t,s);n(a,s)&&Sr(o,qr(s,t),a)}return o}function yr(t,e,n,i){var r=i?ln:un,o=-1,s=e.length,a=t;for(t===e&&(e=no(e)),n&&(a=Qe(t,vn(n)));++o<s;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(a,c,u,i))>-1;)a!==t&&Ne.call(a,u,1),Ne.call(t,u,1);return t}function br(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;qo(r)?Ne.call(t,r,1):jr(t,r)}}return t}function xr(t,e){return t+Fn(Xn()*(e-t+1))}function wr(t,e){var n="";if(!t||e<1||e>I)return n;do{e%2&&(n+=t),(e=Fn(e/2))&&(t+=t)}while(e);return n}function Tr(t,e){return os(ts(t,e,Lu),t+"")}function Ar(t){return Ai(du(t))}function Er(t,e){var n=du(t);return us(n,Ii(e,0,n.length))}function Sr(t,e,n,i){if(!ka(t))return t;for(var r=-1,s=(e=qr(e,t)).length,a=s-1,u=t;null!=u&&++r<s;){var l=cs(e[r]),c=n;if(r!=a){var h=u[l];(c=i?i(h,l,u):o)===o&&(c=ka(h)?h:qo(e[r+1])?[]:{})}Ci(u,l,c),u=u[l]}return t}var kr=ii?function(t,e){return ii.set(t,e),t}:Lu,Cr=dn?function(t,e){return dn(t,"toString",{configurable:!0,enumerable:!1,value:ku(e),writable:!0})}:Lu;function Or(t){return us(du(t))}function Lr(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=i(o);++r<o;)s[r]=t[r+e];return s}function Pr(t,e){var n;return Fi(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function Rr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=F){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!Na(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return Mr(t,e,Lu,n)}function Mr(t,e,n,i){e=n(e);for(var r=0,s=null==t?0:t.length,a=e!=e,u=null===e,l=Na(e),c=e===o;r<s;){var h=Fn((r+s)/2),f=n(t[h]),d=f!==o,p=null===f,m=f==f,_=Na(f);if(a)var v=i||m;else v=c?m&&(i||d):u?m&&d&&(i||!p):l?m&&d&&!p&&(i||!_):!p&&!_&&(i?f<=e:f<e);v?r=h+1:s=h}return qn(s,j)}function Ir(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!da(a,u)){var u=a;o[r++]=0===s?0:s}}return o}function Nr(t){return"number"==typeof t?t:Na(t)?z:+t}function zr(t){if("string"==typeof t)return t;if(va(t))return Qe(t,zr)+"";if(Na(t))return fi?fi.call(t):"";var e=t+"";return"0"==e&&1/t==-M?"-0":e}function Dr(t,e,n){var i=-1,r=Ke,o=t.length,a=!0,u=[],l=u;if(n)a=!1,r=Je;else if(o>=s){var c=e?null:To(t);if(c)return On(c);a=!1,r=yn,l=new xi}else l=e?[]:u;t:for(;++i<o;){var h=t[i],f=e?e(h):h;if(h=n||0!==h?h:0,a&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue t;e&&l.push(f),u.push(h)}else r(l,f,n)||(l!==u&&l.push(f),u.push(h))}return u}function jr(t,e){return null==(t=es(t,e=qr(e,t)))||delete t[cs(Ts(e))]}function Fr(t,e,n,i){return Sr(t,e,n(Yi(t,e)),i)}function Br(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Lr(t,i?0:o,i?o+1:r):Lr(t,i?o+1:0,i?r:o)}function Ur(t,e){var n=t;return n instanceof vi&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function Hr(t,e,n){var r=t.length;if(r<2)return r?Dr(t[0]):[];for(var o=-1,s=i(r);++o<r;)for(var a=t[o],u=-1;++u<r;)u!=o&&(s[o]=ji(s[o]||a,t[u],e,n));return Dr(Wi(s,1),e,n)}function $r(t,e,n){for(var i=-1,r=t.length,s=e.length,a={};++i<r;){var u=i<s?e[i]:o;n(a,t[i],u)}return a}function Wr(t){return ba(t)?t:[]}function Gr(t){return"function"==typeof t?t:Lu}function qr(t,e){return va(t)?t:Zo(t,e)?[t]:ls(Ga(t))}var Vr=Tr;function Zr(t,e,n){var i=t.length;return n=n===o?i:n,!e&&n>=i?t:Lr(t,e,n)}var Xr=Nn||function(t){return Me.clearTimeout(t)};function Yr(t,e){if(e)return t.slice();var n=t.length,i=Ce?Ce(n):new t.constructor(n);return t.copy(i),i}function Kr(t){var e=new t.constructor(t.byteLength);return new we(e).set(new we(t)),e}function Jr(t,e){var n=e?Kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Qr(t,e){if(t!==e){var n=t!==o,i=null===t,r=t==t,s=Na(t),a=e!==o,u=null===e,l=e==e,c=Na(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||i&&a&&l||!n&&l||!r)return 1;if(!i&&!s&&!c&&t<e||c&&n&&r&&!i&&!s||u&&n&&r||!a&&r||!l)return-1}return 0}function to(t,e,n,r){for(var o=-1,s=t.length,a=n.length,u=-1,l=e.length,c=Gn(s-a,0),h=i(l+c),f=!r;++u<l;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[n[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function eo(t,e,n,r){for(var o=-1,s=t.length,a=-1,u=n.length,l=-1,c=e.length,h=Gn(s-u,0),f=i(h+c),d=!r;++o<h;)f[o]=t[o];for(var p=o;++l<c;)f[p+l]=e[l];for(;++a<u;)(d||o<s)&&(f[p+n[a]]=t[o++]);return f}function no(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function io(t,e,n,i){var r=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],l=i?i(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),r?Ri(n,u,l):Ci(n,u,l)}return n}function ro(t,e){return function(n,i){var r=va(n)?qe:Li,o=e?e():{};return r(n,t,zo(i,2),o)}}function oo(t){return Tr(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:o,a=r>2?n[2]:o;for(s=t.length>3&&"function"==typeof s?(r--,s):o,a&&Vo(n[0],n[1],a)&&(s=r<3?o:s,r=1),e=ee(e);++i<r;){var u=n[i];u&&t(e,u,i,s)}return e})}function so(t,e){return function(n,i){if(null==n)return n;if(!ya(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=ee(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function ao(t){return function(e,n,i){for(var r=-1,o=ee(e),s=i(e),a=s.length;a--;){var u=s[t?a:++r];if(!1===n(o[u],u,o))break}return e}}function uo(t){return function(e){var n=En(e=Ga(e))?Rn(e):o,i=n?n[0]:e.charAt(0),r=n?Zr(n,1).join(""):e.slice(1);return i[t]()+r}}function lo(t){return function(e){return en(Au(_u(e).replace(ge,"")),t,"")}}function co(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=pi(t.prototype),i=t.apply(n,e);return ka(i)?i:n}}function ho(t){return function(e,n,i){var r=ee(e);if(!ya(e)){var s=zo(n,3);e=ru(e),n=function(t){return s(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[s?e[a]:a]:o}}function fo(t){return Lo(function(e){var n=e.length,i=n,r=_i.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new re(u);if(r&&!a&&"wrapper"==Io(s))var a=new _i([],!0)}for(i=a?i:n;++i<n;){var l=Io(s=e[i]),c="wrapper"==l?Mo(s):o;a=c&&Xo(c[0])&&c[1]==(A|b|w|E)&&!c[4].length&&1==c[9]?a[Io(c[0])].apply(a,c[3]):1==s.length&&Xo(s)?a[l]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&va(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function po(t,e,n,r,s,a,u,l,c,h){var f=e&A,d=e&v,p=e&g,m=e&(b|x),_=e&S,y=p?o:co(t);return function v(){for(var g=arguments.length,b=i(g),x=g;x--;)b[x]=arguments[x];if(m)var w=No(v),T=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(b,w);if(r&&(b=to(b,r,s,m)),a&&(b=eo(b,a,u,m)),g-=T,m&&g<h){var A=Cn(b,w);return xo(t,e,po,v.placeholder,n,b,A,l,c,h-g)}var E=d?n:this,S=p?E[t]:t;return g=b.length,l?b=function(t,e){for(var n=t.length,i=qn(e.length,n),r=no(t);i--;){var s=e[i];t[i]=qo(s,n)?r[s]:o}return t}(b,l):_&&g>1&&b.reverse(),f&&c<g&&(b.length=c),this&&this!==Me&&this instanceof v&&(S=y||co(S)),S.apply(E,b)}}function mo(t,e){return function(n,i){return function(t,e,n,i){return Vi(t,function(t,r,o){e(i,n(t),r,o)}),i}(n,t,e(i),{})}}function _o(t,e){return function(n,i){var r;if(n===o&&i===o)return e;if(n!==o&&(r=n),i!==o){if(r===o)return i;"string"==typeof n||"string"==typeof i?(n=zr(n),i=zr(i)):(n=Nr(n),i=Nr(i)),r=t(n,i)}return r}}function vo(t){return Lo(function(e){return e=Qe(e,vn(zo())),Tr(function(n){var i=this;return t(e,function(t){return Ge(t,i,n)})})})}function go(t,e){var n=(e=e===o?" ":zr(e)).length;if(n<2)return n?wr(e,t):e;var i=wr(e,jn(t/Pn(e)));return En(e)?Zr(Rn(i),0,t).join(""):i.slice(0,t)}function yo(t){return function(e,n,r){return r&&"number"!=typeof r&&Vo(e,n,r)&&(n=r=o),e=Ba(e),n===o?(n=e,e=0):n=Ba(n),function(t,e,n,r){for(var o=-1,s=Gn(jn((e-t)/(n||1)),0),a=i(s);s--;)a[r?s:++o]=t,t+=n;return a}(e,n,r=r===o?e<n?1:-1:Ba(r),t)}}function bo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=$a(e),n=$a(n)),t(e,n)}}function xo(t,e,n,i,r,s,a,u,l,c){var h=e&b;e|=h?w:T,(e&=~(h?T:w))&y||(e&=~(v|g));var f=[t,e,r,h?s:o,h?a:o,h?o:s,h?o:a,u,l,c],d=n.apply(o,f);return Xo(t)&&is(d,f),d.placeholder=i,ss(d,t,e)}function wo(t){var e=te[t];return function(t,n){if(t=$a(t),n=null==n?0:qn(Ua(n),292)){var i=(Ga(t)+"e").split("e");return+((i=(Ga(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var To=ti&&1/On(new ti([,-0]))[1]==M?function(t){return new ti(t)}:Nu;function Ao(t){return function(e){var n=Ho(e);return n==Y?Sn(e):n==nt?Ln(e):function(t,e){return Qe(e,function(e){return[e,t[e]]})}(e,t(e))}}function Eo(t,e,n,r,s,a,l,c){var f=e&g;if(!f&&"function"!=typeof t)throw new re(u);var d=r?r.length:0;if(d||(e&=~(w|T),r=s=o),l=l===o?l:Gn(Ua(l),0),c=c===o?c:Ua(c),d-=s?s.length:0,e&T){var p=r,m=s;r=s=o}var _=f?o:Mo(t),S=[t,e,n,r,s,p,m,a,l,c];if(_&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<(v|g|A),s=i==A&&n==b||i==A&&n==E&&t[7].length<=e[8]||i==(A|E)&&e[7].length<=e[8]&&n==b;if(!o&&!s)return t;i&v&&(t[2]=e[2],r|=n&v?0:y);var a=e[3];if(a){var u=t[3];t[3]=u?to(u,a,e[4]):a,t[4]=u?Cn(t[3],h):e[4]}(a=e[5])&&(u=t[5],t[5]=u?eo(u,a,e[6]):a,t[6]=u?Cn(t[5],h):e[6]),(a=e[7])&&(t[7]=a),i&A&&(t[8]=null==t[8]?e[8]:qn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(S,_),t=S[0],e=S[1],n=S[2],r=S[3],s=S[4],!(c=S[9]=S[9]===o?f?0:t.length:Gn(S[9]-d,0))&&e&(b|x)&&(e&=~(b|x)),e&&e!=v)k=e==b||e==x?function(t,e,n){var r=co(t);return function s(){for(var a=arguments.length,u=i(a),l=a,c=No(s);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:Cn(u,c);return(a-=h.length)<n?xo(t,e,po,s.placeholder,o,u,h,o,o,n-a):Ge(this&&this!==Me&&this instanceof s?r:t,this,u)}}(t,e,c):e!=w&&e!=(v|w)||s.length?po.apply(o,S):function(t,e,n,r){var o=e&v,s=co(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=r.length,h=i(c+u),f=this&&this!==Me&&this instanceof e?s:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++a];return Ge(f,o?n:this,h)}}(t,e,n,r);else var k=function(t,e,n){var i=e&v,r=co(t);return function e(){return(this&&this!==Me&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return ss((_?kr:is)(k,S),t,e)}function So(t,e,n,i){return t===o||da(t,ae[n])&&!ce.call(i,n)?e:t}function ko(t,e,n,i,r,s){return ka(t)&&ka(e)&&(s.set(e,t),mr(t,e,o,ko,s),s.delete(e)),t}function Co(t){return Pa(t)?o:t}function Oo(t,e,n,i,r,s){var a=n&m,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var h=-1,f=!0,d=n&_?new xi:o;for(s.set(t,e),s.set(e,t);++h<u;){var p=t[h],v=e[h];if(i)var g=a?i(v,p,h,e,t,s):i(p,v,h,t,e,s);if(g!==o){if(g)continue;f=!1;break}if(d){if(!rn(e,function(t,e){if(!yn(d,e)&&(p===t||r(p,t,n,i,s)))return d.push(e)})){f=!1;break}}else if(p!==v&&!r(p,v,n,i,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function Lo(t){return os(ts(t,o,gs),t+"")}function Po(t){return Ki(t,ru,Bo)}function Ro(t){return Ki(t,ou,Uo)}var Mo=ii?function(t){return ii.get(t)}:Nu;function Io(t){for(var e=t.name+"",n=ri[e],i=ce.call(ri,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function No(t){return(ce.call(di,"placeholder")?di:t).placeholder}function zo(){var t=di.iteratee||Pu;return t=t===Pu?ur:t,arguments.length?t(arguments[0],arguments[1]):t}function Do(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function jo(t){for(var e=ru(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Jo(r)]}return e}function Fo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return ar(n)?n:o}var Bo=Bn?function(t){return null==t?[]:(t=ee(t),Ye(Bn(t),function(e){return Ie.call(t,e)}))}:Hu,Uo=Bn?function(t){for(var e=[];t;)tn(e,Bo(t)),t=Pe(t);return e}:Hu,Ho=Ji;function $o(t,e,n){for(var i=-1,r=(e=qr(e,t)).length,o=!1;++i<r;){var s=cs(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Sa(r)&&qo(s,r)&&(va(t)||_a(t))}function Wo(t){return"function"!=typeof t.constructor||Ko(t)?{}:pi(Pe(t))}function Go(t){return va(t)||_a(t)||!!(De&&t&&t[De])}function qo(t,e){var n=typeof t;return!!(e=null==e?I:e)&&("number"==n||"symbol"!=n&&Zt.test(t))&&t>-1&&t%1==0&&t<e}function Vo(t,e,n){if(!ka(n))return!1;var i=typeof e;return!!("number"==i?ya(n)&&qo(e,n.length):"string"==i&&e in n)&&da(n[e],t)}function Zo(t,e){if(va(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Na(t))||Lt.test(t)||!Ot.test(t)||null!=e&&t in ee(e)}function Xo(t){var e=Io(t),n=di[e];if("function"!=typeof n||!(e in vi.prototype))return!1;if(t===n)return!0;var i=Mo(n);return!!i&&t===i[0]}(Kn&&Ho(new Kn(new ArrayBuffer(1)))!=lt||Jn&&Ho(new Jn)!=Y||Qn&&"[object Promise]"!=Ho(Qn.resolve())||ti&&Ho(new ti)!=nt||ei&&Ho(new ei)!=st)&&(Ho=function(t){var e=Ji(t),n=e==Q?t.constructor:o,i=n?hs(n):"";if(i)switch(i){case oi:return lt;case si:return Y;case ai:return"[object Promise]";case ui:return nt;case li:return st}return e});var Yo=ue?Aa:$u;function Ko(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function Jo(t){return t==t&&!ka(t)}function Qo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in ee(n))}}function ts(t,e,n){return e=Gn(e===o?t.length-1:e,0),function(){for(var r=arguments,o=-1,s=Gn(r.length-e,0),a=i(s);++o<s;)a[o]=r[e+o];o=-1;for(var u=i(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),Ge(t,this,u)}}function es(t,e){return e.length<2?t:Yi(t,Lr(e,0,-1))}function ns(t,e){if("__proto__"!=e)return t[e]}var is=as(kr),rs=Dn||function(t,e){return Me.setTimeout(t,e)},os=as(Cr);function ss(t,e,n){var i=e+"";return os(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Dt,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Ve(B,function(n){var i="_."+n[0];e&n[1]&&!Ke(t,i)&&t.push(i)}),t.sort()}(function(t){var e=t.match(jt);return e?e[1].split(Ft):[]}(i),n)))}function as(t){var e=0,n=0;return function(){var i=Vn(),r=L-(i-n);if(n=i,r>0){if(++e>=O)return arguments[0]}else e=0;return t.apply(o,arguments)}}function us(t,e){var n=-1,i=t.length,r=i-1;for(e=e===o?i:e;++n<e;){var s=xr(n,r),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var ls=function(t){var e=aa(t,function(t){return n.size===c&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Pt,function(t,n,i,r){e.push(i?r.replace(Ut,"$1"):n||t)}),e});function cs(t){if("string"==typeof t||Na(t))return t;var e=t+"";return"0"==e&&1/t==-M?"-0":e}function hs(t){if(null!=t){try{return le.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fs(t){if(t instanceof vi)return t.clone();var e=new _i(t.__wrapped__,t.__chain__);return e.__actions__=no(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ds=Tr(function(t,e){return ba(t)?ji(t,Wi(e,1,ba,!0)):[]}),ps=Tr(function(t,e){var n=Ts(e);return ba(n)&&(n=o),ba(t)?ji(t,Wi(e,1,ba,!0),zo(n,2)):[]}),ms=Tr(function(t,e){var n=Ts(e);return ba(n)&&(n=o),ba(t)?ji(t,Wi(e,1,ba,!0),o,n):[]});function _s(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Ua(n);return r<0&&(r=Gn(i+r,0)),an(t,zo(e,3),r)}function vs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==o&&(r=Ua(n),r=n<0?Gn(i+r,0):qn(r,i-1)),an(t,zo(e,3),r,!0)}function gs(t){return null!=t&&t.length?Wi(t,1):[]}function ys(t){return t&&t.length?t[0]:o}var bs=Tr(function(t){var e=Qe(t,Wr);return e.length&&e[0]===t[0]?nr(e):[]}),xs=Tr(function(t){var e=Ts(t),n=Qe(t,Wr);return e===Ts(n)?e=o:n.pop(),n.length&&n[0]===t[0]?nr(n,zo(e,2)):[]}),ws=Tr(function(t){var e=Ts(t),n=Qe(t,Wr);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?nr(n,o,e):[]});function Ts(t){var e=null==t?0:t.length;return e?t[e-1]:o}var As=Tr(Es);function Es(t,e){return t&&t.length&&e&&e.length?yr(t,e):t}var Ss=Lo(function(t,e){var n=null==t?0:t.length,i=Mi(t,e);return br(t,Qe(e,function(t){return qo(t,n)?+t:t}).sort(Qr)),i});function ks(t){return null==t?t:Yn.call(t)}var Cs=Tr(function(t){return Dr(Wi(t,1,ba,!0))}),Os=Tr(function(t){var e=Ts(t);return ba(e)&&(e=o),Dr(Wi(t,1,ba,!0),zo(e,2))}),Ls=Tr(function(t){var e=Ts(t);return e="function"==typeof e?e:o,Dr(Wi(t,1,ba,!0),o,e)});function Ps(t){if(!t||!t.length)return[];var e=0;return t=Ye(t,function(t){if(ba(t))return e=Gn(t.length,e),!0}),_n(e,function(e){return Qe(t,fn(e))})}function Rs(t,e){if(!t||!t.length)return[];var n=Ps(t);return null==e?n:Qe(n,function(t){return Ge(e,o,t)})}var Ms=Tr(function(t,e){return ba(t)?ji(t,e):[]}),Is=Tr(function(t){return Hr(Ye(t,ba))}),Ns=Tr(function(t){var e=Ts(t);return ba(e)&&(e=o),Hr(Ye(t,ba),zo(e,2))}),zs=Tr(function(t){var e=Ts(t);return e="function"==typeof e?e:o,Hr(Ye(t,ba),o,e)}),Ds=Tr(Ps);var js=Tr(function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,Rs(t,n)});function Fs(t){var e=di(t);return e.__chain__=!0,e}function Bs(t,e){return e(t)}var Us=Lo(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Mi(e,t)};return!(e>1||this.__actions__.length)&&i instanceof vi&&qo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Bs,args:[r],thisArg:o}),new _i(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(r)});var Hs=ro(function(t,e,n){ce.call(t,n)?++t[n]:Ri(t,n,1)});var $s=ho(_s),Ws=ho(vs);function Gs(t,e){return(va(t)?Ve:Fi)(t,zo(e,3))}function qs(t,e){return(va(t)?Ze:Bi)(t,zo(e,3))}var Vs=ro(function(t,e,n){ce.call(t,n)?t[n].push(e):Ri(t,n,[e])});var Zs=Tr(function(t,e,n){var r=-1,o="function"==typeof e,s=ya(t)?i(t.length):[];return Fi(t,function(t){s[++r]=o?Ge(e,t,n):ir(t,e,n)}),s}),Xs=ro(function(t,e,n){Ri(t,n,e)});function Ys(t,e){return(va(t)?Qe:fr)(t,zo(e,3))}var Ks=ro(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Js=Tr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Vo(t,e[0],e[1])?e=[]:n>2&&Vo(e[0],e[1],e[2])&&(e=[e[0]]),vr(t,Wi(e,1),[])}),Qs=zn||function(){return Me.Date.now()};function ta(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Eo(t,A,o,o,o,o,e)}function ea(t,e){var n;if("function"!=typeof e)throw new re(u);return t=Ua(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var na=Tr(function(t,e,n){var i=v;if(n.length){var r=Cn(n,No(na));i|=w}return Eo(t,i,e,n,r)}),ia=Tr(function(t,e,n){var i=v|g;if(n.length){var r=Cn(n,No(ia));i|=w}return Eo(e,i,t,n,r)});function ra(t,e,n){var i,r,s,a,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new re(u);function m(e){var n=i,s=r;return i=r=o,h=e,a=t.apply(s,n)}function _(t){var n=t-c;return c===o||n>=e||n<0||d&&t-h>=s}function v(){var t=Qs();if(_(t))return g(t);l=rs(v,function(t){var n=e-(t-c);return d?qn(n,s-(t-h)):n}(t))}function g(t){return l=o,p&&i?m(t):(i=r=o,a)}function y(){var t=Qs(),n=_(t);if(i=arguments,r=this,c=t,n){if(l===o)return function(t){return h=t,l=rs(v,e),f?m(t):a}(c);if(d)return l=rs(v,e),m(c)}return l===o&&(l=rs(v,e)),a}return e=$a(e)||0,ka(n)&&(f=!!n.leading,s=(d="maxWait"in n)?Gn($a(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),y.cancel=function(){l!==o&&Xr(l),h=0,i=c=r=l=o},y.flush=function(){return l===o?a:g(Qs())},y}var oa=Tr(function(t,e){return Di(t,1,e)}),sa=Tr(function(t,e,n){return Di(t,$a(e)||0,n)});function aa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(u);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(aa.Cache||bi),n}function ua(t){if("function"!=typeof t)throw new re(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}aa.Cache=bi;var la=Vr(function(t,e){var n=(e=1==e.length&&va(e[0])?Qe(e[0],vn(zo())):Qe(Wi(e,1),vn(zo()))).length;return Tr(function(i){for(var r=-1,o=qn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return Ge(t,this,i)})}),ca=Tr(function(t,e){var n=Cn(e,No(ca));return Eo(t,w,o,e,n)}),ha=Tr(function(t,e){var n=Cn(e,No(ha));return Eo(t,T,o,e,n)}),fa=Lo(function(t,e){return Eo(t,E,o,o,o,e)});function da(t,e){return t===e||t!=t&&e!=e}var pa=bo(Qi),ma=bo(function(t,e){return t>=e}),_a=rr(function(){return arguments}())?rr:function(t){return Ca(t)&&ce.call(t,"callee")&&!Ie.call(t,"callee")},va=i.isArray,ga=Fe?vn(Fe):function(t){return Ca(t)&&Ji(t)==ut};function ya(t){return null!=t&&Sa(t.length)&&!Aa(t)}function ba(t){return Ca(t)&&ya(t)}var xa=Un||$u,wa=Be?vn(Be):function(t){return Ca(t)&&Ji(t)==G};function Ta(t){if(!Ca(t))return!1;var e=Ji(t);return e==V||e==q||"string"==typeof t.message&&"string"==typeof t.name&&!Pa(t)}function Aa(t){if(!ka(t))return!1;var e=Ji(t);return e==Z||e==X||e==$||e==tt}function Ea(t){return"number"==typeof t&&t==Ua(t)}function Sa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=I}function ka(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ca(t){return null!=t&&"object"==typeof t}var Oa=Ue?vn(Ue):function(t){return Ca(t)&&Ho(t)==Y};function La(t){return"number"==typeof t||Ca(t)&&Ji(t)==K}function Pa(t){if(!Ca(t)||Ji(t)!=Q)return!1;var e=Pe(t);if(null===e)return!0;var n=ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&le.call(n)==pe}var Ra=He?vn(He):function(t){return Ca(t)&&Ji(t)==et};var Ma=$e?vn($e):function(t){return Ca(t)&&Ho(t)==nt};function Ia(t){return"string"==typeof t||!va(t)&&Ca(t)&&Ji(t)==it}function Na(t){return"symbol"==typeof t||Ca(t)&&Ji(t)==rt}var za=We?vn(We):function(t){return Ca(t)&&Sa(t.length)&&!!Se[Ji(t)]};var Da=bo(hr),ja=bo(function(t,e){return t<=e});function Fa(t){if(!t)return[];if(ya(t))return Ia(t)?Rn(t):no(t);if(je&&t[je])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[je]());var e=Ho(t);return(e==Y?Sn:e==nt?On:du)(t)}function Ba(t){return t?(t=$a(t))===M||t===-M?(t<0?-1:1)*N:t==t?t:0:0===t?t:0}function Ua(t){var e=Ba(t),n=e%1;return e==e?n?e-n:e:0}function Ha(t){return t?Ii(Ua(t),0,D):0}function $a(t){if("number"==typeof t)return t;if(Na(t))return z;if(ka(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ka(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(It,"");var n=Gt.test(t);return n||Vt.test(t)?Le(t.slice(2),n?2:8):Wt.test(t)?z:+t}function Wa(t){return io(t,ou(t))}function Ga(t){return null==t?"":zr(t)}var qa=oo(function(t,e){if(Ko(e)||ya(e))io(e,ru(e),t);else for(var n in e)ce.call(e,n)&&Ci(t,n,e[n])}),Va=oo(function(t,e){io(e,ou(e),t)}),Za=oo(function(t,e,n,i){io(e,ou(e),t,i)}),Xa=oo(function(t,e,n,i){io(e,ru(e),t,i)}),Ya=Lo(Mi);var Ka=Tr(function(t,e){t=ee(t);var n=-1,i=e.length,r=i>2?e[2]:o;for(r&&Vo(e[0],e[1],r)&&(i=1);++n<i;)for(var s=e[n],a=ou(s),u=-1,l=a.length;++u<l;){var c=a[u],h=t[c];(h===o||da(h,ae[c])&&!ce.call(t,c))&&(t[c]=s[c])}return t}),Ja=Tr(function(t){return t.push(o,ko),Ge(au,o,t)});function Qa(t,e,n){var i=null==t?o:Yi(t,e);return i===o?n:i}function tu(t,e){return null!=t&&$o(t,e,er)}var eu=mo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=n},ku(Lu)),nu=mo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),ce.call(t,e)?t[e].push(n):t[e]=[n]},zo),iu=Tr(ir);function ru(t){return ya(t)?Ti(t):lr(t)}function ou(t){return ya(t)?Ti(t,!0):cr(t)}var su=oo(function(t,e,n){mr(t,e,n)}),au=oo(function(t,e,n,i){mr(t,e,n,i)}),uu=Lo(function(t,e){var n={};if(null==t)return n;var i=!1;e=Qe(e,function(e){return e=qr(e,t),i||(i=e.length>1),e}),io(t,Ro(t),n),i&&(n=Ni(n,f|d|p,Co));for(var r=e.length;r--;)jr(n,e[r]);return n});var lu=Lo(function(t,e){return null==t?{}:function(t,e){return gr(t,e,function(e,n){return tu(t,n)})}(t,e)});function cu(t,e){if(null==t)return{};var n=Qe(Ro(t),function(t){return[t]});return e=zo(e),gr(t,n,function(t,n){return e(t,n[0])})}var hu=Ao(ru),fu=Ao(ou);function du(t){return null==t?[]:gn(t,ru(t))}var pu=lo(function(t,e,n){return e=e.toLowerCase(),t+(n?mu(e):e)});function mu(t){return Tu(Ga(t).toLowerCase())}function _u(t){return(t=Ga(t))&&t.replace(Xt,wn).replace(ye,"")}var vu=lo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),gu=lo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),yu=uo("toLowerCase");var bu=lo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var xu=lo(function(t,e,n){return t+(n?" ":"")+Tu(e)});var wu=lo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Tu=uo("toUpperCase");function Au(t,e,n){return t=Ga(t),(e=n?o:e)===o?function(t){return Te.test(t)}(t)?function(t){return t.match(xe)||[]}(t):function(t){return t.match(Bt)||[]}(t):t.match(e)||[]}var Eu=Tr(function(t,e){try{return Ge(t,o,e)}catch(t){return Ta(t)?t:new Jt(t)}}),Su=Lo(function(t,e){return Ve(e,function(e){e=cs(e),Ri(t,e,na(t[e],t))}),t});function ku(t){return function(){return t}}var Cu=fo(),Ou=fo(!0);function Lu(t){return t}function Pu(t){return ur("function"==typeof t?t:Ni(t,f))}var Ru=Tr(function(t,e){return function(n){return ir(n,t,e)}}),Mu=Tr(function(t,e){return function(n){return ir(t,n,e)}});function Iu(t,e,n){var i=ru(e),r=Xi(e,i);null!=n||ka(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Xi(e,ru(e)));var o=!(ka(n)&&"chain"in n&&!n.chain),s=Aa(t);return Ve(r,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,tn([this.value()],arguments))})}),t}function Nu(){}var zu=vo(Qe),Du=vo(Xe),ju=vo(rn);function Fu(t){return Zo(t)?fn(cs(t)):function(t){return function(e){return Yi(e,t)}}(t)}var Bu=yo(),Uu=yo(!0);function Hu(){return[]}function $u(){return!1}var Wu=_o(function(t,e){return t+e},0),Gu=wo("ceil"),qu=_o(function(t,e){return t/e},1),Vu=wo("floor");var Zu,Xu=_o(function(t,e){return t*e},1),Yu=wo("round"),Ku=_o(function(t,e){return t-e},0);return di.after=function(t,e){if("function"!=typeof e)throw new re(u);return t=Ua(t),function(){if(--t<1)return e.apply(this,arguments)}},di.ary=ta,di.assign=qa,di.assignIn=Va,di.assignInWith=Za,di.assignWith=Xa,di.at=Ya,di.before=ea,di.bind=na,di.bindAll=Su,di.bindKey=ia,di.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return va(t)?t:[t]},di.chain=Fs,di.chunk=function(t,e,n){e=(n?Vo(t,e,n):e===o)?1:Gn(Ua(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var s=0,a=0,u=i(jn(r/e));s<r;)u[a++]=Lr(t,s,s+=e);return u},di.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},di.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return tn(va(n)?no(n):[n],Wi(e,1))},di.cond=function(t){var e=null==t?0:t.length,n=zo();return t=e?Qe(t,function(t){if("function"!=typeof t[1])throw new re(u);return[n(t[0]),t[1]]}):[],Tr(function(n){for(var i=-1;++i<e;){var r=t[i];if(Ge(r[0],this,n))return Ge(r[1],this,n)}})},di.conforms=function(t){return function(t){var e=ru(t);return function(n){return zi(n,t,e)}}(Ni(t,f))},di.constant=ku,di.countBy=Hs,di.create=function(t,e){var n=pi(t);return null==e?n:Pi(n,e)},di.curry=function t(e,n,i){var r=Eo(e,b,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},di.curryRight=function t(e,n,i){var r=Eo(e,x,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},di.debounce=ra,di.defaults=Ka,di.defaultsDeep=Ja,di.defer=oa,di.delay=sa,di.difference=ds,di.differenceBy=ps,di.differenceWith=ms,di.drop=function(t,e,n){var i=null==t?0:t.length;return i?Lr(t,(e=n||e===o?1:Ua(e))<0?0:e,i):[]},di.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Lr(t,0,(e=i-(e=n||e===o?1:Ua(e)))<0?0:e):[]},di.dropRightWhile=function(t,e){return t&&t.length?Br(t,zo(e,3),!0,!0):[]},di.dropWhile=function(t,e){return t&&t.length?Br(t,zo(e,3),!0):[]},di.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Vo(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=Ua(n))<0&&(n=-n>r?0:r+n),(i=i===o||i>r?r:Ua(i))<0&&(i+=r),i=n>i?0:Ha(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},di.filter=function(t,e){return(va(t)?Ye:$i)(t,zo(e,3))},di.flatMap=function(t,e){return Wi(Ys(t,e),1)},di.flatMapDeep=function(t,e){return Wi(Ys(t,e),M)},di.flatMapDepth=function(t,e,n){return n=n===o?1:Ua(n),Wi(Ys(t,e),n)},di.flatten=gs,di.flattenDeep=function(t){return null!=t&&t.length?Wi(t,M):[]},di.flattenDepth=function(t,e){return null!=t&&t.length?Wi(t,e=e===o?1:Ua(e)):[]},di.flip=function(t){return Eo(t,S)},di.flow=Cu,di.flowRight=Ou,di.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},di.functions=function(t){return null==t?[]:Xi(t,ru(t))},di.functionsIn=function(t){return null==t?[]:Xi(t,ou(t))},di.groupBy=Vs,di.initial=function(t){return null!=t&&t.length?Lr(t,0,-1):[]},di.intersection=bs,di.intersectionBy=xs,di.intersectionWith=ws,di.invert=eu,di.invertBy=nu,di.invokeMap=Zs,di.iteratee=Pu,di.keyBy=Xs,di.keys=ru,di.keysIn=ou,di.map=Ys,di.mapKeys=function(t,e){var n={};return e=zo(e,3),Vi(t,function(t,i,r){Ri(n,e(t,i,r),t)}),n},di.mapValues=function(t,e){var n={};return e=zo(e,3),Vi(t,function(t,i,r){Ri(n,i,e(t,i,r))}),n},di.matches=function(t){return dr(Ni(t,f))},di.matchesProperty=function(t,e){return pr(t,Ni(e,f))},di.memoize=aa,di.merge=su,di.mergeWith=au,di.method=Ru,di.methodOf=Mu,di.mixin=Iu,di.negate=ua,di.nthArg=function(t){return t=Ua(t),Tr(function(e){return _r(e,t)})},di.omit=uu,di.omitBy=function(t,e){return cu(t,ua(zo(e)))},di.once=function(t){return ea(2,t)},di.orderBy=function(t,e,n,i){return null==t?[]:(va(e)||(e=null==e?[]:[e]),va(n=i?o:n)||(n=null==n?[]:[n]),vr(t,e,n))},di.over=zu,di.overArgs=la,di.overEvery=Du,di.overSome=ju,di.partial=ca,di.partialRight=ha,di.partition=Ks,di.pick=lu,di.pickBy=cu,di.property=Fu,di.propertyOf=function(t){return function(e){return null==t?o:Yi(t,e)}},di.pull=As,di.pullAll=Es,di.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?yr(t,e,zo(n,2)):t},di.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?yr(t,e,o,n):t},di.pullAt=Ss,di.range=Bu,di.rangeRight=Uu,di.rearg=fa,di.reject=function(t,e){return(va(t)?Ye:$i)(t,ua(zo(e,3)))},di.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=zo(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return br(t,r),n},di.rest=function(t,e){if("function"!=typeof t)throw new re(u);return Tr(t,e=e===o?e:Ua(e))},di.reverse=ks,di.sampleSize=function(t,e,n){return e=(n?Vo(t,e,n):e===o)?1:Ua(e),(va(t)?Ei:Er)(t,e)},di.set=function(t,e,n){return null==t?t:Sr(t,e,n)},di.setWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:Sr(t,e,n,i)},di.shuffle=function(t){return(va(t)?Si:Or)(t)},di.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Vo(t,e,n)?(e=0,n=i):(e=null==e?0:Ua(e),n=n===o?i:Ua(n)),Lr(t,e,n)):[]},di.sortBy=Js,di.sortedUniq=function(t){return t&&t.length?Ir(t):[]},di.sortedUniqBy=function(t,e){return t&&t.length?Ir(t,zo(e,2)):[]},di.split=function(t,e,n){return n&&"number"!=typeof n&&Vo(t,e,n)&&(e=n=o),(n=n===o?D:n>>>0)?(t=Ga(t))&&("string"==typeof e||null!=e&&!Ra(e))&&!(e=zr(e))&&En(t)?Zr(Rn(t),0,n):t.split(e,n):[]},di.spread=function(t,e){if("function"!=typeof t)throw new re(u);return e=null==e?0:Gn(Ua(e),0),Tr(function(n){var i=n[e],r=Zr(n,0,e);return i&&tn(r,i),Ge(t,this,r)})},di.tail=function(t){var e=null==t?0:t.length;return e?Lr(t,1,e):[]},di.take=function(t,e,n){return t&&t.length?Lr(t,0,(e=n||e===o?1:Ua(e))<0?0:e):[]},di.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Lr(t,(e=i-(e=n||e===o?1:Ua(e)))<0?0:e,i):[]},di.takeRightWhile=function(t,e){return t&&t.length?Br(t,zo(e,3),!1,!0):[]},di.takeWhile=function(t,e){return t&&t.length?Br(t,zo(e,3)):[]},di.tap=function(t,e){return e(t),t},di.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new re(u);return ka(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ra(t,e,{leading:i,maxWait:e,trailing:r})},di.thru=Bs,di.toArray=Fa,di.toPairs=hu,di.toPairsIn=fu,di.toPath=function(t){return va(t)?Qe(t,cs):Na(t)?[t]:no(ls(Ga(t)))},di.toPlainObject=Wa,di.transform=function(t,e,n){var i=va(t),r=i||xa(t)||za(t);if(e=zo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:ka(t)&&Aa(o)?pi(Pe(t)):{}}return(r?Ve:Vi)(t,function(t,i,r){return e(n,t,i,r)}),n},di.unary=function(t){return ta(t,1)},di.union=Cs,di.unionBy=Os,di.unionWith=Ls,di.uniq=function(t){return t&&t.length?Dr(t):[]},di.uniqBy=function(t,e){return t&&t.length?Dr(t,zo(e,2)):[]},di.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Dr(t,o,e):[]},di.unset=function(t,e){return null==t||jr(t,e)},di.unzip=Ps,di.unzipWith=Rs,di.update=function(t,e,n){return null==t?t:Fr(t,e,Gr(n))},di.updateWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:Fr(t,e,Gr(n),i)},di.values=du,di.valuesIn=function(t){return null==t?[]:gn(t,ou(t))},di.without=Ms,di.words=Au,di.wrap=function(t,e){return ca(Gr(e),t)},di.xor=Is,di.xorBy=Ns,di.xorWith=zs,di.zip=Ds,di.zipObject=function(t,e){return $r(t||[],e||[],Ci)},di.zipObjectDeep=function(t,e){return $r(t||[],e||[],Sr)},di.zipWith=js,di.entries=hu,di.entriesIn=fu,di.extend=Va,di.extendWith=Za,Iu(di,di),di.add=Wu,di.attempt=Eu,di.camelCase=pu,di.capitalize=mu,di.ceil=Gu,di.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=$a(n))==n?n:0),e!==o&&(e=(e=$a(e))==e?e:0),Ii($a(t),e,n)},di.clone=function(t){return Ni(t,p)},di.cloneDeep=function(t){return Ni(t,f|p)},di.cloneDeepWith=function(t,e){return Ni(t,f|p,e="function"==typeof e?e:o)},di.cloneWith=function(t,e){return Ni(t,p,e="function"==typeof e?e:o)},di.conformsTo=function(t,e){return null==e||zi(t,e,ru(e))},di.deburr=_u,di.defaultTo=function(t,e){return null==t||t!=t?e:t},di.divide=qu,di.endsWith=function(t,e,n){t=Ga(t),e=zr(e);var i=t.length,r=n=n===o?i:Ii(Ua(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},di.eq=da,di.escape=function(t){return(t=Ga(t))&&Et.test(t)?t.replace(Tt,Tn):t},di.escapeRegExp=function(t){return(t=Ga(t))&&Mt.test(t)?t.replace(Rt,"\\$&"):t},di.every=function(t,e,n){var i=va(t)?Xe:Ui;return n&&Vo(t,e,n)&&(e=o),i(t,zo(e,3))},di.find=$s,di.findIndex=_s,di.findKey=function(t,e){return sn(t,zo(e,3),Vi)},di.findLast=Ws,di.findLastIndex=vs,di.findLastKey=function(t,e){return sn(t,zo(e,3),Zi)},di.floor=Vu,di.forEach=Gs,di.forEachRight=qs,di.forIn=function(t,e){return null==t?t:Gi(t,zo(e,3),ou)},di.forInRight=function(t,e){return null==t?t:qi(t,zo(e,3),ou)},di.forOwn=function(t,e){return t&&Vi(t,zo(e,3))},di.forOwnRight=function(t,e){return t&&Zi(t,zo(e,3))},di.get=Qa,di.gt=pa,di.gte=ma,di.has=function(t,e){return null!=t&&$o(t,e,tr)},di.hasIn=tu,di.head=ys,di.identity=Lu,di.includes=function(t,e,n,i){t=ya(t)?t:du(t),n=n&&!i?Ua(n):0;var r=t.length;return n<0&&(n=Gn(r+n,0)),Ia(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&un(t,e,n)>-1},di.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Ua(n);return r<0&&(r=Gn(i+r,0)),un(t,e,r)},di.inRange=function(t,e,n){return e=Ba(e),n===o?(n=e,e=0):n=Ba(n),function(t,e,n){return t>=qn(e,n)&&t<Gn(e,n)}(t=$a(t),e,n)},di.invoke=iu,di.isArguments=_a,di.isArray=va,di.isArrayBuffer=ga,di.isArrayLike=ya,di.isArrayLikeObject=ba,di.isBoolean=function(t){return!0===t||!1===t||Ca(t)&&Ji(t)==W},di.isBuffer=xa,di.isDate=wa,di.isElement=function(t){return Ca(t)&&1===t.nodeType&&!Pa(t)},di.isEmpty=function(t){if(null==t)return!0;if(ya(t)&&(va(t)||"string"==typeof t||"function"==typeof t.splice||xa(t)||za(t)||_a(t)))return!t.length;var e=Ho(t);if(e==Y||e==nt)return!t.size;if(Ko(t))return!lr(t).length;for(var n in t)if(ce.call(t,n))return!1;return!0},di.isEqual=function(t,e){return or(t,e)},di.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:o)?n(t,e):o;return i===o?or(t,e,o,n):!!i},di.isError=Ta,di.isFinite=function(t){return"number"==typeof t&&Hn(t)},di.isFunction=Aa,di.isInteger=Ea,di.isLength=Sa,di.isMap=Oa,di.isMatch=function(t,e){return t===e||sr(t,e,jo(e))},di.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,sr(t,e,jo(e),n)},di.isNaN=function(t){return La(t)&&t!=+t},di.isNative=function(t){if(Yo(t))throw new Jt(a);return ar(t)},di.isNil=function(t){return null==t},di.isNull=function(t){return null===t},di.isNumber=La,di.isObject=ka,di.isObjectLike=Ca,di.isPlainObject=Pa,di.isRegExp=Ra,di.isSafeInteger=function(t){return Ea(t)&&t>=-I&&t<=I},di.isSet=Ma,di.isString=Ia,di.isSymbol=Na,di.isTypedArray=za,di.isUndefined=function(t){return t===o},di.isWeakMap=function(t){return Ca(t)&&Ho(t)==st},di.isWeakSet=function(t){return Ca(t)&&Ji(t)==at},di.join=function(t,e){return null==t?"":$n.call(t,e)},di.kebabCase=vu,di.last=Ts,di.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==o&&(r=(r=Ua(n))<0?Gn(i+r,0):qn(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):an(t,cn,r,!0)},di.lowerCase=gu,di.lowerFirst=yu,di.lt=Da,di.lte=ja,di.max=function(t){return t&&t.length?Hi(t,Lu,Qi):o},di.maxBy=function(t,e){return t&&t.length?Hi(t,zo(e,2),Qi):o},di.mean=function(t){return hn(t,Lu)},di.meanBy=function(t,e){return hn(t,zo(e,2))},di.min=function(t){return t&&t.length?Hi(t,Lu,hr):o},di.minBy=function(t,e){return t&&t.length?Hi(t,zo(e,2),hr):o},di.stubArray=Hu,di.stubFalse=$u,di.stubObject=function(){return{}},di.stubString=function(){return""},di.stubTrue=function(){return!0},di.multiply=Xu,di.nth=function(t,e){return t&&t.length?_r(t,Ua(e)):o},di.noConflict=function(){return Me._===this&&(Me._=me),this},di.noop=Nu,di.now=Qs,di.pad=function(t,e,n){t=Ga(t);var i=(e=Ua(e))?Pn(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return go(Fn(r),n)+t+go(jn(r),n)},di.padEnd=function(t,e,n){t=Ga(t);var i=(e=Ua(e))?Pn(t):0;return e&&i<e?t+go(e-i,n):t},di.padStart=function(t,e,n){t=Ga(t);var i=(e=Ua(e))?Pn(t):0;return e&&i<e?go(e-i,n)+t:t},di.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Zn(Ga(t).replace(Nt,""),e||0)},di.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Vo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Ba(t),e===o?(e=t,t=0):e=Ba(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Xn();return qn(t+r*(e-t+Oe("1e-"+((r+"").length-1))),e)}return xr(t,e)},di.reduce=function(t,e,n){var i=va(t)?en:pn,r=arguments.length<3;return i(t,zo(e,4),n,r,Fi)},di.reduceRight=function(t,e,n){var i=va(t)?nn:pn,r=arguments.length<3;return i(t,zo(e,4),n,r,Bi)},di.repeat=function(t,e,n){return e=(n?Vo(t,e,n):e===o)?1:Ua(e),wr(Ga(t),e)},di.replace=function(){var t=arguments,e=Ga(t[0]);return t.length<3?e:e.replace(t[1],t[2])},di.result=function(t,e,n){var i=-1,r=(e=qr(e,t)).length;for(r||(r=1,t=o);++i<r;){var s=null==t?o:t[cs(e[i])];s===o&&(i=r,s=n),t=Aa(s)?s.call(t):s}return t},di.round=Yu,di.runInContext=t,di.sample=function(t){return(va(t)?Ai:Ar)(t)},di.size=function(t){if(null==t)return 0;if(ya(t))return Ia(t)?Pn(t):t.length;var e=Ho(t);return e==Y||e==nt?t.size:lr(t).length},di.snakeCase=bu,di.some=function(t,e,n){var i=va(t)?rn:Pr;return n&&Vo(t,e,n)&&(e=o),i(t,zo(e,3))},di.sortedIndex=function(t,e){return Rr(t,e)},di.sortedIndexBy=function(t,e,n){return Mr(t,e,zo(n,2))},di.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Rr(t,e);if(i<n&&da(t[i],e))return i}return-1},di.sortedLastIndex=function(t,e){return Rr(t,e,!0)},di.sortedLastIndexBy=function(t,e,n){return Mr(t,e,zo(n,2),!0)},di.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Rr(t,e,!0)-1;if(da(t[n],e))return n}return-1},di.startCase=xu,di.startsWith=function(t,e,n){return t=Ga(t),n=null==n?0:Ii(Ua(n),0,t.length),e=zr(e),t.slice(n,n+e.length)==e},di.subtract=Ku,di.sum=function(t){return t&&t.length?mn(t,Lu):0},di.sumBy=function(t,e){return t&&t.length?mn(t,zo(e,2)):0},di.template=function(t,e,n){var i=di.templateSettings;n&&Vo(t,e,n)&&(e=o),t=Ga(t),e=Za({},e,i,So);var r,s,a=Za({},e.imports,i.imports,So),u=ru(a),l=gn(a,u),c=0,h=e.interpolate||Yt,f="__p += '",d=ne((e.escape||Yt).source+"|"+h.source+"|"+(h===Ct?Ht:Yt).source+"|"+(e.evaluate||Yt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ee+"]")+"\n";t.replace(d,function(e,n,i,o,a,u){return i||(i=o),f+=t.slice(c,u).replace(Kt,An),n&&(r=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var m=e.variable;m||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(yt,""):f).replace(bt,"$1").replace(xt,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var _=Eu(function(){return Qt(u,p+"return "+f).apply(o,l)});if(_.source=f,Ta(_))throw _;return _},di.times=function(t,e){if((t=Ua(t))<1||t>I)return[];var n=D,i=qn(t,D);e=zo(e),t-=D;for(var r=_n(i,e);++n<t;)e(n);return r},di.toFinite=Ba,di.toInteger=Ua,di.toLength=Ha,di.toLower=function(t){return Ga(t).toLowerCase()},di.toNumber=$a,di.toSafeInteger=function(t){return t?Ii(Ua(t),-I,I):0===t?t:0},di.toString=Ga,di.toUpper=function(t){return Ga(t).toUpperCase()},di.trim=function(t,e,n){if((t=Ga(t))&&(n||e===o))return t.replace(It,"");if(!t||!(e=zr(e)))return t;var i=Rn(t),r=Rn(e);return Zr(i,bn(i,r),xn(i,r)+1).join("")},di.trimEnd=function(t,e,n){if((t=Ga(t))&&(n||e===o))return t.replace(zt,"");if(!t||!(e=zr(e)))return t;var i=Rn(t);return Zr(i,0,xn(i,Rn(e))+1).join("")},di.trimStart=function(t,e,n){if((t=Ga(t))&&(n||e===o))return t.replace(Nt,"");if(!t||!(e=zr(e)))return t;var i=Rn(t);return Zr(i,bn(i,Rn(e))).join("")},di.truncate=function(t,e){var n=k,i=C;if(ka(e)){var r="separator"in e?e.separator:r;n="length"in e?Ua(e.length):n,i="omission"in e?zr(e.omission):i}var s=(t=Ga(t)).length;if(En(t)){var a=Rn(t);s=a.length}if(n>=s)return t;var u=n-Pn(i);if(u<1)return i;var l=a?Zr(a,0,u).join(""):t.slice(0,u);if(r===o)return l+i;if(a&&(u+=l.length-u),Ra(r)){if(t.slice(u).search(r)){var c,h=l;for(r.global||(r=ne(r.source,Ga($t.exec(r))+"g")),r.lastIndex=0;c=r.exec(h);)var f=c.index;l=l.slice(0,f===o?u:f)}}else if(t.indexOf(zr(r),u)!=u){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i},di.unescape=function(t){return(t=Ga(t))&&At.test(t)?t.replace(wt,Mn):t},di.uniqueId=function(t){var e=++he;return Ga(t)+e},di.upperCase=wu,di.upperFirst=Tu,di.each=Gs,di.eachRight=qs,di.first=ys,Iu(di,(Zu={},Vi(di,function(t,e){ce.call(di.prototype,e)||(Zu[e]=t)}),Zu),{chain:!1}),di.VERSION="4.17.11",Ve(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){di[t].placeholder=di}),Ve(["drop","take"],function(t,e){vi.prototype[t]=function(n){n=n===o?1:Gn(Ua(n),0);var i=this.__filtered__&&!e?new vi(this):this.clone();return i.__filtered__?i.__takeCount__=qn(n,i.__takeCount__):i.__views__.push({size:qn(n,D),type:t+(i.__dir__<0?"Right":"")}),i},vi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ve(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==P||3==n;vi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:zo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),Ve(["head","last"],function(t,e){var n="take"+(e?"Right":"");vi.prototype[t]=function(){return this[n](1).value()[0]}}),Ve(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vi.prototype[t]=function(){return this.__filtered__?new vi(this):this[n](1)}}),vi.prototype.compact=function(){return this.filter(Lu)},vi.prototype.find=function(t){return this.filter(t).head()},vi.prototype.findLast=function(t){return this.reverse().find(t)},vi.prototype.invokeMap=Tr(function(t,e){return"function"==typeof t?new vi(this):this.map(function(n){return ir(n,t,e)})}),vi.prototype.reject=function(t){return this.filter(ua(zo(t)))},vi.prototype.slice=function(t,e){t=Ua(t);var n=this;return n.__filtered__&&(t>0||e<0)?new vi(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=Ua(e))<0?n.dropRight(-e):n.take(e-t)),n)},vi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vi.prototype.toArray=function(){return this.take(D)},Vi(vi.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=di[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);r&&(di.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,u=e instanceof vi,l=a[0],c=u||va(e),h=function(t){var e=r.apply(di,tn([t],a));return i&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,m=u&&!d;if(!s&&c){e=m?e:new vi(this);var _=t.apply(e,a);return _.__actions__.push({func:Bs,args:[h],thisArg:o}),new _i(_,f)}return p&&m?t.apply(this,a):(_=this.thru(h),p?i?_.value()[0]:_.value():_)})}),Ve(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);di.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(va(r)?r:[],t)}return this[n](function(n){return e.apply(va(n)?n:[],t)})}}),Vi(vi.prototype,function(t,e){var n=di[e];if(n){var i=n.name+"";(ri[i]||(ri[i]=[])).push({name:e,func:n})}}),ri[po(o,g).name]=[{name:"wrapper",func:o}],vi.prototype.clone=function(){var t=new vi(this.__wrapped__);return t.__actions__=no(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=no(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=no(this.__views__),t},vi.prototype.reverse=function(){if(this.__filtered__){var t=new vi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},vi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=va(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=qn(e,t+s);break;case"takeRight":t=Gn(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=o.start,a=o.end,u=a-s,l=i?a:s-1,c=this.__iteratees__,h=c.length,f=0,d=qn(u,this.__takeCount__);if(!n||!i&&r==u&&d==u)return Ur(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var m=-1,_=t[l+=e];++m<h;){var v=c[m],g=v.iteratee,y=v.type,b=g(_);if(y==R)_=b;else if(!b){if(y==P)continue t;break t}}p[f++]=_}return p},di.prototype.at=Us,di.prototype.chain=function(){return Fs(this)},di.prototype.commit=function(){return new _i(this.value(),this.__chain__)},di.prototype.next=function(){this.__values__===o&&(this.__values__=Fa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},di.prototype.plant=function(t){for(var e,n=this;n instanceof mi;){var i=fs(n);i.__index__=0,i.__values__=o,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},di.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vi){var e=t;return this.__actions__.length&&(e=new vi(this)),(e=e.reverse()).__actions__.push({func:Bs,args:[ks],thisArg:o}),new _i(e,this.__chain__)}return this.thru(ks)},di.prototype.toJSON=di.prototype.valueOf=di.prototype.value=function(){return Ur(this.__wrapped__,this.__actions__)},di.prototype.first=di.prototype.head,je&&(di.prototype[je]=function(){return this}),di}();Me._=In,(r=function(){return In}.call(e,n,e,i))===o||(i.exports=r)}).call(this)}).call(this,n("yLpj"),n("YuTi")(t))},Lw30:function(t,e,n){"use strict";var i=n("gzFi");n.n(i).a},MLWZ:function(t,e,n){"use strict";var i=n("xTJ+");function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var s=[];i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),s.push(r(e)+"="+r(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},"N7A+":function(t,e,n){(function(e){var n;n=function(){"use strict";var t,n,i={};function r(e,r){if(t)if(n){var o="var shared_chunk = {}; ("+t+")(shared_chunk); ("+n+")(shared_chunk);",s={};t(s),(i=r(s)).workerURL=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))}else n=r;else t=r}r(0,function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=e(function(t){var e=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=e)}),i=(n.version,e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),r=e(function(t){var e=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:n.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),o=0,s=Math.random(),a=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++o+s).toString(36))},u=e(function(t){var e=r("wks"),n=i.Symbol,o="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=o&&n[t]||(o?n:a)("Symbol."+t))}).store=e}),l=function(t){return"object"==typeof t?null!==t:"function"==typeof t},c=function(t){if(!l(t))throw TypeError(t+" is not an object!");return t},h=function(t){try{return!!t()}catch(t){return!0}},f=!h(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),d=i.document,p=l(d)&&l(d.createElement),m=function(t){return p?d.createElement(t):{}},_=!f&&!h(function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a}),v=function(t,e){if(!l(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!l(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!l(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!l(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},g=Object.defineProperty,y={f:f?Object.defineProperty:function(t,e,n){if(c(t),e=v(e,!0),c(n),_)try{return g(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},b=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},x=f?function(t,e,n){return y.f(t,e,b(1,n))}:function(t,e,n){return t[e]=n,t},w=u("unscopables"),T=Array.prototype;null==T[w]&&x(T,w,{});var A=function(t){T[w][t]=!0},E=function(t,e){return{value:e,done:!!t}},S={},k={}.toString,C=function(t){return k.call(t).slice(8,-1)},O=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==C(t)?t.split(""):Object(t)},L=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},P=function(t){return O(L(t))},R={}.hasOwnProperty,M=function(t,e){return R.call(t,e)},I=e(function(t){var e=a("src"),r=Function.toString,o=(""+r).split("toString");n.inspectSource=function(t){return r.call(t)},(t.exports=function(t,n,r,s){var a="function"==typeof r;a&&(M(r,"name")||x(r,"name",n)),t[n]!==r&&(a&&(M(r,e)||x(r,e,t[n]?""+t[n]:o.join(String(n)))),t===i?t[n]=r:s?t[n]?t[n]=r:x(t,n,r):(delete t[n],x(t,n,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||r.call(this)})}),N=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},z=function(t,e,n){if(N(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},D=function(t,e,r){var o,s,a,u,l=t&D.F,c=t&D.G,h=t&D.S,f=t&D.P,d=t&D.B,p=c?i:h?i[e]||(i[e]={}):(i[e]||{}).prototype,m=c?n:n[e]||(n[e]={}),_=m.prototype||(m.prototype={});for(o in c&&(r=e),r)a=((s=!l&&p&&void 0!==p[o])?p:r)[o],u=d&&s?z(a,i):f&&"function"==typeof a?z(Function.call,a):a,p&&I(p,o,a,t&D.U),m[o]!=a&&x(m,o,u),f&&_[o]!=a&&(_[o]=a)};i.core=n,D.F=1,D.G=2,D.S=4,D.P=8,D.B=16,D.W=32,D.U=64,D.R=128;var j=D,F=Math.ceil,B=Math.floor,U=function(t){return isNaN(t=+t)?0:(t>0?B:F)(t)},H=Math.min,$=function(t){return t>0?H(U(t),9007199254740991):0},W=Math.max,G=Math.min,q=function(t,e){return(t=U(t))<0?W(t+e,0):G(t,e)},V=function(t){return function(e,n,i){var r,o=P(e),s=$(o.length),a=q(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Z=r("keys"),X=function(t){return Z[t]||(Z[t]=a(t))},Y=V(!1),K=X("IE_PROTO"),J=function(t,e){var n,i=P(t),r=0,o=[];for(n in i)n!=K&&M(i,n)&&o.push(n);for(;e.length>r;)M(i,n=e[r++])&&(~Y(o,n)||o.push(n));return o},Q="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),tt=Object.keys||function(t){return J(t,Q)},et=f?Object.defineProperties:function(t,e){c(t);for(var n,i=tt(e),r=i.length,o=0;r>o;)y.f(t,n=i[o++],e[n]);return t},nt=i.document,it=nt&&nt.documentElement,rt=X("IE_PROTO"),ot=function(){},st=function(){var t,e=m("iframe"),n=Q.length;for(e.style.display="none",it.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),st=t.F;n--;)delete st.prototype[Q[n]];return st()},at=Object.create||function(t,e){var n;return null!==t?(ot.prototype=c(t),n=new ot,ot.prototype=null,n[rt]=t):n=st(),void 0===e?n:et(n,e)},ut=y.f,lt=u("toStringTag"),ct=function(t,e,n){t&&!M(t=n?t:t.prototype,lt)&&ut(t,lt,{configurable:!0,value:e})},ht={};x(ht,u("iterator"),function(){return this});var ft=function(t){return Object(L(t))},dt=X("IE_PROTO"),pt=Object.prototype,mt=Object.getPrototypeOf||function(t){return t=ft(t),M(t,dt)?t[dt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?pt:null},_t=u("iterator"),vt=!([].keys&&"next"in[].keys()),gt=function(){return this},yt=function(t,e,n,i,r,o,s){!function(t,e,n){t.prototype=at(ht,{next:b(1,n)}),ct(t,e+" Iterator")}(n,e,i);var a,u,l,c=function(t){if(!vt&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",f="values"==r,d=!1,p=t.prototype,m=p[_t]||p["@@iterator"]||r&&p[r],_=m||c(r),v=r?f?c("entries"):_:void 0,g="Array"==e&&p.entries||m;if(g&&(l=mt(g.call(new t)))!==Object.prototype&&l.next&&(ct(l,h,!0),"function"!=typeof l[_t]&&x(l,_t,gt)),f&&m&&"values"!==m.name&&(d=!0,_=function(){return m.call(this)}),(vt||d||!p[_t])&&x(p,_t,_),S[e]=_,S[h]=gt,r)if(a={values:f?_:c("values"),keys:o?_:c("keys"),entries:v},s)for(u in a)u in p||I(p,u,a[u]);else j(j.P+j.F*(vt||d),e,a);return a},bt=yt(Array,"Array",function(t,e){this._t=P(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,E(1)):E(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");S.Arguments=S.Array,A("keys"),A("values"),A("entries");for(var xt=u("iterator"),wt=u("toStringTag"),Tt=S.Array,At={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Et=tt(At),St=0;St<Et.length;St++){var kt,Ct=Et[St],Ot=At[Ct],Lt=i[Ct],Pt=Lt&&Lt.prototype;if(Pt&&(Pt[xt]||x(Pt,xt,Tt),Pt[wt]||x(Pt,wt,Ct),S[Ct]=Tt,Ot))for(kt in bt)Pt[kt]||I(Pt,kt,bt[kt],!0)}var Rt={f:Object.getOwnPropertySymbols},Mt={f:{}.propertyIsEnumerable},It=Object.assign,Nt=!It||h(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=It({},t)[n]||Object.keys(It({},e)).join("")!=i})?function(t,e){for(var n=ft(t),i=arguments.length,r=1,o=Rt.f,s=Mt.f;i>r;)for(var a,u=O(arguments[r++]),l=o?tt(u).concat(o(u)):tt(u),c=l.length,h=0;c>h;)s.call(u,a=l[h++])&&(n[a]=u[a]);return n}:It;j(j.S+j.F,"Object",{assign:Nt});var zt={};try{window instanceof Window&&window.document instanceof HTMLDocument&&(zt.is_worker=!1,zt.is_main=!0)}catch(t){zt.is_worker=!0,zt.is_main=!1,self.window={document:{}},self.document=self.window.document}var Dt=function(t){return function(e,n){var i,r,o=String(L(e)),s=U(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?t?o.charAt(s):i:t?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}},jt=Dt(!0),Ft=function(t,e,n){return e+(n?jt(t,e).length:1)},Bt=u("toStringTag"),Ut="Arguments"==C(function(){return arguments}()),Ht=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Bt))?n:Ut?C(e):"Object"==(i=C(e))&&"function"==typeof e.callee?"Arguments":i},$t=RegExp.prototype.exec,Wt=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==Ht(t))throw new TypeError("RegExp#exec called on incompatible receiver");return $t.call(t,e)},Gt=function(){var t=c(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},qt=RegExp.prototype.exec,Vt=String.prototype.replace,Zt=qt,Xt=function(){var t=/a/,e=/b*/g;return qt.call(t,"a"),qt.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),Yt=void 0!==/()??/.exec("")[1];(Xt||Yt)&&(Zt=function(t){var e,n,i,r,o=this;return Yt&&(n=new RegExp("^"+o.source+"$(?!\\s)",Gt.call(o))),Xt&&(e=o.lastIndex),i=qt.call(o,t),Xt&&i&&(o.lastIndex=o.global?i.index+i[0].length:e),Yt&&i&&i.length>1&&Vt.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i});var Kt=Zt;j({target:"RegExp",proto:!0,forced:Kt!==/./.exec},{exec:Kt});var Jt=u("species"),Qt=!h(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),te=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),ee=function(t,e,n){var i=u(t),r=!h(function(){var e={};return e[i]=function(){return 7},7!=""[t](e)}),o=r?!h(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[Jt]=function(){return n}),n[i](""),!e}):void 0;if(!r||!o||"replace"===t&&!Qt||"split"===t&&!te){var s=/./[i],a=n(L,i,""[t],function(t,e,n,i,o){return e.exec===Kt?r&&!o?{done:!0,value:s.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),l=a[0],c=a[1];I(String.prototype,t,l),x(RegExp.prototype,i,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)})}},ne=Math.max,ie=Math.min,re=Math.floor,oe=/\$([$&`']|\d\d?|<[^>]*>)/g,se=/\$([$&`']|\d\d?)/g;ee("replace",2,function(t,e,n,i){return[function(i,r){var o=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var o=i(n,t,this,e);if(o.done)return o.value;var s=c(t),a=String(this),u="function"==typeof e;u||(e=String(e));var l=s.global;if(l){var h=s.unicode;s.lastIndex=0}for(var f=[];;){var d=Wt(s,a);if(null===d)break;if(f.push(d),!l)break;""===String(d[0])&&(s.lastIndex=Ft(a,$(s.lastIndex),h))}for(var p,m="",_=0,v=0;v<f.length;v++){d=f[v];for(var g=String(d[0]),y=ne(ie(U(d.index),a.length),0),b=[],x=1;x<d.length;x++)b.push(void 0===(p=d[x])?p:String(p));var w=d.groups;if(u){var T=[g].concat(b,y,a);void 0!==w&&T.push(w);var A=String(e.apply(void 0,T))}else A=r(g,a,y,b,w,e);y>=_&&(m+=a.slice(_,y)+A,_=y+g.length)}return m+a.slice(_)}];function r(t,e,i,r,o,s){var a=i+t.length,u=r.length,l=se;return void 0!==o&&(o=ft(o),l=oe),n.call(s,l,function(n,s){var l;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(a);case"<":l=o[s.slice(1,-1)];break;default:var c=+s;if(0===c)return n;if(c>u){var h=re(c/10);return 0===h?n:h<=u?void 0===r[h-1]?s.charAt(1):r[h-1]+s.charAt(1):n}l=r[c-1]}return void 0===l?"":l})}});var ae,ue=[].sort,le=[1,2,3];j(j.P+j.F*(h(function(){le.sort(void 0)})||!h(function(){le.sort(null)})||!((ae=ue)&&h(function(){ae.call(null)}))),"Array",{sort:function(t){return void 0===t?ue.call(ft(this)):ue.call(ft(this),N(t))}});var ce=e(function(t){var e=a("meta"),n=y.f,i=0,r=Object.isExtensible||function(){return!0},o=!h(function(){return r(Object.preventExtensions({}))}),s=function(t){n(t,e,{value:{i:"O"+ ++i,w:{}}})},u=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!l(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!M(t,e)){if(!r(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!M(t,e)){if(!r(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){return o&&u.NEED&&r(t)&&!M(t,e)&&s(t),t}}}),he=(ce.KEY,ce.NEED,ce.fastKey,ce.getWeak,ce.onFreeze,Array.isArray||function(t){return"Array"==C(t)}),fe=Q.concat("length","prototype"),de={f:Object.getOwnPropertyNames||function(t){return J(t,fe)}},pe=Object.getOwnPropertyDescriptor,me={f:f?pe:function(t,e){if(t=P(t),e=v(e,!0),_)try{return pe(t,e)}catch(t){}if(M(t,e))return b(!Mt.f.call(t,e),t[e])}},_e=Dt(!0);yt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=_e(e,n),this._i+=t.length,{value:t,done:!1})});var ve,ge,ye,be=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t},xe=function(t,e,n,i){try{return i?e(c(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&c(r.call(t)),e}},we=u("iterator"),Te=Array.prototype,Ae=function(t){return void 0!==t&&(S.Array===t||Te[we]===t)},Ee=u("iterator"),Se=n.getIteratorMethod=function(t){if(null!=t)return t[Ee]||t["@@iterator"]||S[Ht(t)]},ke=e(function(t){var e={},n={},i=t.exports=function(t,i,r,o,s){var a,u,l,h,f=s?function(){return t}:Se(t),d=z(r,o,i?2:1),p=0;if("function"!=typeof f)throw TypeError(t+" is not iterable!");if(Ae(f)){for(a=$(t.length);a>p;p++)if((h=i?d(c(u=t[p])[0],u[1]):d(t[p]))===e||h===n)return h}else for(l=f.call(t);!(u=l.next()).done;)if((h=xe(l,d,u.value,i))===e||h===n)return h};i.BREAK=e,i.RETURN=n}),Ce=u("species"),Oe=function(t,e){var n,i=c(t).constructor;return void 0===i||null==(n=c(i)[Ce])?e:N(n)},Le=i.process,Pe=i.setImmediate,Re=i.clearImmediate,Me=i.MessageChannel,Ie=i.Dispatch,Ne=0,ze={},De=function(){var t=+this;if(ze.hasOwnProperty(t)){var e=ze[t];delete ze[t],e()}},je=function(t){De.call(t.data)};Pe&&Re||(Pe=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return ze[++Ne]=function(){!function(t,e,n){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3])}t.apply(n,e)}("function"==typeof t?t:Function(t),e)},ve(Ne),Ne},Re=function(t){delete ze[t]},"process"==C(Le)?ve=function(t){Le.nextTick(z(De,t,1))}:Ie&&Ie.now?ve=function(t){Ie.now(z(De,t,1))}:Me?(ye=(ge=new Me).port2,ge.port1.onmessage=je,ve=z(ye.postMessage,ye,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts?(ve=function(t){i.postMessage(t+"","*")},i.addEventListener("message",je,!1)):ve="onreadystatechange"in m("script")?function(t){it.appendChild(m("script")).onreadystatechange=function(){it.removeChild(this),De.call(t)}}:function(t){setTimeout(z(De,t,1),0)});var Fe={set:Pe,clear:Re},Be=Fe.set,Ue=i.MutationObserver||i.WebKitMutationObserver,He=i.process,$e=i.Promise,We="process"==C(He);function Ge(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=N(e),this.reject=N(n)}var qe={f:function(t){return new Ge(t)}},Ve=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Ze=i.navigator,Xe=Ze&&Ze.userAgent||"",Ye=function(t,e,n){for(var i in e)I(t,i,e[i],n);return t},Ke=u("species"),Je=function(t){var e=i[t];f&&e&&!e[Ke]&&y.f(e,Ke,{configurable:!0,get:function(){return this}})},Qe=u("iterator"),tn=!1;try{[7][Qe]().return=function(){tn=!0}}catch(t){}var en,nn,rn,on,sn=function(t,e){if(!e&&!tn)return!1;var n=!1;try{var i=[7],r=i[Qe]();r.next=function(){return{done:n=!0}},i[Qe]=function(){return r},t(i)}catch(t){}return n},an=Fe.set,un=function(){var t,e,n,r=function(){var i,r;for(We&&(i=He.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(We)n=function(){He.nextTick(r)};else if(!Ue||i.navigator&&i.navigator.standalone)if($e&&$e.resolve){var o=$e.resolve(void 0);n=function(){o.then(r)}}else n=function(){Be.call(i,r)};else{var s=!0,a=document.createTextNode("");new Ue(r).observe(a,{characterData:!0}),n=function(){a.data=s=!s}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}(),ln=i.TypeError,cn=i.process,hn=cn&&cn.versions,fn=hn&&hn.v8||"",dn=i.Promise,pn="process"==Ht(cn),mn=function(){},_n=nn=qe.f,vn=!!function(){try{var t=dn.resolve(1),e=(t.constructor={})[u("species")]=function(t){t(mn,mn)};return(pn||"function"==typeof PromiseRejectionEvent)&&t.then(mn)instanceof e&&0!==fn.indexOf("6.6")&&-1===Xe.indexOf("Chrome/66")}catch(t){}}(),gn=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},yn=function(t,e){if(!t._n){t._n=!0;var n=t._c;un(function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,a=r?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{a?(r||(2==t._h&&wn(t),t._h=1),!0===a?n=i:(c&&c.enter(),n=a(i),c&&(c.exit(),s=!0)),n===e.promise?l(ln("Promise-chain cycle")):(o=gn(n))?o.call(n,u,l):u(n)):l(i)}catch(t){c&&!s&&c.exit(),l(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&bn(t)})}},bn=function(t){an.call(i,function(){var e,n,r,o=t._v,s=xn(t);if(s&&(e=Ve(function(){pn?cn.emit("unhandledRejection",o,t):(n=i.onunhandledrejection)?n({promise:t,reason:o}):(r=i.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=pn||xn(t)?2:1),t._a=void 0,s&&e.e)throw e.v})},xn=function(t){return 1!==t._h&&0===(t._a||t._c).length},wn=function(t){an.call(i,function(){var e;pn?cn.emit("rejectionHandled",t):(e=i.onrejectionhandled)&&e({promise:t,reason:t._v})})},Tn=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),yn(e,!0))},An=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw ln("Promise can't be resolved itself");(e=gn(t))?un(function(){var i={_w:n,_d:!1};try{e.call(t,z(An,i,1),z(Tn,i,1))}catch(t){Tn.call(i,t)}}):(n._v=t,n._s=1,yn(n,!1))}catch(t){Tn.call({_w:n,_d:!1},t)}}};vn||(dn=function(t){be(this,dn,"Promise","_h"),N(t),en.call(this);try{t(z(An,this,1),z(Tn,this,1))}catch(t){Tn.call(this,t)}},(en=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=Ye(dn.prototype,{then:function(t,e){var n=_n(Oe(this,dn));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=pn?cn.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&yn(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),rn=function(){var t=new en;this.promise=t,this.resolve=z(An,t,1),this.reject=z(Tn,t,1)},qe.f=_n=function(t){return t===dn||t===on?new rn(t):nn(t)}),j(j.G+j.W+j.F*!vn,{Promise:dn}),ct(dn,"Promise"),Je("Promise"),on=n.Promise,j(j.S+j.F*!vn,"Promise",{reject:function(t){var e=_n(this);return(0,e.reject)(t),e.promise}}),j(j.S+j.F*!vn,"Promise",{resolve:function(t){return function(t,e){if(c(t),l(e)&&e.constructor===t)return e;var n=qe.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),j(j.S+j.F*!(vn&&sn(function(t){dn.all(t).catch(mn)})),"Promise",{all:function(t){var e=this,n=_n(e),i=n.resolve,r=n.reject,o=Ve(function(){var n=[],o=0,s=1;ke(t,!1,function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=_n(e),i=n.reject,r=Ve(function(){ke(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}});var En=y.f,Sn=Function.prototype,kn=/^\s*function ([^ (]*)/;"name"in Sn||f&&En(Sn,"name",{configurable:!0,get:function(){try{return(""+this).match(kn)[1]}catch(t){return""}}});var Cn=function(t,e){var i=(n.Object||{})[t]||Object[t],r={};r[t]=e(i),j(j.S+j.F*h(function(){i(1)}),"Object",r)};function On(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ln(t,e,n){return e&&On(t.prototype,e),n&&On(t,n),t}function Pn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mn(t,e){return(Mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function In(t,e,n){return(In=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Mn(r,n.prototype),r}).apply(null,arguments)}function Nn(t){var e="function"==typeof Map?new Map:void 0;return(Nn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return In(t,arguments,Rn(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Mn(i,t)})(t)}Cn("keys",function(){return function(t){return tt(ft(t))}});var zn,Dn="v0.18.2",jn=u("match"),Fn=function(t){var e;return l(t)&&(void 0!==(e=t[jn])?!!e:"RegExp"==C(t))},Bn=Math.min,Un=[].push,Hn=!h(function(){});ee("split",2,function(t,e,n,i){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!Fn(t))return n.call(i,t,e);for(var r,o,s,a=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,c=void 0===e?4294967295:e>>>0,h=new RegExp(t.source,u+"g");(r=Kt.call(h,i))&&!((o=h.lastIndex)>l&&(a.push(i.slice(l,r.index)),r.length>1&&r.index<i.length&&Un.apply(a,r.slice(1)),s=r[0].length,l=o,a.length>=c));)h.lastIndex===r.index&&h.lastIndex++;return l===i.length?!s&&h.test("")||a.push(""):a.push(i.slice(l)),a.length>c?a.slice(0,c):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var o=t(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,o,i):r.call(String(o),n,i)},function(t,e){var o=i(r,t,this,e,r!==n);if(o.done)return o.value;var s=c(t),a=String(this),u=Oe(s,RegExp),l=s.unicode,h=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Hn?"y":"g"),f=new u(Hn?s:"^(?:"+s.source+")",h),d=void 0===e?4294967295:e>>>0;if(0===d)return[];if(0===a.length)return null===Wt(f,a)?[a]:[];for(var p=0,m=0,_=[];m<a.length;){f.lastIndex=Hn?m:0;var v,g=Wt(f,Hn?a:a.slice(m));if(null===g||(v=Bn($(f.lastIndex+(Hn?0:m)),a.length))===p)m=Ft(a,m,l);else{if(_.push(a.slice(p,m)),_.length===d)return _;for(var y=1;y<=g.length-1;y++)if(_.push(g[y]),_.length===d)return _;m=p=v}}return _.push(a.slice(p)),_}]});var $n=zn={},Wn=0,Gn={};function qn(t){var e=[];"string"==typeof t&&(e=t.split("."),t=e.pop());for(var n=zn.targets,i=0;i<e.length;i++){if(!n[e[i]])return[];n=n[e[i]]}return[t,n]}function Vn(t){Array.isArray(t)&&t.filter(function(t){return t.parent&&t.property}).forEach(function(t){return delete t.parent[t.property]})}zn.targets={},zn.addTarget=function(t,e){zn.targets[t]=e},zn.removeTarget=function(t){t&&delete zn.targets[t]},zn.withTransferables=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!(this instanceof zn.withTransferables))return In(zn.withTransferables,e);this.value=e,this.transferables=function t(e,n,i,r){if(void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=[]),!e)return r;if(Array.isArray(e))e.forEach(function(n,i){return t(n,e,i,r)});else if("object"==typeof e)if(e instanceof ArrayBuffer)r.push({object:e,parent:n,property:i});else if(e.buffer instanceof ArrayBuffer)r.push({object:e.buffer,parent:n,property:i});else for(var o in e)t(e[o],e,o,r);return r}(this.value)},zt.is_main&&(zn.postMessage=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(Array.isArray(t))return Promise.all(t.map(function(t){var n;return(n=zn).postMessage.apply(n,[t,e].concat(i))}));var o={};"object"==typeof e&&(o=e,e=e.method);var s,a=new Promise(function(t,n){Gn[Wn]={method:e,message:i,resolve:t,reject:n}}),u=[];return i&&1===i.length&&i[0]instanceof zn.withTransferables&&(u=i[0].transferables,i=i[0].value),s={type:"main_send",message_id:Wn,method:e,message:i},o.stringify&&(s=JSON.stringify(s)),t.postMessage(s,u.map(function(t){return t.object})),Vn(u),u.length>0&&Kn("trace","'"+e+"' transferred "+u.length+" objects to worker thread"),Wn++,a},zn.addWorker=function(t){if(!(t instanceof Worker))throw Error("Worker broker could not add non-Worker object",t);t.addEventListener("message",function(e){var n="string"==typeof e.data?JSON.parse(e.data):e.data,i=n.message_id;if("worker_reply"===n.type)Gn[i]&&(n.error?Gn[i].reject(n.error):Gn[i].resolve(n.message),delete Gn[i]);else if("worker_send"===n.type&&null!=i){var r,o,s,a,u;try{var l=qn(n.method);if(a=l[0],!(s=l[1]))throw Error("Worker broker could not dispatch message type "+n.method+" on target "+n.target+" because no object with that name is registered on main thread");if(!(u="function"==typeof s[a]&&s[a]))throw Error("Worker broker could not dispatch message type "+n.method+" on target "+n.target+" because object has no method with that name");r=u.apply(s,n.message)}catch(t){o=t}var c,h=[];r instanceof Promise?r.then(function(e){e instanceof zn.withTransferables&&(h=e.transferables,e=e.value[0]),c={type:"main_reply",message_id:i,message:e},t.postMessage(c,h.map(function(t){return t.object})),Vn(h),h.length>0&&Kn("trace","'"+a+"' transferred "+h.length+" objects to worker thread")},function(e){t.postMessage({type:"main_reply",message_id:i,error:e instanceof Error?e.message+": "+e.stack:e})}):(r instanceof zn.withTransferables&&(h=r.transferables,r=r.value[0]),c={type:"main_reply",message_id:i,message:r,error:o instanceof Error?o.message+": "+o.stack:o},t.postMessage(c,h.map(function(t){return t.object})),Vn(h),h.length>0&&Kn("trace","'"+a+"' transferred "+h.length+" objects to worker thread"))}})},zn.getMessages=function(){return Gn},zn.getMessageId=function(){return Wn}),zt.is_worker&&(zn.postMessage=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r={};"object"==typeof t&&(r=t,t=t.method);var o,s=new Promise(function(e,i){Gn[Wn]={method:t,message:n,resolve:e,reject:i}}),a=[];return n&&1===n.length&&n[0]instanceof zn.withTransferables&&(a=n[0].transferables,n=n[0].value),o={type:"worker_send",message_id:Wn,method:t,message:n},r.stringify&&(o=JSON.stringify(o)),self.postMessage(o,a.map(function(t){return t.object})),Vn(a),a.length>0&&Kn("trace","'"+t+"' transferred "+a.length+" objects to main thread"),Wn++,s},self.addEventListener("message",function(t){var e="string"==typeof t.data?JSON.parse(t.data):t.data,n=e.message_id;if("main_reply"===e.type)Gn[n]&&(e.error?Gn[n].reject(e.error):Gn[n].resolve(e.message),delete Gn[n]);else if("main_send"===e.type&&null!=n){var i,r,o,s,a;try{var u=qn(e.method);if(s=u[0],!(o=u[1]))throw Error("Worker broker could not dispatch message type "+e.method+" on target "+e.target+" because no object with that name is registered on main thread");if(!(a="function"==typeof o[s]&&o[s]))throw Error("Worker broker could not dispatch message type "+e.method+" because worker has no method with that name");i=a.apply(o,e.message)}catch(t){r=t}var l,c=[];i instanceof Promise?i.then(function(t){t instanceof zn.withTransferables&&(c=t.transferables,t=t.value[0]),l={type:"worker_reply",message_id:n,message:t},self.postMessage(l,c.map(function(t){return t.object})),Vn(c),c.length>0&&Kn("trace","'"+s+"' transferred "+c.length+" objects to main thread")},function(t){self.postMessage({type:"worker_reply",message_id:n,error:t instanceof Error?t.message+": "+t.stack:t})}):(i instanceof zn.withTransferables&&(c=i.transferables,i=i.value[0]),l={type:"worker_reply",message_id:n,message:i,error:r instanceof Error?r.message+": "+r.stack:r},self.postMessage(l,c.map(function(t){return t.object})),Vn(c),c.length>0&&Kn("trace","'"+s+"' transferred "+c.length+" objects to main thread"))}}));var Zn={silent:-1,error:0,warn:1,info:2,debug:3,trace:4},Xn={},Yn={};function Kn(t){var e="object"==typeof t?t.level:t;if(Zn[e]<=Zn[Kn.level]){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(zt.is_worker)return $n.postMessage.apply($n,[{method:"_logProxy",stringify:!0},t].concat(i));if("object"==typeof t&&!0===t.once){if(Yn[JSON.stringify(i)])return Promise.resolve(!1);Yn[JSON.stringify(i)]=!0}var o=function(t){if(zt.is_main)return Xn[t]=Xn[t]||(console[t]?console[t]:console.log).bind(console),Xn[t]}(e);return i.length>1?o.apply(void 0,["Tangram "+Dn+" ["+e+"]: "+i[0]].concat(i.slice(1))):o("Tangram "+Dn+" ["+e+"]: "+i[0]),Promise.resolve(!0)}return Promise.resolve(!1)}Kn.level="info",Kn.workers=null,Kn.setLevel=function(t){Kn.level=t,zt.is_main&&Array.isArray(Kn.workers)&&$n.postMessage(Kn.workers,"_logSetLevelProxy",t)},zt.is_main&&(Kn.setWorkers=function(t){Kn.workers=t},Kn.reset=function(){Yn={}}),$n.addTarget("_logProxy",Kn),$n.addTarget("_logSetLevelProxy",Kn.setLevel),f&&"g"!=/./g.flags&&y.f(RegExp.prototype,"flags",{configurable:!0,get:Gt});var Jn=/./.toString,Qn=function(t){I(RegExp.prototype,"toString",t,!0)};h(function(){return"/a/b"!=Jn.call({source:"a",flags:"b"})})?Qn(function(){var t=c(this);return"/".concat(t.source,"/","flags"in t?t.flags:!f&&t instanceof RegExp?Gt.call(t):void 0)}):"toString"!=Jn.name&&Qn(function(){return Jn.call(this)});var ti,ei={};$n.addTarget("Utils",ei),ei.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},ei.isMicrosoft=function(){return/(Trident\/7.0|Edge[ \/](\d+[.\d]+))/i.test(navigator.userAgent)},ei._requests={},ei._proxy_requests={},ei.io=function(t,e,n,i,r,o,s){if(void 0===e&&(e=6e4),void 0===n&&(n="text"),void 0===i&&(i="GET"),void 0===r&&(r={}),void 0===o&&(o=null),void 0===s&&(s=!1),zt.is_worker&&ei.isMicrosoft())return Kn("debug","Proxying request for URL to worker",t),o&&(ei._proxy_requests[o]=!0),$n.postMessage("Utils.io",t,e,n,i,r,o,!0);var a=new XMLHttpRequest,u=new Promise(function(o,s){if(a.open(i,t,!0),a.timeout=e,a.responseType=n,r&&"object"==typeof r)for(var u in r)a.setRequestHeader(u,r[u]);a.onload=function(){200===a.status?["text","json"].indexOf(a.responseType)>-1?o(a.responseText):o(a.response):s(Error("Request error with a status of "+a.statusText))},a.onerror=function(t){s(Error("There was a network error"+t.toString()))},a.ontimeout=function(t){s(Error("timeout "+t.toString()))},a.send()});return u=u.then(function(t){return o&&delete ei._requests[o],s?$n.withTransferables(t):t}),o&&(ei._requests[o]=a),u},ei.cancelRequest=function(t){if(zt.is_worker&&ei._proxy_requests[t])return $n.postMessage("Utils.cancelRequest",t);ei._requests[t]?(Kn("trace","Cancelling network request key '"+t+"'"),ei._requests[t].abort(),delete ei._requests[t]):Kn("trace","Could not find network request key '"+t+"'")},ei.serializeWithFunctions=function(t){return"function"==typeof t?t.toString():JSON.stringify(t,function(t,e){return"function"==typeof e?e.toString():e})},ei.use_high_density_display=!0,ei.updateDevicePixelRatio=function(){var t=ei.device_pixel_ratio;return ei.device_pixel_ratio=ei.use_high_density_display&&window.devicePixelRatio||1,ei.device_pixel_ratio!==t},zt.is_main&&ei.updateDevicePixelRatio(),ei.isPowerOf2=function(t){return 0==(t&t-1)},ei.interpolate=function(t,e,n){if(!Array.isArray(e)||!Array.isArray(e[0]))return e;if(e.length<1)return e;var i,r,o,s,a;if(t<=e[0][0])s=e[0][1],"function"==typeof n&&(s=n(s));else if(t>=e[e.length-1][0])s=e[e.length-1][1],"function"==typeof n&&(s=n(s));else for(var u=0;u<e.length-1;u++)if(t>=e[u][0]&&t<e[u+1][0]){if(i=e[u][0],r=e[u+1][0],Array.isArray(e[u][1])){s=[];for(var l=0;l<e[u][1].length;l++)"function"==typeof n?(a=n(e[u][1][l]),o=n(e[u+1][1][l])-a,s[l]=o*(t-i)/(r-i)+a):(o=e[u+1][1][l]-e[u][1][l],s[l]=o*(t-i)/(r-i)+e[u][1][l])}else"function"==typeof n?(a=n(e[u][1]),s=(o=n(e[u+1][1])-a)*(t-i)/(r-i)+a):s=(o=e[u+1][1]-e[u][1])*(t-i)/(r-i)+e[u][1];break}return s},ei.toCSSColor=function(t){return 1===t[3]?"rgb("+t.slice(0,3).map(function(t){return Math.round(255*t)}).join(", ")+")":"rgba("+t.map(function(t,e){return e<3&&Math.round(255*t)||t}).join(", ")+")"};var ni=ti={draw_label_collision_boxes:!1,draw_label_texture_boxes:!1,suppress_label_fade_in:!1,suppress_label_snap_animation:!1,show_hidden_labels:!1,layer_stats:!1},ii=function(t,e){if(c(t),!l(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},ri=Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=z(Function.call,me.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return ii(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),oi=function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&l(i)&&ri&&ri(t,i),t},si=y.f,ai=de.f,ui=i.RegExp,li=ui,ci=ui.prototype,hi=/a/g,fi=/a/g,di=new ui(hi)!==hi;if(f&&(!di||h(function(){return fi[u("match")]=!1,ui(hi)!=hi||ui(fi)==fi||"/a/i"!=ui(hi,"i")}))){ui=function(t,e){var n=this instanceof ui,i=Fn(t),r=void 0===e;return!n&&i&&t.constructor===ui&&r?t:oi(di?new li(i&&!r?t.source:t,e):li((i=t instanceof ui)?t.source:t,i&&r?Gt.call(t):e),n?this:ci,ui)};for(var pi=function(t){t in ui||si(ui,t,{configurable:!0,get:function(){return li[t]},set:function(e){li[t]=e}})},mi=ai(li),_i=0;mi.length>_i;)pi(mi[_i++]);ci.constructor=ui,ui.prototype=ci,I(i,"RegExp",ui)}Je("RegExp");var vi,gi=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};function yi(t){if("string"==typeof t&&-1===t.search(/^(data|blob):/)){var e=t.indexOf("?");e>-1&&(t=t.substr(0,e));var n=t.indexOf("#");return n>-1&&(t=t.substr(0,n)),t.substr(0,t.lastIndexOf("/")+1)||""}return""}function bi(t){if("string"==typeof t)return!(t.search(/^(http|https|data|blob):/)>-1||"//"===t.substr(0,2))}function xi(t,e){t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}ee("search",1,function(t,e,n,i){return[function(n){var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=i(n,t,this);if(e.done)return e.value;var r=c(t),o=String(this),s=r.lastIndex;gi(s,0)||(r.lastIndex=0);var a=Wt(r,o);return gi(r.lastIndex,s)||(r.lastIndex=s),null===a?-1:a.index}]});var wi={id:0,queue:[],max_time:20,start_time:null,state:{},add:function(t){t.id=wi.id++,t.max_time=t.max_time||wi.max_time,t.pause_factor=t.pause_factor||1;var e=new Promise(function(e,n){t.resolve=e,t.reject=n});return t.promise=e,t.elapsed=0,t.total_elapsed=0,t.stats={calls:0},this.queue.push(t),this.start_time=this.start_time||performance.now(),this.elapsed=performance.now()-this.start_time,(this.elapsed<wi.max_time||t.immediate)&&this.process(t),t.promise},remove:function(t){var e=this.queue.indexOf(t);e>-1&&this.queue.splice(e,1)},process:function(t){if(!this.state.user_moving_view||!1!==t.user_moving_view)return t.pause?(t.pause--,!0):(t.stats.calls++,t.start_time=performance.now(),t.run(t))},processAll:function(){this.start_time=this.start_time||performance.now();for(var t=0;t<this.queue.length;t++){var e=this.queue[t];if(!0!==this.process(e)&&(e.pause||(e.pause=e.elapsed>e.max_time?e.pause_factor:0),e.total_elapsed+=e.elapsed),this.elapsed=performance.now()-this.start_time,this.elapsed>=wi.max_time){this.start_time=null;break}}},finish:function(t,e){return t.elapsed=performance.now()-t.start_time,t.total_elapsed+=t.elapsed,this.remove(t),t.resolve(e),t.promise},cancel:function(t){var e;t.cancel instanceof Function&&(e=t.cancel(t)),t.resolve(e)},shouldContinue:function(t){return t.elapsed=performance.now()-t.start_time,this.elapsed=performance.now()-this.start_time,t.elapsed<t.max_time&&this.elapsed<wi.max_time},removeForTile:function(t){for(var e=this.queue.length-1;e>=0;e--)this.queue[e].tile_id===t&&(this.cancel(this.queue[e]),this.queue.splice(e,1))},setState:function(t){this.state=t}};function Ti(t){var e=[];return Object.assign(t,{subscribe:function(t){-1===e.indexOf(t)&&e.push(t)},unsubscribe:function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},unsubscribeAll:function(){e=[]},trigger:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.forEach(function(e){if("function"==typeof e[t])try{e[t].apply(e,i)}catch(e){Kn("warn","Caught exception in listener for event '"+t+"':",e)}})},hasSubscribersFor:function(t){var n=!1;return e.forEach(function(e){"function"==typeof e[t]&&(n=!0)}),n}})}function Ai(t,e){var n={};return e.forEach(function(e){return n[e]=t[e]}),n}j(j.P,"String",{repeat:function(t){var e=String(L(this)),n="",i=U(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}});for(var Ei,Si=a("typed_array"),ki=a("view"),Ci=!(!i.ArrayBuffer||!i.DataView),Oi=Ci,Li=0,Pi="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");Li<9;)(Ei=i[Pi[Li++]])?(x(Ei.prototype,Si,!0),x(Ei.prototype,ki,!0)):Oi=!1;var Ri={ABV:Ci,CONSTR:Oi,TYPED:Si,VIEW:ki},Mi=function(t){if(void 0===t)return 0;var e=U(t),n=$(e);if(e!==n)throw RangeError("Wrong length!");return n},Ii=function(t){for(var e=ft(this),n=$(e.length),i=arguments.length,r=q(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:q(o,n);s>r;)e[r++]=t;return e},Ni=e(function(t,e){var n=de.f,r=y.f,o="prototype",s="Wrong index!",a=i.ArrayBuffer,u=i.DataView,l=i.Math,c=i.RangeError,d=i.Infinity,p=a,m=l.abs,_=l.pow,v=l.floor,g=l.log,b=l.LN2,w=f?"_b":"buffer",T=f?"_l":"byteLength",A=f?"_o":"byteOffset";function E(t,e,n){var i,r,o,s=new Array(n),a=8*n-e-1,u=(1<<a)-1,l=u>>1,c=23===e?_(2,-24)-_(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=m(t))!=t||t===d?(r=t!=t?1:0,i=u):(i=v(g(t)/b),t*(o=_(2,-i))<1&&(i--,o*=2),(t+=i+l>=1?c/o:c*_(2,1-l))*o>=2&&(i++,o/=2),i+l>=u?(r=0,i=u):i+l>=1?(r=(t*o-1)*_(2,e),i+=l):(r=t*_(2,l-1)*_(2,e),i=0));e>=8;s[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;a>0;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*f,s}function S(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;a>0;c=256*c+t[u],u--,a-=8);for(i=c&(1<<-a)-1,c>>=-a,a+=e;a>0;i=256*i+t[u],u--,a-=8);if(0===c)c=1-s;else{if(c===o)return i?NaN:l?-d:d;i+=_(2,e),c-=s}return(l?-1:1)*i*_(2,c-e)}function k(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function C(t){return[255&t]}function O(t){return[255&t,t>>8&255]}function L(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function P(t){return E(t,52,8)}function R(t){return E(t,23,4)}function M(t,e,n){r(t[o],e,{get:function(){return this[n]}})}function I(t,e,n,i){var r=Mi(+n);if(r+e>t[T])throw c(s);var o=t[w]._b,a=r+t[A],u=o.slice(a,a+e);return i?u:u.reverse()}function N(t,e,n,i,r,o){var a=Mi(+n);if(a+e>t[T])throw c(s);for(var u=t[w]._b,l=a+t[A],h=i(+r),f=0;f<e;f++)u[l+f]=h[o?f:e-f-1]}if(Ri.ABV){if(!h(function(){a(1)})||!h(function(){new a(-1)})||h(function(){return new a,new a(1.5),new a(NaN),"ArrayBuffer"!=a.name})){for(var z,D=(a=function(t){return be(this,a),new p(Mi(t))})[o]=p[o],j=n(p),F=0;j.length>F;)(z=j[F++])in a||x(a,z,p[z]);D.constructor=a}var B=new u(new a(2)),H=u[o].setInt8;B.setInt8(0,2147483648),B.setInt8(1,2147483649),!B.getInt8(0)&&B.getInt8(1)||Ye(u[o],{setInt8:function(t,e){H.call(this,t,e<<24>>24)},setUint8:function(t,e){H.call(this,t,e<<24>>24)}},!0)}else a=function(t){be(this,a,"ArrayBuffer");var e=Mi(t);this._b=Ii.call(new Array(e),0),this[T]=e},u=function(t,e,n){be(this,u,"DataView"),be(t,a,"DataView");var i=t[T],r=U(e);if(r<0||r>i)throw c("Wrong offset!");if(r+(n=void 0===n?i-r:$(n))>i)throw c("Wrong length!");this[w]=t,this[A]=r,this[T]=n},f&&(M(a,"byteLength","_l"),M(u,"buffer","_b"),M(u,"byteLength","_l"),M(u,"byteOffset","_o")),Ye(u[o],{getInt8:function(t){return I(this,1,t)[0]<<24>>24},getUint8:function(t){return I(this,1,t)[0]},getInt16:function(t){var e=I(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=I(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return k(I(this,4,t,arguments[1]))},getUint32:function(t){return k(I(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return S(I(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return S(I(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){N(this,1,t,C,e)},setUint8:function(t,e){N(this,1,t,C,e)},setInt16:function(t,e){N(this,2,t,O,e,arguments[2])},setUint16:function(t,e){N(this,2,t,O,e,arguments[2])},setInt32:function(t,e){N(this,4,t,L,e,arguments[2])},setUint32:function(t,e){N(this,4,t,L,e,arguments[2])},setFloat32:function(t,e){N(this,4,t,R,e,arguments[2])},setFloat64:function(t,e){N(this,8,t,P,e,arguments[2])}});ct(a,"ArrayBuffer"),ct(u,"DataView"),x(u[o],Ri.VIEW,!0),e.ArrayBuffer=a,e.DataView=u}),zi=u("species"),Di=function(t,e){return new(function(t){var e;return he(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!he(e.prototype)||(e=void 0),l(e)&&null===(e=e[zi])&&(e=void 0)),void 0===e?Array:e}(t))(e)},ji=function(t,e){var n=1==t,i=2==t,r=3==t,o=4==t,s=6==t,a=5==t||s,u=e||Di;return function(e,l,c){for(var h,f,d=ft(e),p=O(d),m=z(l,c,3),_=$(p.length),v=0,g=n?u(e,_):i?u(e,0):void 0;_>v;v++)if((a||v in p)&&(f=m(h=p[v],v,d),t))if(n)g[v]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return v;case 2:g.push(h)}else if(o)return!1;return s?-1:r||o?o:g}},Fi=[].copyWithin||function(t,e){var n=ft(this),i=$(n.length),r=q(t,i),o=q(e,i),s=arguments.length>2?arguments[2]:void 0,a=Math.min((void 0===s?i:q(s,i))-o,i-r),u=1;for(o<r&&r<o+a&&(u=-1,o+=a-1,r+=a-1);a-- >0;)o in n?n[r]=n[o]:delete n[r],r+=u,o+=u;return n},Bi=e(function(t){if(f){var e=i,n=h,r=j,o=Ri,s=Ni,c=z,d=be,p=b,m=x,_=Ye,g=U,w=$,T=Mi,A=q,E=v,k=M,C=Ht,O=l,L=ft,P=Ae,R=at,I=mt,N=de.f,D=Se,F=a,B=u,H=ji,W=V,G=Oe,Z=bt,X=S,Y=sn,K=Je,J=Ii,Q=Fi,tt=y,et=me,nt=tt.f,it=et.f,rt=e.RangeError,ot=e.TypeError,st=e.Uint8Array,ut=Array.prototype,lt=s.ArrayBuffer,ct=s.DataView,ht=H(0),dt=H(2),pt=H(3),_t=H(4),vt=H(5),gt=H(6),yt=W(!0),xt=W(!1),wt=Z.values,Tt=Z.keys,At=Z.entries,Et=ut.lastIndexOf,St=ut.reduce,kt=ut.reduceRight,Ct=ut.join,Ot=ut.sort,Lt=ut.slice,Pt=ut.toString,Rt=ut.toLocaleString,Mt=B("iterator"),It=B("toStringTag"),Nt=F("typed_constructor"),zt=F("def_constructor"),Dt=o.CONSTR,jt=o.TYPED,Ft=o.VIEW,Bt=H(1,function(t,e){return qt(G(t,t[zt]),e)}),Ut=n(function(){return 1===new st(new Uint16Array([1]).buffer)[0]}),$t=!!st&&!!st.prototype.set&&n(function(){new st(1).set({})}),Wt=function(t,e){var n=g(t);if(n<0||n%e)throw rt("Wrong offset!");return n},Gt=function(t){if(O(t)&&jt in t)return t;throw ot(t+" is not a typed array!")},qt=function(t,e){if(!(O(t)&&Nt in t))throw ot("It is not a typed array constructor!");return new t(e)},Vt=function(t,e){return Zt(G(t,t[zt]),e)},Zt=function(t,e){for(var n=0,i=e.length,r=qt(t,i);i>n;)r[n]=e[n++];return r},Xt=function(t,e,n){nt(t,e,{get:function(){return this._d[n]}})},Yt=function(t){var e,n,i,r,o,s,a=L(t),u=arguments.length,l=u>1?arguments[1]:void 0,h=void 0!==l,f=D(a);if(null!=f&&!P(f)){for(s=f.call(a),i=[],e=0;!(o=s.next()).done;e++)i.push(o.value);a=i}for(h&&u>2&&(l=c(l,arguments[2],2)),e=0,n=w(a.length),r=qt(this,n);n>e;e++)r[e]=h?l(a[e],e):a[e];return r},Kt=function(){for(var t=0,e=arguments.length,n=qt(this,e);e>t;)n[t]=arguments[t++];return n},Jt=!!st&&n(function(){Rt.call(new st(1))}),Qt=function(){return Rt.apply(Jt?Lt.call(Gt(this)):Gt(this),arguments)},te={copyWithin:function(t,e){return Q.call(Gt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return _t(Gt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return J.apply(Gt(this),arguments)},filter:function(t){return Vt(this,dt(Gt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return vt(Gt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return gt(Gt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){ht(Gt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return xt(Gt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return yt(Gt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return Ct.apply(Gt(this),arguments)},lastIndexOf:function(t){return Et.apply(Gt(this),arguments)},map:function(t){return Bt(Gt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return St.apply(Gt(this),arguments)},reduceRight:function(t){return kt.apply(Gt(this),arguments)},reverse:function(){for(var t,e=Gt(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t){return pt(Gt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return Ot.call(Gt(this),t)},subarray:function(t,e){var n=Gt(this),i=n.length,r=A(t,i);return new(G(n,n[zt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,w((void 0===e?i:A(e,i))-r))}},ee=function(t,e){return Vt(this,Lt.call(Gt(this),t,e))},ne=function(t){Gt(this);var e=Wt(arguments[1],1),n=this.length,i=L(t),r=w(i.length),o=0;if(r+e>n)throw rt("Wrong length!");for(;o<r;)this[e+o]=i[o++]},ie={entries:function(){return At.call(Gt(this))},keys:function(){return Tt.call(Gt(this))},values:function(){return wt.call(Gt(this))}},re=function(t,e){return O(t)&&t[jt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},oe=function(t,e){return re(t,e=E(e,!0))?p(2,t[e]):it(t,e)},se=function(t,e,n){return!(re(t,e=E(e,!0))&&O(n)&&k(n,"value"))||k(n,"get")||k(n,"set")||n.configurable||k(n,"writable")&&!n.writable||k(n,"enumerable")&&!n.enumerable?nt(t,e,n):(t[e]=n.value,t)};Dt||(et.f=oe,tt.f=se),r(r.S+r.F*!Dt,"Object",{getOwnPropertyDescriptor:oe,defineProperty:se}),n(function(){Pt.call({})})&&(Pt=Rt=function(){return Ct.call(this)});var ae=_({},te);_(ae,ie),m(ae,Mt,ie.values),_(ae,{slice:ee,set:ne,constructor:function(){},toString:Pt,toLocaleString:Qt}),Xt(ae,"buffer","b"),Xt(ae,"byteOffset","o"),Xt(ae,"byteLength","l"),Xt(ae,"length","e"),nt(ae,It,{get:function(){return this[jt]}}),t.exports=function(t,i,s,a){var u=t+((a=!!a)?"Clamped":"")+"Array",l="get"+t,c="set"+t,h=e[u],f=h||{},p=h&&I(h),_=!h||!o.ABV,v={},g=h&&h.prototype,y=function(t,e){nt(t,e,{get:function(){return function(t,e){var n=t._d;return n.v[l](e*i+n.o,Ut)}(this,e)},set:function(t){return function(t,e,n){var r=t._d;a&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[c](e*i+r.o,n,Ut)}(this,e,t)},enumerable:!0})};_?(h=s(function(t,e,n,r){d(t,h,u,"_d");var o,s,a,l,c=0,f=0;if(O(e)){if(!(e instanceof lt||"ArrayBuffer"==(l=C(e))||"SharedArrayBuffer"==l))return jt in e?Zt(h,e):Yt.call(h,e);o=e,f=Wt(n,i);var p=e.byteLength;if(void 0===r){if(p%i)throw rt("Wrong length!");if((s=p-f)<0)throw rt("Wrong length!")}else if((s=w(r)*i)+f>p)throw rt("Wrong length!");a=s/i}else a=T(e),o=new lt(s=a*i);for(m(t,"_d",{b:o,o:f,l:s,e:a,v:new ct(o)});c<a;)y(t,c++)}),g=h.prototype=R(ae),m(g,"constructor",h)):n(function(){h(1)})&&n(function(){new h(-1)})&&Y(function(t){new h,new h(null),new h(1.5),new h(t)},!0)||(h=s(function(t,e,n,r){var o;return d(t,h,u),O(e)?e instanceof lt||"ArrayBuffer"==(o=C(e))||"SharedArrayBuffer"==o?void 0!==r?new f(e,Wt(n,i),r):void 0!==n?new f(e,Wt(n,i)):new f(e):jt in e?Zt(h,e):Yt.call(h,e):new f(T(e))}),ht(p!==Function.prototype?N(f).concat(N(p)):N(f),function(t){t in h||m(h,t,f[t])}),h.prototype=g,g.constructor=h);var b=g[Mt],x=!!b&&("values"==b.name||null==b.name),A=ie.values;m(h,Nt,!0),m(g,jt,u),m(g,Ft,!0),m(g,zt,h),(a?new h(1)[It]==u:It in g)||nt(g,It,{get:function(){return u}}),v[u]=h,r(r.G+r.W+r.F*(h!=f),v),r(r.S,u,{BYTES_PER_ELEMENT:i}),r(r.S+r.F*n(function(){f.of.call(h,1)}),u,{from:Yt,of:Kt}),"BYTES_PER_ELEMENT"in g||m(g,"BYTES_PER_ELEMENT",i),r(r.P,u,te),K(u),r(r.P+r.F*$t,u,{set:ne}),r(r.P+r.F*!x,u,ie),g.toString!=Pt&&(g.toString=Pt),r(r.P+r.F*n(function(){new h(1).slice()}),u,{slice:ee}),r(r.P+r.F*(n(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!n(function(){g.toLocaleString.call([1,2])})),u,{toLocaleString:Qt}),X[u]=x?b:A,x||m(g,Mt,A)}}else t.exports=function(){}});Bi("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}});var Ui=function(){function t(e,n,i){void 0===i&&(i={}),i=t.sliceOptions(i),this.gl=e,this.texture=e.createTexture(),this.texture&&(this.valid=!0),this.bind(),this.name=n,this.retain_count=0,this.config_type=null,this.loading=null,this.loaded=!1,this.filtering=i.filtering,this.density=i.density||1,this.sprites=i.sprites,this.texcoords={},this.sizes={},this.css_sizes={},this.aspects={},this.setData(1,1,new Uint8Array([0,0,0,0]),{filtering:"nearest"}),this.loaded=!1,t.textures[this.name]&&(this.retain_count=t.textures[this.name].retain_count,t.textures[this.name].retain_count=0,t.textures[this.name].destroy()),t.textures[this.name]=this,t.texture_configs[this.name]=JSON.stringify(Object.assign({name:n},i)),this.load(i),Kn("trace","creating Texture "+this.name)}var e=t.prototype;return e.destroy=function(e){var n=(void 0===e?{}:e).force;this.retain_count>0&&!n?Kn("error","Texture '"+this.name+"': destroying texture with retain count of '"+this.retain_count+"'"):this.valid&&(this.gl.deleteTexture(this.texture),this.texture=null,t.textures[this.name]===this&&(delete t.textures[this.name],delete t.texture_configs[this.name]),this.valid=!1,Kn("trace","destroying Texture "+this.name))},e.retain=function(){this.retain_count++},e.release=function(){this.retain_count<=0&&Kn("error","Texture '"+this.name+"': releasing texture with retain count of '"+this.retain_count+"'"),this.retain_count--,this.retain_count<=0&&this.destroy()},e.bind=function(e){void 0===e&&(e=0),this.valid&&(t.activeUnit!==e&&(this.gl.activeTexture(this.gl.TEXTURE0+e),t.activeUnit=e,t.boundTexture=null),t.boundTexture!==this.texture&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),t.boundTexture=this.texture))},e.load=function(t){var e=this;return t?(this.loading=null,"string"==typeof t.url?(this.config_type="url",this.setUrl(t.url,t)):t.element?(this.config_type="element",this.setElement(t.element,t)):t.data&&t.width&&t.height&&(this.config_type="data",this.setData(t.width,t.height,t.data,t)),this.loading=this.loading&&this.loading.then(function(){return e.calculateSprites(),e})||Promise.resolve(this),this.loading):this.loading||Promise.resolve(this)},e.setUrl=function(e,n){var i=this;if(void 0===n&&(n={}),this.valid)return this.url=e,this.loading=new Promise(function(e){var r=new Image;r.onload=function(){try{i.setElement(r,n)}catch(e){i.loaded=!1,Kn("warn","Texture '"+i.name+"': failed to load url: '"+i.url+"'",e,n),t.trigger("warning",{message:"Failed to load texture from "+i.url,error:e,texture:n})}i.loaded=!0,e(i)},r.onerror=function(r){i.loaded=!1,Kn("warn","Texture '"+i.name+"': failed to load url: '"+i.url+"'",r,n),t.trigger("warning",{message:"Failed to load texture from "+i.url,error:r,texture:n}),e(i)},ei.isSafari()&&"data:"===i.url.slice(0,5)||(r.crossOrigin="anonymous"),r.src=i.url}),this.loading},e.setData=function(t,e,n,i){return void 0===i&&(i={}),this.width=t,this.height=e,Array.isArray(n)&&(n=new Uint8Array(n)),this.update(n,i),this.setFiltering(i),this.loaded=!0,this.loading=Promise.resolve(this),this.loading},e.setElement=function(e,n){var i=e;if("string"==typeof e&&(e=document.querySelector(e)),e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof HTMLVideoElement)this.update(e,n),this.setFiltering(n);else{this.loaded=!1;var r="the 'element' parameter (`element: "+JSON.stringify(i)+"`) must be a CSS ";r+="selector string, or a <canvas>, <image> or <video> object",Kn("warn","Texture '"+this.name+"': "+r,n),t.trigger("warning",{message:"Failed to load texture because "+r,texture:n})}return this.loaded=!0,this.loading=Promise.resolve(this),this.loading},e.update=function(e,n){void 0===n&&(n={}),this.valid&&(this.bind(),e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof HTMLImageElement&&e.complete?(this.width=e.width,this.height=e.height,this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1!==n.UNPACK_FLIP_Y_WEBGL),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.UNPACK_PREMULTIPLY_ALPHA_WEBGL||!1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e)):(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,null),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,null),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.width,this.height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e)),t.trigger("update",this))},e.setFiltering=function(e){if(void 0===e&&(e={}),this.valid){e.filtering=e.filtering||"linear";var n=this.gl;this.bind(),ei.isPowerOf2(this.width)&&ei.isPowerOf2(this.height)?(this.power_of_2=!0,n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e.TEXTURE_WRAP_S||e.repeat&&n.REPEAT||n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e.TEXTURE_WRAP_T||e.repeat&&n.REPEAT||n.CLAMP_TO_EDGE),"mipmap"===e.filtering?(this.filtering="mipmap",n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.generateMipmap(n.TEXTURE_2D)):"linear"===e.filtering?(this.filtering="linear",n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR)):"nearest"===e.filtering&&(this.filtering="nearest",n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST))):(this.power_of_2=!1,n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),"nearest"===e.filtering?(this.filtering="nearest",n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)):(this.filtering="linear",n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR))),t.trigger("update",this)}},e.calculateSprites=function(){if(this.sprites)for(var e in this.sprites){var n=this.sprites[e];this.texcoords[e]=t.getTexcoordsForSprite([n[0],n[1]],[n[2],n[3]],[this.width,this.height]),this.sizes[e]=[n[2],n[3]],this.css_sizes[e]=[n[2]/this.density,n[3]/this.density],this.aspects[e]=n[2]/n[3]}},e.byteSize=function(){return Math.round(this.width*this.height*4*("mipmap"==this.filtering?1.33:1))},t}();Ui.create=function(t,e,n){return new Ui(t,e,n)},Ui.retain=function(t){Ui.textures[t]&&Ui.textures[t].retain()},Ui.release=function(t){Ui.textures[t]&&Ui.textures[t].release()},Ui.destroy=function(t){Object.keys(Ui.textures).forEach(function(e){var n=Ui.textures[e];n.gl===t&&n.destroy({force:!0})})},Ui.getSpriteInfo=function(t,e){var n=Ui.textures[t];return n&&{size:n.sizes[e],css_size:n.css_sizes[e],aspect:n.aspects[e],texcoords:n.texcoords[e]}},Ui.getTexcoordsForSprite=function(t,e,n){var i=n[1]-t[1]-e[1];return[t[0]/n[0],i/n[1],(e[0]+t[0])/n[0],(e[1]+i)/n[1]]},Ui.createFromObject=function(t,e){var n=[];if(e)for(var i in e){var r=e[i];if(!r.skip_create&&Ui.changed(i,r)){var o=Ui.create(t,i,r);n.push(o.loading)}}return Promise.all(n)},Ui.default="__default",Ui.createDefault=function(t){return Ui.create(t,Ui.default)},Ui.sliceOptions=function(t){return{filtering:t.filtering,sprites:t.sprites,url:t.url,element:t.element,data:t.data,width:t.width,height:t.height,density:t.density,repeat:t.repeat,TEXTURE_WRAP_S:t.TEXTURE_WRAP_S,TEXTURE_WRAP_T:t.TEXTURE_WRAP_T,UNPACK_FLIP_Y_WEBGL:t.UNPACK_FLIP_Y_WEBGL,UNPACK_PREMULTIPLY_ALPHA_WEBGL:t.UNPACK_PREMULTIPLY_ALPHA_WEBGL}},Ui.changed=function(t,e){var n=Ui.textures[t];if(n){if("element"===n.config_type||null!=e.element)return!0;if(e=Ui.sliceOptions(e),Ui.texture_configs[t]===JSON.stringify(Object.assign({name:t},e)))return!1}return!0},Ui.getInfo=function(t){if(t||(t=Object.keys(Ui.textures)),Array.isArray(t))return Promise.all(t.map(function(t){return Ui.getInfo(t)}));var e=Ui.textures[t];return e?(e.loading||Promise.resolve(e)).then(function(){return{name:e.name,width:e.width,height:e.height,density:e.density,css_size:[e.width/e.density,e.height/e.density],aspect:e.width/e.height,sprites:e.sprites,texcoords:e.texcoords,sizes:e.sizes,css_sizes:e.css_sizes,aspects:e.aspects,filtering:e.filtering,power_of_2:e.power_of_2,valid:e.valid}}):Promise.resolve(null)},Ui.syncTexturesToWorker=function(t){return $n.postMessage("Texture.getInfo",t).then(function(t){return t&&t.filter(function(t){return t}).forEach(function(t){return Ui.textures[t.name]=t}),Ui.textures})},Ui.getMaxTextureSize=function(t){return t.getParameter(t.MAX_TEXTURE_SIZE)},Ui.textures={},Ui.texture_configs={},Ui.boundTexture=null,Ui.activeUnit=null,$n.addTarget("Texture",Ui),Ti(Ui);var Hi=Mt.f,$i=function(t){return function(e){for(var n,i=P(e),r=tt(i),o=r.length,s=0,a=[];o>s;)Hi.call(i,n=r[s++])&&a.push(t?[n,i[n]]:i[n]);return a}},Wi=$i(!0);j(j.S,"Object",{entries:function(t){return Wi(t)}}),ee("match",1,function(t,e,n,i){return[function(n){var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=i(n,t,this);if(e.done)return e.value;var r=c(t),o=String(this);if(!r.global)return Wt(r,o);var s=r.unicode;r.lastIndex=0;for(var a,u=[],l=0;null!==(a=Wt(r,o));){var h=String(a[0]);u[l]=h,""===h&&(r.lastIndex=Ft(o,$(r.lastIndex),s)),l++}return 0===l?null:u}]});var Gi={parseUniforms:function(t){var e=[];for(var n in t){var i,r=n,o=t[n];if("number"==typeof o)e.push({type:"float",method:"1f",name:n,value:o,key:r,uniforms:t});else if(Array.isArray(o)){if("number"==typeof o[0])o.length>=2&&o.length<=4?e.push({type:"vec"+o.length,method:o.length+"fv",name:n,value:o,key:r,uniforms:t}):o.length>4&&e.push({type:"float[]",method:"1fv",name:n+"[0]",value:o,key:r,uniforms:t});else if("string"==typeof o[0])for(i=0;i<o.length;i++)e.push({type:"sampler2D",method:"1i",name:n+"["+i+"]",value:o[i],key:i,uniforms:o});else if(Array.isArray(o[0])&&"number"==typeof o[0][0]&&o[0].length>=2&&o[0].length<=4)for(i=0;i<o.length;i++)e.push({type:"vec"+o[0].length,method:o[0].length+"fv",name:n+"["+i+"]",value:o[i],key:i,uniforms:o})}else"boolean"==typeof o?e.push({type:"bool",method:"1i",name:n,value:o,key:r,uniforms:t}):"string"==typeof o&&e.push({type:"sampler2D",method:"1i",name:n,value:o,key:r,uniforms:t})}return e},defineVariable:function(t,e){var n,i;if("number"==typeof e)n="float";else if(Array.isArray(e))"number"==typeof e[0]?e.length>=2&&e.length<=4?n="vec"+e.length:(n="float",i=e.length):"string"==typeof e[0]?(n="sampler2D",i=e.length):Array.isArray(e[0])&&"number"==typeof e[0][0]&&e[0].length>=2&&e[0].length<=4&&(n="vec"+e[0].length,i=e.length);else if("boolean"==typeof e)n="bool";else{if("string"!=typeof e)return;n="sampler2D"}var r="";return r+=n+" "+t,i&&(r+="["+i+"]"),r+";\n"},defineUniform:function(t,e){var n=Gi.defineVariable(t,e);if(n)return"uniform "+n},expandVec3:function(t,e){var n;if(void 0===e&&(e=1),Array.isArray(t)){if(2!==t.length)return t;n=[].concat(t,[e]).map(parseFloat)}else n=[t,t,t].map(parseFloat);if(n&&n.every(function(t){return"number"==typeof t&&!isNaN(t)}))return n},expandVec4:function(t,e){var n;if(void 0===e&&(e=1),Array.isArray(t)){if(3!==t.length)return t;n=[].concat(t,[e]).map(parseFloat)}else n=[t,t,t,e].map(parseFloat);if(n&&n.every(function(t){return"number"==typeof t&&!isNaN(t)}))return n}},qi=[];function Vi(t,e){var n=qi.filter(function(e){return e[0]===t})[0];return(n=n&&n[1])||(qi.push([t,{}]),n=qi[qi.length-1][1]),n[e]||(n[e]=t.getExtension(e)),n[e]}function Zi(t){var e,n,i=0;if(0===t.length)return i;for(e=0,n=t.length;e<n;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i}var Xi=/^\s*#pragma.*$/gm,Yi=/\\\s*\n/gm,Ki=function(){function t(e,n,i,r){r=r||{},this.gl=e,this.program=null,this.compiled=!1,this.compiling=!1,this.error=null,this.defines=Object.assign({},r.defines||{}),this.blocks=Object.assign({},r.blocks||{}),this.block_scopes=Object.assign({},r.block_scopes||{}),this.extensions=r.extensions||[],this.dependent_uniforms=r.uniforms,this.uniforms={},this.attribs={},this.vertex_source=n,this.fragment_source=i,this.id=t.id++,this.name=r.name}var e=t.prototype;return e.destroy=function(){this.gl.useProgram(null),this.gl.deleteProgram(this.program),this.program=null,this.uniforms={},this.attribs={},this.compiled=!1},e.use=function(){this.compiled&&(t.current!==this&&this.gl.useProgram(this.program),t.current=this)},e.compile=function(){var e=this;if(this.compiling)throw new Error("ShaderProgram.compile(): skipping for "+this.id+" ("+this.name+") because already compiling");this.compiling=!0,this.compiled=!1,this.error=null,this.computed_vertex_source=this.vertex_source,this.computed_fragment_source=this.fragment_source;var n,i=this.checkExtensions(),r=this.buildDefineList(),o=this.buildShaderBlockList();for(var s in o){var a=o[s];if(a&&(!Array.isArray(a)||0!==a.length)){n=new RegExp("^\\s*#pragma\\s+tangram:\\s+"+s+"\\s*$","m");var u=this.computed_vertex_source.match(n),l=this.computed_fragment_source.match(n);if(null!=u||null!=l){var c="";a.forEach(function(t){var e=t.scope+", "+t.key+", "+t.num;c+="\n// tangram-block-start: "+e+"\n",c+=t.source,c+="\n// tangram-block-end: "+e+"\n"}),null!=u&&(this.computed_vertex_source=this.computed_vertex_source.replace(n,c)),null!=l&&(this.computed_fragment_source=this.computed_fragment_source.replace(n,c)),r["TANGRAM_BLOCK_"+s.replace(/[\s-]+/g,"_").toUpperCase()]=!0}}}this.computed_vertex_source=this.computed_vertex_source.replace(Xi,""),this.computed_fragment_source=this.computed_fragment_source.replace(Xi,""),this.ensureUniforms(this.dependent_uniforms);var h,f=this.gl.getShaderPrecisionFormat(this.gl.FRAGMENT_SHADER,this.gl.HIGH_FLOAT);h=f&&f.precision>0?"precision highp float;\n":"precision mediump float;\n",r.TANGRAM_VERTEX_SHADER=!0,r.TANGRAM_FRAGMENT_SHADER=!1,this.computed_vertex_source=h+t.buildDefineString(r)+this.computed_vertex_source,r.TANGRAM_VERTEX_SHADER=!1,r.TANGRAM_FRAGMENT_SHADER=!0,this.computed_fragment_source=t.buildExtensionString(i)+h+t.buildDefineString(r)+this.computed_fragment_source,this.computed_vertex_source=this.computed_vertex_source.replace(Yi,""),this.computed_fragment_source=this.computed_fragment_source.replace(Yi,"");try{this.program=t.updateProgram(this.gl,this.program,this.computed_vertex_source,this.computed_fragment_source),this.compiled=!0,this.compiling=!1}catch(t){throw this.program=null,this.compiled=!1,this.compiling=!1,this.error=t,this.error.vertex_shader_source=this.computed_vertex_source,this.error.fragment_shader_source=this.computed_fragment_source,"vertex"!==t.type&&"fragment"!==t.type||(this.shader_errors=t.errors,this.shader_errors.forEach(function(n){n.type=t.type,n.block=e.block(t.type,n.line),n.line=e.block(t.type,n.line)}),this.error.shader_errors=this.shader_errors),t}this.computed_vertex_source=null,this.computed_fragment_source=null,this.use(),this.refreshUniforms(),this.refreshAttributes()},e.buildDefineList=function(){var e,n={};for(e in t.defines)n[e]=t.defines[e];for(e in this.defines)n[e]=this.defines[e];return n},e.buildShaderBlockList=function(){var e,n={};for(e in t.blocks){var i;n[e]=[],Array.isArray(t.blocks[e])?(i=n[e]).push.apply(i,t.blocks[e].map(function(t,n){return{key:e,source:t,num:n,scope:"ShaderProgram"}})):n[e]=[{key:e,source:t.blocks[e],num:0,scope:"ShaderProgram"}]}for(e in this.blocks)if(n[e]=n[e]||[],Array.isArray(this.blocks[e]))for(var r=this.block_scopes&&this.block_scopes[e]||[],o=null,s=0,a=0;a<this.blocks[e].length;a++)r[a]!==o&&(o=r[a],s=0),n[e].push({key:e,source:this.blocks[e][a],num:s,scope:o||this.name}),s++;else n[e].push({key:e,source:this.blocks[e],num:0,scope:this.name});return n},e.ensureUniforms=function(t){if(t){var e=Object.entries(t).map(function(t){var e=t[0],n=t[1];return Gi.defineUniform(e,n)}).filter(function(t){return t});this.computed_vertex_source=e.join("\n")+this.computed_vertex_source,this.computed_fragment_source=e.join("\n")+this.computed_fragment_source}},e.setUniforms=function(t,e){if(void 0===e&&(e=!0),this.compiled){e&&(this.texture_unit=0);for(var n=Gi.parseUniforms(t),i=0;i<n.length;i++){var r=n[i];"sampler2D"===r.type?this.setTextureUniform(r.name,r.value):this.uniform(r.method,r.name,r.value)}}},e.saveUniforms=function(t){var e=t||this.uniforms;for(var n in e){var i=this.uniforms[n];i&&(i.saved_value=i.value)}this.saved_texture_unit=this.texture_unit||0},e.restoreUniforms=function(t){var e=t||this.uniforms;for(var n in e){var i=this.uniforms[n];i&&i.saved_value&&(i.value=i.saved_value,this.updateUniform(i))}this.texture_unit=this.saved_texture_unit||0},e.setTextureUniform=function(t,e){var n=Ui.textures[e];null!=n?(n.bind(this.texture_unit),this.uniform("1i",t,this.texture_unit),this.texture_unit++):Kn("warn","Cannot find texture '"+e+"'")},e.uniform=function(t,e,n){if(this.compiled){this.uniforms[e]=this.uniforms[e]||{};var i=this.uniforms[e];i.name=e,void 0===i.location&&(i.location=this.gl.getUniformLocation(this.program,e)),i.method=t,i.value=n,this.updateUniform(i)}},e.updateUniform=function(t){this.compiled&&t&&null!=t.location&&(this.use(),this.commitUniform(t))},e.commitUniform=function(t){var e=t.location,n=t.value;switch(t.method){case"1i":this.gl.uniform1i(e,n);break;case"1f":this.gl.uniform1f(e,n);break;case"2f":this.gl.uniform2f(e,n[0],n[1]);break;case"3f":this.gl.uniform3f(e,n[0],n[1],n[2]);break;case"4f":this.gl.uniform4f(e,n[0],n[1],n[2],n[3]);break;case"1iv":this.gl.uniform1iv(e,n);break;case"3iv":this.gl.uniform3iv(e,n);break;case"1fv":this.gl.uniform1fv(e,n);break;case"2fv":this.gl.uniform2fv(e,n);break;case"3fv":this.gl.uniform3fv(e,n);break;case"4fv":this.gl.uniform4fv(e,n);break;case"Matrix3fv":this.gl.uniformMatrix3fv(e,!1,n);break;case"Matrix4fv":this.gl.uniformMatrix4fv(e,!1,n)}},e.refreshUniforms=function(){if(this.compiled)for(var t in this.uniforms){var e=this.uniforms[t];e.location=this.gl.getUniformLocation(this.program,t),this.updateUniform(e)}},e.refreshAttributes=function(){this.attribs={}},e.attribute=function(t){if(this.compiled){var e=this.attribs[t]=this.attribs[t]||{};return null!=e.location?e:(e.name=t,e.location=this.gl.getAttribLocation(this.program,t),e)}},e.source=function(t){return"vertex"===t?this.computed_vertex_source:"fragment"===t?this.computed_fragment_source:void 0},e.lines=function(t){var e=this.source(t);return e?e.split("\n"):[]},e.line=function(t,e){var n=this.lines(t);if(n)return n[e]},e.block=function(t,e){for(var n,i=this.lines(t),r=0;r<e&&r<i.length;r++){var o=i[r],s=o.match(/\/\/ tangram-block-start: ([A-Za-z0-9_-]+), ([A-Za-z0-9_-]+), (\d+)/);s&&s.length>1?n={scope:s[1],name:s[2],num:s[3]}:(s=o.match(/\/\/ tangram-block-end: ([A-Za-z0-9_-]+), ([A-Za-z0-9_-]+), (\d+)/))&&s.length>1&&(n=null),n&&(n.line=null==n.line?-1:n.line+1,n.source=o)}return n},e.checkExtensions=function(){var t=this,e=[];return this.extensions.forEach(function(n){var i=Vi(t.gl,n),r="TANGRAM_EXTENSION_"+n;t.defines[r]=null!=i,i?e.push(n):Kn("debug","Could not enable extension '"+n+"'")}),e},t}();Ki.id=0,Ki.current=null,Ki.defines={},Ki.blocks={},Ki.reset=function(){Ki.programs_by_source={},Ki.shaders_by_source={}},Ki.reset(),Ki.buildDefineString=function(t){var e="";for(var n in t)null!=t[n]&&!1!==t[n]&&("boolean"==typeof t[n]&&!0===t[n]?e+="#define "+n+"\n":"number"==typeof t[n]&&Math.floor(t[n])===t[n]?e+="#define "+n+" "+t[n].toFixed(1)+"\n":e+="#define "+n+" "+t[n]+"\n");return e},Ki.buildExtensionString=function(t){var e="";return(t=t||[]).forEach(function(t){e+="#ifdef GL_"+t+"\n#extension GL_"+t+" : enable\n#endif\n"}),e},Ki.addBlock=function(t){var e;Ki.blocks[t]=Ki.blocks[t]||[];for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(e=Ki.blocks[t]).push.apply(e,i)},Ki.removeBlock=function(t){Ki.blocks[t]=[]},Ki.replaceBlock=function(t){Ki.removeBlock(t);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Ki.addBlock.apply(Ki,[t].concat(n))},Ki.updateProgram=function(t,e,n,i){var r=Zi(t._tangram_id+"::"+n+"::"+i);if(Ki.programs_by_source[r])return Kn("trace","Reusing identical source GL program object"),Ki.programs_by_source[r];var o=Ki.createShader(t,n,t.VERTEX_SHADER),s=Ki.createShader(t,i,t.FRAGMENT_SHADER);if(t.useProgram(null),null!=e)for(var a=t.getAttachedShaders(e),u=0;u<a.length;u++)t.detachShader(e,a[u]);else e=t.createProgram();if(null==o||null==s)return e;if(t.attachShader(e,o),t.attachShader(e,s),t.bindAttribLocation(e,0,"a_position"),t.linkProgram(e),!t.getProgramParameter(e,t.LINK_STATUS)){var l=new Error("WebGL program error:\n            VALIDATE_STATUS: "+t.getProgramParameter(e,t.VALIDATE_STATUS)+"\n            ERROR: "+t.getError()+"\n            --- Vertex Shader ---\n            "+n+"\n            --- Fragment Shader ---\n            "+i);throw Object.assign(new Error(l),{type:"program"})}return Ki.programs_by_source[r]=e,e},Ki.createShader=function(t,e,n){var i=Zi(t._tangram_id+"::"+e);if(Ki.shaders_by_source[i])return Kn("trace","Reusing identical source GL shader object"),Ki.shaders_by_source[i];var r=t.createShader(n);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var o=n===t.VERTEX_SHADER?"vertex":"fragment",s=t.getShaderInfoLog(r),a=function(t){t=String(t);for(var e,n=[];e=t.match(/ERROR\:([^\n]+)/);){t=t.slice(e.index+1);var i=(s=e[1].trim()).split(":"),r=i.slice(2).join(":").trim(),o=parseInt(i[0],10),s=parseInt(i[1],10);n.push({message:r,file:o,line:s})}return n}(s);throw Object.assign(new Error(s),{type:o,errors:a})}return Ki.shaders_by_source[i]=r,r};var Ji={disabled:!1,bound_vao:[],init:function(t){var e;!0!==this.disabled&&(e=Vi(t,"OES_vertex_array_object")),null!=e?Kn("info","Vertex Array Object extension available"):!0!==this.disabled?Kn("warn","Vertex Array Object extension NOT available"):Kn("warn","Vertex Array Object extension force disabled")},getExtension:function(t,e){if(!0!==this.disabled)return Vi(t,e)},create:function(t,e,n){var i={};i.setup=e,i.teardown=n;var r=this.getExtension(t,"OES_vertex_array_object");return null!=r&&(i._vao=r.createVertexArrayOES(),r.bindVertexArrayOES(i._vao)),i.setup(),i},getCurrentBinding:function(t){var e=this.bound_vao.filter(function(e){return e[0]===t})[0];return e&&e[1]},setCurrentBinding:function(t,e){var n=this.bound_vao,i=n.filter(function(e){return e[0]===t})[0];null==i?n.push([t,e]):i[1]=e},bind:function(t,e){var n=this.getExtension(t,"OES_vertex_array_object");if(null!=e)null!=n&&null!=e._vao?(n.bindVertexArrayOES(e._vao),this.setCurrentBinding(t,e)):e.setup();else{var i=this.getCurrentBinding(t);null!=n?n.bindVertexArrayOES(null):null!=i&&"function"==typeof i.teardown&&i.teardown(),this.setCurrentBinding(t,null)}},destroy:function(t,e){var n=this.getExtension(t,"OES_vertex_array_object");null!=n&&null!=e&&null!=e._vao&&(n.deleteVertexArrayOES(e._vao),e._vao=null)}},Qi=$i(!1);j(j.S,"Object",{values:function(t){return Qi(t)}});var tr,er=ji(6),nr="findIndex",ir=!0;function rr(t){for(var e=0;e<(arguments.length<=1?0:arguments.length-1);e++){var n=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];if(n)for(var i in n){var r=n[i];null===r||"object"!=typeof r||Array.isArray(r)?void 0!==r&&(t[i]=r):null===t[i]||"object"!=typeof t[i]||Array.isArray(t[i])?t[i]=rr({},r):t[i]=rr(t[i],r)}}return t}nr in[]&&Array(1)[nr](function(){ir=!1}),j(j.P+j.F*ir,"Array",{findIndex:function(t){return er(this,t,arguments.length>1?arguments[1]:void 0)}}),A(nr);var or=tr={};tr.default_source_max_zoom=18,tr.default_view_max_zoom=20,tr.max_style_zoom=25,tr.tile_size=256,tr.half_circumference_meters=20037508.342789244,tr.circumference_meters=2*tr.half_circumference_meters,tr.min_zoom_meters_per_pixel=tr.circumference_meters/tr.tile_size;var sr=[];tr.metersPerPixel=function(t){return sr[t]=sr[t]||tr.min_zoom_meters_per_pixel/Math.pow(2,t),sr[t]};var ar=[];tr.metersPerTile=function(t){return ar[t]=ar[t]||tr.circumference_meters/Math.pow(2,t),ar[t]},tr.tile_scale=4096,tr.units_per_pixel=tr.tile_scale/tr.tile_size,tr.height_scale=16;var ur=[];tr.unitsPerMeter=function(t){return ur[t]=ur[t]||tr.tile_scale/(tr.tile_size*tr.metersPerPixel(t)),ur[t]},tr.metersForTile=function(t){return{x:t.x*tr.circumference_meters/Math.pow(2,t.z)-tr.half_circumference_meters,y:-(t.y*tr.circumference_meters/Math.pow(2,t.z)-tr.half_circumference_meters)}},tr.tileForMeters=function(t,e){var n=t[0],i=t[1];return{x:Math.floor((n+tr.half_circumference_meters)/(tr.circumference_meters/Math.pow(2,e))),y:Math.floor((-i+tr.half_circumference_meters)/(tr.circumference_meters/Math.pow(2,e))),z:e}},tr.wrapTile=function(t,e){var n=t.x,i=t.y,r=t.z;void 0===e&&(e={x:!0,y:!1});var o=(1<<r)-1;return e.x&&(n&=o),e.y&&(i&=o),{x:n,y:i,z:r}},tr.metersToLatLng=function(t){return t[0]/=tr.half_circumference_meters,t[1]/=tr.half_circumference_meters,t[1]=(2*Math.atan(Math.exp(t[1]*Math.PI))-Math.PI/2)/Math.PI,t[0]*=180,t[1]*=180,t},tr.latLngToMeters=function(t){return t[1]=Math.log(Math.tan(t[1]*Math.PI/360+Math.PI/4))/Math.PI,t[1]*=tr.half_circumference_meters,t[0]*=tr.half_circumference_meters/180,t},tr.tileSpaceToLatlng=function(t,e,n){var i=tr.unitsPerMeter(e);return tr.transformGeometry(t,function(t){t[0]=t[0]/i+n.x,t[1]=t[1]/i+n.y,tr.metersToLatLng(t)}),t},tr.copyGeometry=function(t){if(null!=t){var e={type:t.type};return"Point"===t.type?e.coordinates=[t.coordinates[0],t.coordinates[1]]:"LineString"===t.type||"MultiPoint"===t.type?e.coordinates=t.coordinates.map(function(t){return[t[0],t[1]]}):"Polygon"===t.type||"MultiLineString"===t.type?e.coordinates=t.coordinates.map(function(t){return t.map(function(t){return[t[0],t[1]]})}):"MultiPolygon"===t.type&&(e.coordinates=t.coordinates.map(function(t){return t.map(function(t){return t.map(function(t){return[t[0],t[1]]})})})),e}},tr.transformGeometry=function(t,e){null!=t&&("Point"===t.type?e(t.coordinates):"LineString"===t.type||"MultiPoint"===t.type?t.coordinates.forEach(e):"Polygon"===t.type||"MultiLineString"===t.type?t.coordinates.forEach(function(t){return t.forEach(e)}):"MultiPolygon"===t.type&&t.coordinates.forEach(function(t){t.forEach(function(t){return t.forEach(e)})}))},tr.boxIntersect=function(t,e){return!(e.sw.x>t.ne.x||e.ne.x<t.sw.x||e.sw.y>t.ne.y||e.ne.y<t.sw.y)},tr.findBoundingBox=function(t){for(var e=1/0,n=-1/0,i=1/0,r=-1/0,o=t[0].length,s=0;s<o;s++){var a=t[0][s];a[0]<e&&(e=a[0]),a[1]<i&&(i=a[1]),a[0]>n&&(n=a[0]),a[1]>r&&(r=a[1])}return[e,i,n,r]},tr.geometryType=function(t){return"Polygon"===t||"MultiPolygon"===t?"polygon":"LineString"===t||"MultiLineString"===t?"line":"Point"===t||"MultiPoint"===t?"point":void 0},tr.centroid=function(t,e){if(void 0===e&&(e=!0),t&&0!==t.length){var n,i=0,r=0,o=0,s=t[0],a=s.length;e&&(n=s[0],s=s.map(function(t){return[t[0]-n[0],t[1]-n[1]]}));for(var u=0,l=a-1;u<a;l=u,u++){var c=s[u],h=s[l],f=c[1]*h[0]-h[1]*c[0];i+=(c[0]+h[0])*f,r+=(c[1]+h[1])*f,o+=3*f}if(o){var d=[i/o,r/o];return e&&(d[0]+=n[0],d[1]+=n[1]),d}}},tr.multiCentroid=function(t){for(var e=0,n=null,i=0;i<t.length;i++){var r=tr.centroid(t[i]);r&&((n=n||[0,0])[0]+=r[0],n[1]+=r[1],e++)}return e>0&&(n[0]/=e,n[1]/=e),n},tr.signedPolygonRingAreaSum=function(t){for(var e=0,n=t.length,i=0;i<n-1;i++){var r=t[i],o=t[i+1];e+=r[0]*o[1]-o[0]*r[1]}return e+(t[n-1][0]*t[0][1]-t[0][0]*t[n-1][1])},tr.polygonRingArea=function(t){return Math.abs(tr.signedPolygonRingAreaSum(t))/2},tr.polygonArea=function(t){if(t)return tr.polygonRingArea(t[0])},tr.multiPolygonArea=function(t){for(var e=0,n=0;n<t.length;n++)e+=tr.polygonArea(t[n]);return e},tr.ringWinding=function(t){var e=tr.signedPolygonRingAreaSum(t);return e>0?"CW":e<0?"CCW":void 0};var lr="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",cr="["+lr+"]",hr=RegExp("^"+cr+cr+"*"),fr=RegExp(cr+cr+"*$"),dr=function(t,e,n){var i={},r=h(function(){return!!lr[t]()||"​"!="​"[t]()}),o=i[t]=r?e(pr):lr[t];n&&(i[n]=o),j(j.P+j.F*r,"String",i)},pr=dr.trim=function(t,e){return t=String(L(t)),1&e&&(t=t.replace(hr,"")),2&e&&(t=t.replace(fr,"")),t},mr=dr,_r=de.f,vr=me.f,gr=y.f,yr=mr.trim,br=i.Number,xr=br,wr=br.prototype,Tr="Number"==C(at(wr)),Ar="trim"in String.prototype,Er=function(t){var e=v(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=Ar?e.trim():yr(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,a=e.slice(2),u=0,l=a.length;u<l;u++)if((s=a.charCodeAt(u))<48||s>r)return NaN;return parseInt(a,i)}}return+e};if(!br(" 0o1")||!br("0b1")||br("+0x1")){br=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof br&&(Tr?h(function(){wr.valueOf.call(n)}):"Number"!=C(n))?oi(new xr(Er(e)),n,br):Er(e)};for(var Sr,kr=f?_r(xr):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Cr=0;kr.length>Cr;Cr++)M(xr,Sr=kr[Cr])&&!M(br,Sr)&&gr(br,Sr,vr(xr,Sr));br.prototype=wr,wr.constructor=br,I(i,"Number",br)}j(j.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991});var Or=ce.onFreeze;Cn("freeze",function(t){return function(e){return t&&l(e)?t(Or(e)):e}});var Lr={functions:{},num_functions:0,num_cached:0};function Pr(t,e){if("string"==typeof t)t=Rr(t,e);else if(null!=t&&"object"==typeof t)for(var n in t)t[n]=Pr(t[n],e);return t}function Rr(t,e){var n="string"==typeof t&&t.match(/^\s*function[^(]*\(([^)]*)\)\s*?\{([\s\S]*)\}$/m);if(n&&n.length>2)try{var i=n[2],r="function"==typeof e?e(i):i,o=Zi(r);if(void 0===Lr.functions[o]){var s=n[1].length>0&&n[1].split(",").map(function(t){return t.trim()}).filter(function(t){return t});s=s.length>0?s:["context"],Lr.functions[o]=new Function(s.toString(),r),Lr.functions[o].source=i,Lr.num_functions++}else Lr.num_cached++;return Lr.functions[o]}catch(e){return t}return t}var Mr=e(function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(t){return(t=Math.round(t))<0?0:t>255?255:t}function r(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?i(parseFloat(t)/100*255):i(parseInt(t))}function s(t){return"%"===t[t.length-1]?r(parseFloat(t)/100):r(parseFloat(t))}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,r=t.replace(/ /g,"").toLowerCase();if(r in n)return n[r].slice();if("#"===r[0])return 4===r.length?(e=parseInt(r.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===r.length&&(e=parseInt(r.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=r.indexOf("("),l=r.indexOf(")");if(-1!==u&&l+1===r.length){var c=r.substr(0,u),h=r.substr(u+1,l-(u+1)).split(","),f=1;switch(c){case"rgba":if(4!==h.length)return null;f=s(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),f];case"hsla":if(4!==h.length)return null;f=s(h.pop());case"hsl":if(3!==h.length)return null;var d=(parseFloat(h[0])%360+360)%360/360,p=s(h[1]),m=s(h[2]),_=m<=.5?m*(p+1):m+p-m*p,v=2*m-_;return[i(255*a(v,_,d+1/3)),i(255*a(v,_,d)),i(255*a(v,_,d-1/3)),f];default:return null}}return null}}catch(t){}}),Ir=(Mr.parseCSSColor,{}),Nr=function(t){return Math.max(t,0)},zr=function(t){return isNaN(t)?0:t},Dr=function(t){return Array.isArray(t)?t.map(parseFloat).map(zr):zr(parseFloat(t))},jr=function(t){return Array.isArray(t)?t.map(Dr).map(Nr):Nr(Dr(t))};Object.assign(Ir,{clampPositive:Nr,noNaN:zr,parseNumber:Dr,parsePositiveNumber:jr}),Ir.wrapFunction=function(t){return"\n        var feature = context.feature.properties;\n        var global = context.global;\n        var $zoom = context.zoom;\n        var $layer = context.layer;\n        var $source = context.source;\n        var $geometry = context.geometry;\n        var $meters_per_pixel = context.meters_per_pixel;\n\n        var val = (function(){ "+t+" }());\n\n        if (typeof val === 'number' && isNaN(val)) {\n            val = null; // convert NaNs to nulls\n        }\n\n        return val;\n    "},Ir.zeroPair=Object.freeze([0,0]),Ir.defaults={color:[1,1,1,1],width:1,size:1,extrude:!1,height:20,min_height:0,order:0,z:0,outline:{color:[0,0,0,0],width:0},material:{ambient:1,diffuse:1}},Ir.macros={"Style.color.pseudoRandomColor":function(){return[parseInt(feature.id,16)/100%1*.7,parseInt(feature.id,16)/1e4%1*.7,parseInt(feature.id,16)/1e6%1*.7,1]},"Style.color.randomColor":function(){return[.7*Math.random(),.7*Math.random(),.7*Math.random(),1]}},Ir.getFeatureParseContext=function(t,e,n){return{feature:t,tile:e,global:n,zoom:e.style_z,geometry:or.geometryType(t.geometry.type),meters_per_pixel:e.meters_per_pixel,meters_per_pixel_sq:e.meters_per_pixel_sq,units_per_meter_overzoom:e.units_per_meter_overzoom}};var Fr={STATIC:0,DYNAMIC:1,ZOOM:2};Ir.CACHE_TYPE=Fr,Ir.createPropertyCache=function(t,e){if(void 0===e&&(e=null),null!=t){if(t.value)return{value:t.value,zoom:t.zoom?{}:null,type:t.type};var n={value:t,type:Fr.STATIC};return Array.isArray(n.value)&&Array.isArray(n.value[0])?(n.zoom={},n.type=Fr.ZOOM):"function"==typeof n.value&&(n.type=Fr.DYNAMIC),"function"==typeof e&&(n.zoom?n.value=n.value.map(function(t,n){return[t[0],e(t[1],n)]}):"function"!=typeof n.value&&(n.value=e(n.value,0))),n}},Ir.createColorPropertyCache=function(t){return Ir.createPropertyCache(t,function(t){return"Style.color.pseudoRandomColor"===t?Rr(Ir.wrapFunction(Ir.macros["Style.color.pseudoRandomColor"])):"Style.color.randomColor"===t?Ir.macros["Style.color.randomColor"]:t})};var Br=function(t){return"string"==typeof t&&"%"===t[t.length-1]},Ur=function(t){return"auto"===t},Hr=function(t){return Br(t)||Ur(t)},$r="'size' can specify either width or height as derived from aspect ratio, but not both";function Wr(t,e){return Ir.createPropertyCache(t.value,function(n,i){return Array.isArray(n)?(n=n.map(function(e,n){return t.has_ratio[i][n]?e:jr(e)}).map(function(n,r){return t.has_pct[i][r]?e.css_size[r]*n/100:n}),t.has_ratio[i][0]?n[0]=n[1]*e.aspect:t.has_ratio[i][1]&&(n[1]=n[0]/e.aspect)):(n=jr(n),n=t.has_pct[i]?e.css_size.map(function(t){return t*n/100}):[n,n]),n})}function Gr(t,e){try{return t(e)}catch(n){Kn("warn","Property function in layer '"+e.layers[e.layers.length-1]+"' failed with\n","error "+n.stack+"\n","function '"+t.source+"'\n",e.feature,e)}}Ir.createPointSizePropertyCache=function(t,e){var n=null,i=null;if(Br(t))n=[!0];else if(Array.isArray(t)){if(Array.isArray(t[0])){if(t.some(function(t){return Array.isArray(t[1])?t[1].some(function(t){return Hr(t)}):Br(t[1])})&&(n=t.map(function(t){return Array.isArray(t[1])?t[1].map(function(t){return Br(t)}):Br(t[1])}),(i=t.map(function(t){return Array.isArray(t[1])&&t[1].map(function(t){return Ur(t)})})).some(function(t){return Array.isArray(t)&&t.every(function(t){return t})})))throw $r}else if(t.some(Hr)&&(n=[t.map(Br)],(i=[t.map(Ur)])[0].every(function(t){return t})))throw $r}else if(Ur(t))throw"this value only allowed as half of an array, eg [16px, auto]:";if(n||i){if(!e)throw"% or 'auto' keywords can only be used to specify point size when a texture is defined";(t={value:t}).has_pct=n,t.has_ratio=i,t.sprites={}}else t=Ir.createPropertyCache(t,jr);return t},Ir.evalCachedPointSizeProperty=function(t,e,n,i){return t.has_pct||t.has_ratio?e?(t.sprites[e.sprite]||(t.sprites[e.sprite]=Wr(t,e)),Ir.evalCachedProperty(t.sprites[e.sprite],i)):(t.texture=t.texture||Wr(t,n),Ir.evalCachedProperty(t.texture,i)):Ir.evalCachedProperty(t,i)},Ir.evalCachedProperty=function(t,e){return null==t?void 0:t.dynamic?Gr(t.dynamic,e):t.static?t.static:t.zoom&&t.zoom[e.zoom]?t.zoom[e.zoom]:"function"==typeof t.value?(t.dynamic=t.value,Gr(t.dynamic,e)):Array.isArray(t.value)&&Array.isArray(t.value[0])?(t.zoom=t.zoom||{},t.zoom[e.zoom]=ei.interpolate(e.zoom,t.value),t.zoom[e.zoom]):(t.static=t.value,t.static)},Ir.convertUnits=function(t,e){if(null!=t.val)return"px"===t.units?t.val*or.metersPerPixel(e.zoom):t.val;if("string"==typeof t)"px"===t.trim().slice(-2)?(t=Dr(t),t*=or.metersPerPixel(e.zoom)):t=Dr(t);else if(Array.isArray(t))return Array.isArray(t[0])?t.map(function(t){return[t[0],Ir.convertUnits(t[1],e)]}):t.map(function(t){return Ir.convertUnits(t,e)});return t},Ir.parseUnits=function(t){var e={val:Dr(t)};return 0!==e.val&&"string"==typeof t&&"px"===t.trim().slice(-2)&&(e.units="px"),e},Ir.evalCachedDistanceProperty=function(t,e){return null==t?void 0:t.dynamic?Gr(t.dynamic,e):t.zoom&&t.zoom[e.zoom]?t.zoom[e.zoom]:"function"==typeof t.value?(t.dynamic=t.value,Gr(t.dynamic,e)):t.zoom?(t.zoom[e.zoom]=ei.interpolate(e.zoom,t.value,function(t){return Ir.convertUnits(t,e)}),t.zoom[e.zoom]):Ir.convertUnits(t.value,e)},Ir.string_colors={},Ir.colorForString=function(t){if(Ir.string_colors[t])return Ir.string_colors[t];var e=Mr.parseCSSColor(t);return e&&4===e.length?(e[0]/=255,e[1]/=255,e[2]/=255):e=Ir.defaults.color,Ir.string_colors[t]=e,e},Ir.evalCachedColorProperty=function(t,e){if(void 0===e&&(e={}),t.dynamic){var n=Gr(t.dynamic,e);return"string"==typeof n&&(n=Ir.colorForString(n)),n&&null==n[3]&&(n[3]=1),n}if(t.static)return t.static;if(t.zoom&&t.zoom[e.zoom])return t.zoom[e.zoom];if("function"==typeof t.value){t.dynamic=t.value;var i=Gr(t.dynamic,e);return"string"==typeof i&&(i=Ir.colorForString(i)),i&&null==i[3]&&(i[3]=1),i}if("string"==typeof t.value)return t.static=Ir.colorForString(t.value),t.static;if(t.zoom){if(!t.zoom_preprocessed){for(var r=0;r<t.value.length;r++){var o=t.value[r];o&&"string"==typeof o[1]&&(o[1]=Ir.colorForString(o[1]))}t.zoom_preprocessed=!0}return t.zoom[e.zoom]=ei.interpolate(e.zoom,t.value),t.zoom[e.zoom][3]=t.zoom[e.zoom][3]||1,t.zoom[e.zoom]}return t.static=t.value.map(function(t){return t}),t.static&&null==t.static[3]&&(t.static[3]=1),t.static},Ir.parseColor=function(t,e){if(void 0===e&&(e={}),"function"==typeof t&&(t=Gr(t,e)),"string"==typeof t)t=Ir.colorForString(t);else if(Array.isArray(t)&&Array.isArray(t[0])){for(var n=0;n<t.length;n++){var i=t[n];"string"==typeof i[1]&&(i[1]=Ir.colorForString(i[1]))}e.zoom&&(t=ei.interpolate(e.zoom,t))}return Array.isArray(t)?null==(t=t.map(function(t){return t}))[3]&&(t[3]=1):t=[0,0,0,1],t},Ir.calculateOrder=function(t,e){return"function"==typeof t?t=Gr(t,e):"string"==typeof t&&(t=e.feature.properties[t]?e.feature.properties[t]:jr(t)),t},Ir.evalProperty=function(t,e){return"function"==typeof t?Gr(t,e):t},j(j.P,"Array",{fill:Ii}),A("fill");var qr=function(){function t(t,e,n){this.gl=t,this.workers=e,this._lock_fn="function"==typeof n&&n,this.init()}var e=t.prototype;return e.init=function(){this.requests={},this.feature=null,this.read_delay=0,this.read_delay_timer=null,this.pixels=null,this.fbo=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbo),this.fbo_size={width:256,height:256};var t=Ui.create(this.gl,"__selection_fbo",{filtering:"nearest"});t.setData(this.fbo_size.width,this.fbo_size.height,null,{filtering:"nearest"}),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,t.texture,0);var e=this.gl.createRenderbuffer();this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,e),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,this.fbo_size.width,this.fbo_size.height),this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,e),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)},e.destroy=function(){this.gl&&this.fbo&&(this.gl.deleteFramebuffer(this.fbo),this.fbo=null,this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null))},e.bind=function(){var e;this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbo),this.gl.viewport(0,0,this.fbo_size.width,this.fbo_size.height),(e=this.gl).clearColor.apply(e,t.defaultColor)},e.getFeatureAt=function(t,e){var n=this,i=e.radius;return!t||t.x<0||t.y<0||t.x>1||t.y>1?Promise.resolve({feature:null,changed:!1}):new Promise(function(e,r){n.selection_request_id=n.selection_request_id+1||0,n.requests[n.selection_request_id]={id:n.selection_request_id,point:t,radius:i,resolve:e,reject:r}})},e.pendingRequests=function(){return Object.keys(this.requests).length?this.requests:null},e.hasPendingRequests=function(){return null!=this.pendingRequests()},e.clearPendingRequests=function(){for(var t in this.requests){var e=this.requests[t];e.sent||(e.reject({request:e}),delete this.requests[t])}},e.read=function(){var t=this;null!=this.read_delay_timer&&clearTimeout(this.read_delay_timer),this.read_delay_timer=setTimeout(function(){if(!t.locked){var e=t.gl;for(var n in e.bindFramebuffer(e.FRAMEBUFFER,t.fbo),t.requests){var i=t.requests[n];if(!i.sent){var r=void 0,o=255,s=i.point,a=i.radius,u=void 0;if(a){var l=Math.min(t.fbo_size.width,t.fbo_size.height);u={x:Math.min(Math.ceil(2*a.x*t.fbo_size.width),l),y:Math.min(Math.ceil(2*a.y*t.fbo_size.height),l)}}else a={x:0,y:0},u={x:1,y:1};if((null==t.pixels||t.pixels.byteLength<u.x*u.y*4)&&(t.pixels=new Uint8Array(u.x*u.y*4)),t.pixels.fill instanceof Function)t.pixels.fill(0);else for(var c=0;c<t.pixels.length;c++)t.pixels[c]=0;e.readPixels(Math.round((s.x-a.x)*t.fbo_size.width),Math.round((1-s.y-a.y)*t.fbo_size.height),u.x,u.y,e.RGBA,e.UNSIGNED_BYTE,t.pixels);var h=4*(Math.round(u.y/2)*u.x+Math.round(u.x/2)),f=t.pixels[h]+(t.pixels[h+1]<<8)+(t.pixels[h+2]<<16);if(f>0)r=f+(t.pixels[h+3]<<24)>>>0,o=t.pixels[h+3];else{var d=-1>>>0;h=0;for(var p=0;p<u.y;p++)for(var m=0;m<u.x;m++,h+=4)if((f=t.pixels[h]+(t.pixels[h+1]<<8)+(t.pixels[h+2]<<16))>0){var _=(m-u.x/2)*(m-u.x/2)+(p-u.y/2)*(p-u.y/2);_<=d&&(r=f+(t.pixels[h+3]<<24)>>>0,o=t.pixels[h+3],d=_)}}255!==o?null!=t.workers[o]&&$n.postMessage(t.workers[o],"self.getFeatureSelection",{id:i.id,key:r}).then(function(e){t.finishRead(e)}):t.finishRead({id:i.id}),i.sent=!0}}e.bindFramebuffer(e.FRAMEBUFFER,null)}},this.read_delay)},e.finishRead=function(t){var e=this.requests[t.id];if(e){var n=t.feature,i=!1;(null!=n&&null==this.feature||null==n&&null!=this.feature||null!=n&&null!=this.feature&&JSON.stringify(n)!==JSON.stringify(this.feature))&&(i=!0),this.feature=n,e.resolve({feature:n,changed:i,request:e}),delete this.requests[t.id]}else Kn("error","FeatureSelection.finishRead(): could not find message",t)},t.makeEntry=function(t){this.map_entry++;var e=255&this.map_entry,n=this.map_entry>>8&255,i=this.map_entry>>16&255,r=this.map_prefix,o=e/255,s=n/255,a=i/255,u=r/255,l=e+(n<<8)+(i<<16)+(r<<24)>>>0;return this.map[l]={color:[o,s,a,u]},this.map_size++,this.tiles[t.key]||(this.tiles[t.key]={entries:[],tile:{key:t.key,coords:t.coords,style_z:t.style_z,source:t.source,generation:t.generation}}),this.tiles[t.key].entries.push(l),this.map[l]},t.makeColor=function(t,e,n){var i=this.makeEntry(e);return i.feature={id:t.id,properties:t.properties,source_name:n.source,source_layer:n.layer,layers:n.layers,tile:this.tiles[e.key].tile},i.color},t.reset=function(t){var e=this;Array.isArray(t)?t.forEach(function(t){return e.clearSource(t)}):(this.tiles={},this.map={},this.map_size=0,this.map_entry=0)},t.clearSource=function(t){for(var e in this.tiles)this.tiles[e].tile.source===t&&this.clearTile(e)},t.clearTile=function(t){var e=this;this.tiles[t]&&(this.tiles[t].entries.forEach(function(t){return delete e.map[t]}),this.map_size-=this.tiles[t].entries.length,delete this.tiles[t])},t.getMapSize=function(){return this.map_size},t.setPrefix=function(t){this.map_prefix=t},Ln(t,[{key:"locked",get:function(){return this._lock_fn&&this._lock_fn()||!1}}]),t}();qr.map={},qr.tiles={},qr.map_size=0,qr.map_entry=0,qr.map_prefix=0,qr.defaultColor=[0,0,0,1],Bi("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}});var Vr,Zr=function(){function t(t,e,n,i,r){r=r||{},this.gl=t,this.vertex_data=e,this.element_data=n,this.vertex_layout=i,this.vertex_buffer=this.gl.createBuffer(),this.buffer_size=this.vertex_data.byteLength,this.draw_mode=r.draw_mode||this.gl.TRIANGLES,this.data_usage=r.data_usage||this.gl.STATIC_DRAW,this.vertices_per_geometry=3,this.uniforms=r.uniforms,this.textures=r.textures,this.retain=r.retain||!1,this.created_at=+new Date,this.fade_in_time=r.fade_in_time||0,this.vertex_count=this.vertex_data.byteLength/this.vertex_layout.stride,this.element_count=0,this.vaos={},this.toggle_element_array=!1,this.element_data?(this.toggle_element_array=!0,this.element_count=this.element_data.length,this.geometry_count=this.element_count/this.vertices_per_geometry,this.element_type=this.element_data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT,this.element_buffer=this.gl.createBuffer(),this.buffer_size+=this.element_data.byteLength,this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.element_buffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.element_data,this.data_usage)):this.geometry_count=this.vertex_count/this.vertices_per_geometry,this.upload(),this.retain||(delete this.vertex_data,delete this.element_data),this.valid=!0}var e=t.prototype;return e.render=function(t){if(void 0===t&&(t={}),!this.valid)return!1;var e=t.program||Ki.current;e.use(),this.uniforms&&(e.saveUniforms(this.uniforms),e.setUniforms(this.uniforms,!1));var n=(+new Date-this.created_at)/1e3;return e.uniform("1f","u_visible_time",n),this.bind(e),this.toggle_element_array?this.gl.drawElements(this.draw_mode,this.element_count,this.element_type,0):this.gl.drawArrays(this.draw_mode,0,this.vertex_count),Ji.bind(this.gl,null),this.uniforms&&e.restoreUniforms(this.uniforms),n<this.fade_in_time},e.bind=function(t){var e=this,n=this.vaos[t.id];n?Ji.bind(this.gl,n):this.vaos[t.id]=Ji.create(this.gl,function(){e.gl.bindBuffer(e.gl.ARRAY_BUFFER,e.vertex_buffer),e.toggle_element_array&&e.gl.bindBuffer(e.gl.ELEMENT_ARRAY_BUFFER,e.element_buffer),e.vertex_layout.enableDynamicAttributes(e.gl,t)}),this.vertex_layout.enableStaticAttributes(this.gl,t)},e.upload=function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertex_buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertex_data,this.data_usage)},e.destroy=function(){if(!this.valid)return!1;for(var t in this.valid=!1,this.vaos)Ji.destroy(this.gl,this.vaos[t]);return this.gl.deleteBuffer(this.vertex_buffer),this.vertex_buffer=null,this.element_buffer&&(this.gl.deleteBuffer(this.element_buffer),this.element_buffer=null),delete this.vertex_data,delete this.element_data,this.textures&&this.textures.forEach(function(t){return Ui.release(t)}),!0},t}(),Xr=["emission","ambient","diffuse","specular"],Yr=function(){function t(t){var e=this;t=t||{},Xr.forEach(function(n){var i=t[n];null!=i&&(i.texture?e[n]={texture:i.texture,mapping:i.mapping||"spheremap",scale:Gi.expandVec3(null!=i.scale?i.scale:1),amount:Gi.expandVec4(null!=i.amount?i.amount:1)}:"number"==typeof i||Array.isArray(i)?e[n]={amount:Gi.expandVec4(i)}:e[n]="string"==typeof i?{amount:Ir.parseColor(i)}:i)}),this.specular&&(this.specular.shininess=t.shininess?parseFloat(t.shininess):.2),null!=t.normal&&(this.normal={texture:t.normal.texture,mapping:t.normal.mapping||"triplanar",scale:Gi.expandVec3(null!=t.normal.scale?t.normal.scale:1),amount:null!=t.normal.amount?t.normal.amount:1})}t.isValid=function(t){return null!=t&&(null!=t.emission||null!=t.ambient||null!=t.diffuse||null!=t.specular)};var e=t.prototype;return e.inject=function(e){var n=this;Xr.forEach(function(t){var i="TANGRAM_MATERIAL_"+t.toUpperCase(),r=i+"_TEXTURE";e.defines[i]=null!=n[t],n[t]&&n[t].texture&&(e.defines[r]=!0,e.defines[r+"_"+n[t].mapping.toUpperCase()]=!0,e.defines["TANGRAM_MATERIAL_TEXTURE_"+n[t].mapping.toUpperCase()]=!0,e.texcoords=e.texcoords||"uv"===n[t].mapping)}),this.normal&&this.normal.texture&&(e.defines.TANGRAM_MATERIAL_NORMAL_TEXTURE=!0,e.defines["TANGRAM_MATERIAL_NORMAL_TEXTURE_"+this.normal.mapping.toUpperCase()]=!0,e.defines["TANGRAM_MATERIAL_TEXTURE_"+this.normal.mapping.toUpperCase()]=!0,e.texcoords=e.texcoords||"uv"===this.normal.mapping),e.replaceShaderBlock(t.block,"/*\n\nDefines globals:\nmaterial\nlight_accumulator_*\n\n*/\n\n\n// MATERIALS\n//\nstruct Material {\n    #ifdef TANGRAM_MATERIAL_EMISSION\n        vec4 emission;\n        #ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE\n            vec3 emissionScale;\n        #endif\n    #endif\n\n    #ifdef TANGRAM_MATERIAL_AMBIENT\n        vec4 ambient;\n        #ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE\n            vec3 ambientScale;\n        #endif\n    #endif\n\n    #ifdef TANGRAM_MATERIAL_DIFFUSE\n        vec4 diffuse;\n        #ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE\n            vec3 diffuseScale;\n        #endif\n    #endif\n\n    #ifdef TANGRAM_MATERIAL_SPECULAR\n        vec4 specular;\n        float shininess;\n        #ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE\n            vec3 specularScale;\n        #endif\n    #endif\n\n\n    #ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE\n        vec3 normalScale;\n        float normalAmount;\n    #endif\n};\n\n// Note: uniform is copied to a global instance to allow modification\nuniform Material u_material;\nMaterial material;\n\n#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE\nuniform sampler2D u_material_emission_texture;\n#endif\n\n#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE\nuniform sampler2D u_material_ambient_texture;\n#endif\n\n#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE\nuniform sampler2D u_material_diffuse_texture;\n#endif\n\n#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE\nuniform sampler2D u_material_specular_texture;\n#endif\n\n#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE\nuniform sampler2D u_material_normal_texture;\n#endif\n\n// Global light accumulators for each property\nvec4 light_accumulator_ambient = vec4(vec3(0.0), 1.);\nvec4 light_accumulator_diffuse = vec4(vec3(0.0), 1.);\n#ifdef TANGRAM_MATERIAL_SPECULAR\n    vec4 light_accumulator_specular = vec4(vec3(0.0), 1.);\n#endif\n\n\n#ifdef TANGRAM_MATERIAL_TEXTURE_SPHEREMAP\nvec4 getSphereMap (in sampler2D _tex, in vec3 _eyeToPoint, in vec3 _normal, in vec2 _skew) {\n    // Normalized vector from camera to surface\n    vec3 eye = normalize(_eyeToPoint);\n\n    // Adjust for camera skew\n    eye.xy -= _skew;\n    eye = normalize(eye);\n\n    // Reflection of eye off of surface normal\n    vec3 r = reflect(eye, _normal);\n\n    // Map reflected vector onto the surface of a sphere\n    r.z += 1.0;\n    float m = 2. * length(r);\n\n    // Adjust xy to account for spherical shape, and center in middle of texture\n    vec2 uv = r.xy / m + .5;\n\n    // Sample the environment map\n    return texture2D(_tex, uv);\n}\n#endif\n\n\n#ifdef TANGRAM_MATERIAL_TEXTURE_TRIPLANAR\nvec3 getTriPlanarBlend (in vec3 _normal) {\n    vec3 blending = abs(_normal);\n    blending = normalize(max(blending, 0.00001));\n    float b = (blending.x + blending.y + blending.z);\n    return blending / b;\n}\n\nvec4 getTriPlanar (in sampler2D _tex, in vec3 _pos, in vec3 _normal, in vec3 _scale) {\n    vec3 blending = getTriPlanarBlend(_normal);\n    vec4 xaxis = texture2D(_tex, fract(_pos.yz * _scale.x));\n    vec4 yaxis = texture2D(_tex, fract(_pos.xz * _scale.y));\n    vec4 zaxis = texture2D(_tex, fract(_pos.xy * _scale.z));\n    return  xaxis * blending.x + yaxis * blending.y + zaxis * blending.z;\n}\n#endif\n\n\n#ifdef TANGRAM_MATERIAL_TEXTURE_PLANAR\nvec4 getPlanar (in sampler2D _tex, in vec3 _pos, in vec2 _scale) {\n    return texture2D( _tex, fract(_pos.xy * _scale.x) );\n}\n#endif\n\n\n#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE\nvoid calculateNormal (inout vec3 _normal) {\n    // Get NORMALMAP\n    //------------------------------------------------\n    #ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE_UV\n    _normal += texture2D(u_material_normal_texture, fract(v_texcoord*material.normalScale.xy)).rgb*2.0-1.0;\n    #endif\n\n    #ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE_PLANAR\n    vec3 normalTex = getPlanar(u_material_normal_texture, v_world_position.xyz, material.normalScale.xy).rgb*2.0-1.0;\n    _normal += normalTex;\n    #endif\n\n    #ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE_TRIPLANAR\n    vec3 normalTex = getTriPlanar(u_material_normal_texture, v_world_position.xyz, _normal, material.normalScale).rgb*2.0-1.0;\n    _normal += normalTex;\n    #endif\n\n    _normal = normalize(_normal);\n}\n#endif\n\nvoid calculateMaterial (in vec3 _eyeToPoint, inout vec3 _normal) {\n    // get EMISSION TEXTUREMAP\n    //------------------------------------------------\n    #ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE\n        #ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_UV\n        material.emission *= texture2D(u_material_emission_texture,v_texcoord);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_PLANAR\n        material.emission *= getPlanar(u_material_emission_texture, v_world_position.xyz, material.emissionScale.xy);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_TRIPLANAR\n        material.emission *= getTriPlanar(u_material_emission_texture, v_world_position.xyz, _normal, material.emissionScale);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_SPHEREMAP\n        material.emission *= getSphereMap(u_material_emission_texture, _eyeToPoint, _normal, u_vanishing_point);\n        #endif\n    #endif\n\n    // get AMBIENT TEXTUREMAP\n    //------------------------------------------------\n    #ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE\n        #ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_UV\n        material.ambient *= texture2D(u_material_ambient_texture,v_texcoord);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_PLANAR\n        material.ambient *= getPlanar(u_material_ambient_texture, v_world_position.xyz, material.ambientScale.xy);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_TRIPLANAR\n        material.ambient *= getTriPlanar(u_material_ambient_texture, v_world_position.xyz, _normal, material.ambientScale);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_SPHEREMAP\n        material.ambient *= getSphereMap(u_material_ambient_texture, _eyeToPoint, _normal, u_vanishing_point);\n        #endif\n    #endif\n\n    // get DIFFUSE TEXTUREMAP\n    //------------------------------------------------\n    #ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE\n        #ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_UV\n        material.diffuse *= texture2D(u_material_diffuse_texture,v_texcoord);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_PLANAR\n        material.diffuse *= getPlanar(u_material_diffuse_texture, v_world_position.xyz, material.diffuseScale.xy);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_TRIPLANAR\n        material.diffuse *= getTriPlanar(u_material_diffuse_texture, v_world_position.xyz, _normal, material.diffuseScale);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_SPHEREMAP\n        material.diffuse *= getSphereMap(u_material_diffuse_texture, _eyeToPoint, _normal, u_vanishing_point);\n        #endif\n    #endif\n\n    // get SPECULAR TEXTUREMAP\n    //------------------------------------------------\n    #ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE\n        #ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_UV\n        material.specular *= texture2D(u_material_specular_texture,v_texcoord);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_PLANAR\n        material.specular *= getPlanar(u_material_specular_texture, v_world_position.xyz, material.specularScale.xy);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_TRIPLANAR\n        material.specular *= getTriPlanar(u_material_specular_texture, v_world_position.xyz, _normal, material.specularScale);\n        #endif\n\n        #ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_SPHEREMAP\n        material.specular *= getSphereMap(u_material_specular_texture, _eyeToPoint, _normal, u_vanishing_point);\n        #endif\n    #endif\n}\n","Material"),e.addShaderBlock("setup","\nmaterial = u_material;\n","Material")},e.setupProgram=function(t){var e=this;Xr.forEach(function(n){e[n]&&(e[n].texture?(t.setTextureUniform("u_material_"+n+"_texture",e[n].texture),t.uniform("3fv","u_material."+n+"Scale",e[n].scale),t.uniform("4fv","u_material."+n,e[n].amount)):e[n].amount&&t.uniform("4fv","u_material."+n,e[n].amount))}),this.specular&&t.uniform("1f","u_material.shininess",this.specular.shininess),this.normal&&this.normal.texture&&(t.setTextureUniform("u_material_normal_texture",this.normal.texture),t.uniform("3fv","u_material.normalScale",this.normal.scale),t.uniform("1f","u_material.normalAmount",this.normal.amount))},t}();Yr.block="material";var Kr=Vr={};Vr.copy=function(t){for(var e=[],n=t.length,i=0;i<n;i++)e[i]=t[i];return e},Vr.neg=function(t){for(var e=[],n=t.length,i=0;i<n;i++)e[i]=-t[i];return e},Vr.add=function(t,e){for(var n=[],i=Math.min(t.length,e.length),r=0;r<i;r++)n[r]=t[r]+e[r];return n},Vr.sub=function(t,e){for(var n=[],i=Math.min(t.length,e.length),r=0;r<i;r++)n[r]=t[r]-e[r];return n},Vr.signed_area=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])},Vr.mult=function(t,e){var n,i=[],r=t.length;if("number"==typeof e)for(n=0;n<r;n++)i[n]=t[n]*e;else for(r=Math.min(t.length,e.length),n=0;n<r;n++)i[n]=t[n]*e[n];return i},Vr.div=function(t,e){var n,i=[];if("number"==typeof e)for(n=0;n<t.length;n++)i[n]=t[n]/e;else{var r=Math.min(t.length,e.length);for(n=0;n<r;n++)i[n]=t[n]/e[n]}return i},Vr.perp=function(t,e){return[e[1]-t[1],t[0]-e[0]]},Vr.rot=function(t,e){var n=Math.cos(e),i=Math.sin(e);return[t[0]*n-t[1]*i,t[0]*i+t[1]*n]},Vr.angle=function(t){var e=t[0],n=t[1];return Math.atan2(n,e)},Vr.angleBetween=function(t,e){var n=Vr.dot(Vr.normalize(Vr.copy(t)),Vr.normalize(Vr.copy(e)));return n>1&&(n=1),Math.acos(n)},Vr.isEqual=function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0},Vr.lengthSq=function(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:t.length>=3?t[0]*t[0]+t[1]*t[1]+t[2]*t[2]:0},Vr.length=function(t){return Math.sqrt(Vr.lengthSq(t))},Vr.normalize=function(t){var e;if(2===t.length){if(1==(e=t[0]*t[0]+t[1]*t[1]))return t;0!==(e=Math.sqrt(e))?(t[0]/=e,t[1]/=e):(t[0]=0,t[1]=0)}else if(t.length>=3){if(1==(e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2]))return t;0!==(e=Math.sqrt(e))?(t[0]/=e,t[1]/=e,t[2]/=e):(t[0]=0,t[1]=0,t[2]=0)}return t},Vr.cross=function(t,e){return 2===t.length?t[0]*e[1]-t[1]*e[0]:3===t.length?[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]:void 0},Vr.dot=function(t,e){for(var n=0,i=Math.min(t.length,e.length),r=0;r<i;r++)n+=t[r]*e[r];return n};var Jr=function(){function t(t,e){this.name=e.name,this.view=t,null==e.ambient||"number"==typeof e.ambient?this.ambient=Gi.expandVec3(e.ambient||0):this.ambient=Ir.parseColor(e.ambient).slice(0,3),null==e.diffuse||"number"==typeof e.diffuse?this.diffuse=Gi.expandVec3(null!=e.diffuse?e.diffuse:1):this.diffuse=Ir.parseColor(e.diffuse).slice(0,3),null==e.specular||"number"==typeof e.specular?this.specular=Gi.expandVec3(e.specular||0):this.specular=Ir.parseColor(e.specular).slice(0,3)}t.create=function(e,n){if(t.types[n.type])return new t.types[n.type](e,n)},t.setMode=function(e,n){!0===e&&(e="fragment"),e=t.enabled&&(null!=e?e:"fragment"),n.defines.TANGRAM_LIGHTING_FRAGMENT="fragment"===e,n.defines.TANGRAM_LIGHTING_VERTEX="vertex"===e},t.inject=function(e){if(Ki.removeBlock(t.block),t.enabled){var n="";if(e&&Object.keys(e).length>0){var i={};for(var r in e)i[e[r].type]=!0;for(var o in i)t.types[o].inject();for(var s in e)e[s].inject(),n+="calculateLight("+s+", _eyeToPoint, _normal);\n"}var a="\n            vec4 calculateLighting(in vec3 _eyeToPoint, in vec3 _normal, in vec4 _color) {\n\n                // Do initial material calculations over normal, emission, ambient, diffuse and specular values\n                calculateMaterial(_eyeToPoint,_normal);\n\n                // Un roll the loop of individual ligths to calculate\n                "+n+"\n\n                //  Final light intensity calculation\n                vec4 color = vec4(vec3(0.), _color.a); // start with vertex color alpha\n\n                #ifdef TANGRAM_MATERIAL_EMISSION\n                    color.rgb = material.emission.rgb;\n                    color.a *= material.emission.a;\n                #endif\n\n                #ifdef TANGRAM_MATERIAL_AMBIENT\n                    color.rgb += light_accumulator_ambient.rgb * _color.rgb * material.ambient.rgb;\n                    color.a *= material.ambient.a;\n                #else\n                    #ifdef TANGRAM_MATERIAL_DIFFUSE\n                        color.rgb += light_accumulator_ambient.rgb * _color.rgb * material.diffuse.rgb;\n                    #endif\n                #endif\n\n                #ifdef TANGRAM_MATERIAL_DIFFUSE\n                    color.rgb += light_accumulator_diffuse.rgb * _color.rgb * material.diffuse.rgb;\n                    color.a *= material.diffuse.a;\n                #endif\n\n                #ifdef TANGRAM_MATERIAL_SPECULAR\n                    color.rgb += light_accumulator_specular.rgb * material.specular.rgb;\n                    color.a *= material.specular.a;\n                #endif\n\n                // Clamp final color\n                color = clamp(color, 0.0, 1.0);\n\n                return color;\n            }";Ki.addBlock(t.block,a)}};var e=t.prototype;return e.inject=function(){var e="\n            uniform "+this.struct_name+" u_"+this.name+";\n            "+this.struct_name+" "+this.name+";\n            ",n="\n            "+this.name+" = u_"+this.name+";\n\n        ";Ki.addBlock(t.block,e),Ki.addBlock("setup",n)},e.update=function(){},e.setupProgram=function(t){t.uniform("3fv","u_"+this.name+".ambient",this.ambient),t.uniform("3fv","u_"+this.name+".diffuse",this.diffuse),t.uniform("3fv","u_"+this.name+".specular",this.specular)},t}();Jr.types={},Jr.block="lighting",Jr.enabled=!0;var Qr=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).type="ambient",i.struct_name="AmbientLight",i}return Pn(e,t),e.inject=function(){Ki.addBlock(Jr.block,"/*\n\nExpected globals:\nlight_accumulator_*\n\n*/\n\nstruct AmbientLight {\n    vec3 ambient;\n};\n\nvoid calculateLight(in AmbientLight _light, in vec3 _eyeToPoint, in vec3 _normal) {\n    light_accumulator_ambient.rgb += _light.ambient;\n}\n")},e.prototype.setupProgram=function(t){t.uniform("3fv","u_"+this.name+".ambient",this.ambient)},e}(Jr);Jr.types.ambient=Qr;var to=function(t){function e(e,n){var i;if((i=t.call(this,e,n)||this).type="directional",i.struct_name="DirectionalLight",n.direction)i._direction=n.direction;else{var r=Math.sin(60*Math.PI/180);i._direction=[Math.cos(135*Math.PI/180)*r,Math.sin(135*Math.PI/180)*r,-.5],null==n.ambient&&(i.ambient=Gi.expandVec3(.5))}return i.direction=i._direction.map(parseFloat),i}return Pn(e,t),e.inject=function(){Ki.addBlock(Jr.block,"/*\n\nExpected globals:\nmaterial\nlight_accumulator_*\n\n*/\n\nstruct DirectionalLight {\n    vec3 ambient;\n    vec3 diffuse;\n    vec3 specular;\n    vec3 direction;\n};\n\nvoid calculateLight(in DirectionalLight _light, in vec3 _eyeToPoint, in vec3 _normal) {\n\n    light_accumulator_ambient.rgb += _light.ambient;\n\n    float nDotVP = clamp(dot(_normal, -_light.direction), 0.0, 1.0);\n\n    #ifdef TANGRAM_MATERIAL_DIFFUSE\n        light_accumulator_diffuse.rgb += _light.diffuse * nDotVP;\n    #endif\n\n    #ifdef TANGRAM_MATERIAL_SPECULAR\n        float pf = 0.0;\n        if (nDotVP > 0.0) {\n            vec3 reflectVector = reflect(_light.direction, _normal);\n            float eyeDotR = max(dot(normalize(_eyeToPoint), reflectVector), 0.0);\n            pf = pow(eyeDotR, material.shininess);\n        }\n        light_accumulator_specular.rgb += _light.specular * pf;\n    #endif\n}\n")},e.prototype.setupProgram=function(e){t.prototype.setupProgram.call(this,e),e.uniform("3fv","u_"+this.name+".direction",this.direction)},Ln(e,[{key:"direction",get:function(){return this._direction},set:function(t){this._direction=Kr.normalize(Kr.copy(t))}}]),e}(Jr);Jr.types.directional=to;var eo=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).type="point",i.struct_name="PointLight",i.position=n.position||[0,0,"100px"],i.position_eye=[],i.origin=n.origin||"ground",i.attenuation=isNaN(parseFloat(n.attenuation))?0:parseFloat(n.attenuation),n.radius?Array.isArray(n.radius)&&2===n.radius.length?i.radius=n.radius:i.radius=[null,n.radius]:i.radius=null,i}Pn(e,t),e.inject=function(){Ki.addBlock(Jr.block,"/*\n\nExpected globals:\nmaterial\nlight_accumulator_*\n\n*/\n\nstruct PointLight {\n    vec3 ambient;\n    vec3 diffuse;\n    vec3 specular;\n    vec4 position;\n\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT\n    float attenuationExponent;\n#endif\n\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\n    float innerRadius;\n#endif\n\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\n    float outerRadius;\n#endif\n};\n\nvoid calculateLight(in PointLight _light, in vec3 _eyeToPoint, in vec3 _normal) {\n\n    float dist = length(_light.position.xyz - _eyeToPoint);\n\n    // Compute vector from surface to light position\n    vec3 VP = (_light.position.xyz - _eyeToPoint) / dist;\n\n    // Normalize the vector from surface to light position\n    float nDotVP = clamp(dot(VP, _normal), 0.0, 1.0);\n\n    // Attenuation defaults\n    float attenuation = 1.0;\n    #ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT\n        float Rin = 1.0;\n        float e = _light.attenuationExponent;\n\n        #ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\n            Rin = _light.innerRadius;\n        #endif\n\n        #ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\n            float Rdiff = _light.outerRadius-Rin;\n            float d = clamp(max(0.0,dist-Rin)/Rdiff, 0.0, 1.0);\n            attenuation = 1.0-(pow(d,e));\n        #else\n            // If no outer is provide behaves like:\n            // https://imdoingitwrong.wordpress.com/2011/01/31/light-attenuation/\n            float d = max(0.0,dist-Rin)/Rin+1.0;\n            attenuation = clamp(1.0/(pow(d,e)), 0.0, 1.0);\n        #endif\n    #else\n        float Rin = 0.0;\n\n        #ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\n            Rin = _light.innerRadius;\n            #ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\n                float Rdiff = _light.outerRadius-Rin;\n                float d = clamp(max(0.0,dist-Rin)/Rdiff, 0.0, 1.0);\n                attenuation = 1.0-d*d;\n            #else\n                // If no outer is provide behaves like:\n                // https://imdoingitwrong.wordpress.com/2011/01/31/light-attenuation/\n                float d = max(0.0,dist-Rin)/Rin+1.0;\n                attenuation = clamp(1.0/d, 0.0, 1.0);\n            #endif\n        #else\n            #ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\n                float d = clamp(dist/_light.outerRadius, 0.0, 1.0);\n                attenuation = 1.0-d*d;\n            #else\n                attenuation = 1.0;\n            #endif\n        #endif\n    #endif\n\n    // Computer accumulators\n    light_accumulator_ambient.rgb += _light.ambient * attenuation;\n\n    #ifdef TANGRAM_MATERIAL_DIFFUSE\n        light_accumulator_diffuse.rgb += _light.diffuse * nDotVP * attenuation;\n    #endif\n\n    #ifdef TANGRAM_MATERIAL_SPECULAR\n        float pf = 0.0; // power factor for shiny speculars\n        if (nDotVP > 0.0) {\n            vec3 reflectVector = reflect(-VP, _normal);\n            float eyeDotR = max(0.0, dot(-normalize(_eyeToPoint), reflectVector));\n            pf = pow(eyeDotR, material.shininess);\n        }\n\n        light_accumulator_specular.rgb += _light.specular * pf * attenuation;\n    #endif\n}\n")};var n=e.prototype;return n.inject=function(){t.prototype.inject.call(this),Ki.defines.TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT=0!==this.attenuation,Ki.defines.TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS=null!=this.radius&&null!=this.radius[0],Ki.defines.TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS=null!=this.radius},n.update=function(){this.updateEyePosition()},n.updateEyePosition=function(){if("world"===this.origin){var t=or.latLngToMeters([].concat(this.position));this.position_eye[0]=t[0]-this.view.camera.position_meters[0],this.position_eye[1]=t[1]-this.view.camera.position_meters[1],this.position_eye[2]=Ir.convertUnits(this.position[2],{zoom:this.view.zoom,meters_per_pixel:or.metersPerPixel(this.view.zoom)}),this.position_eye[2]=this.position_eye[2]-this.view.camera.position_meters[2]}else"ground"!==this.origin&&"camera"!==this.origin||(this.position_eye=Ir.convertUnits(this.position,{zoom:this.view.zoom,meters_per_pixel:or.metersPerPixel(this.view.zoom)}),"ground"===this.origin&&(this.position_eye[2]=this.position_eye[2]-this.view.camera.position_meters[2]));this.position_eye[3]=1},n.setupProgram=function(e){t.prototype.setupProgram.call(this,e),e.uniform("4fv","u_"+this.name+".position",this.position_eye),Ki.defines.TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT&&e.uniform("1f","u_"+this.name+".attenuationExponent",this.attenuation),Ki.defines.TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS&&e.uniform("1f","u_"+this.name+".innerRadius",Ir.convertUnits(this.radius[0],{zoom:this.view.zoom,meters_per_pixel:or.metersPerPixel(this.view.zoom)})),Ki.defines.TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS&&e.uniform("1f","u_"+this.name+".outerRadius",Ir.convertUnits(this.radius[1],{zoom:this.view.zoom,meters_per_pixel:or.metersPerPixel(this.view.zoom)}))},e}(Jr);Jr.types.point=eo;var no=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).type="spotlight",i.struct_name="SpotLight",i.direction=i._direction=(n.direction||[0,0,-1]).map(parseFloat),i.exponent=n.exponent?parseFloat(n.exponent):.2,i.angle=n.angle?parseFloat(n.angle):20,i}return Pn(e,t),e.inject=function(){Ki.addBlock(Jr.block,"/*\n\nExpected globals:\nmaterial\nlight_accumulator_*\n\n*/\n\nstruct SpotLight {\n    vec3 ambient;\n    vec3 diffuse;\n    vec3 specular;\n    vec4 position;\n\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT\n    float attenuationExponent;\n#endif\n\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\n    float innerRadius;\n#endif\n\n#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\n    float outerRadius;\n#endif\n\n    vec3 direction;\n    float spotCosCutoff;\n    float spotExponent;\n};\n\nvoid calculateLight(in SpotLight _light, in vec3 _eyeToPoint, in vec3 _normal) {\n\n    float dist = length(_light.position.xyz - _eyeToPoint);\n\n    // Compute vector from surface to light position\n    vec3 VP = (_light.position.xyz - _eyeToPoint) / dist;\n\n    // normal . light direction\n    float nDotVP = clamp(dot(_normal, VP), 0.0, 1.0);\n\n    // Attenuation defaults\n    float attenuation = 1.0;\n    #ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT\n        float Rin = 1.0;\n        float e = _light.attenuationExponent;\n\n        #ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\n            Rin = _light.innerRadius;\n        #endif\n\n        #ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\n            float Rdiff = _light.outerRadius-Rin;\n            float d = clamp(max(0.0,dist-Rin)/Rdiff, 0.0, 1.0);\n            attenuation = 1.0-(pow(d,e));\n        #else\n            // If no outer is provide behaves like:\n            // https://imdoingitwrong.wordpress.com/2011/01/31/light-attenuation/\n            float d = max(0.0,dist-Rin)/Rin+1.0;\n            attenuation = clamp(1.0/(pow(d,e)), 0.0, 1.0);\n        #endif\n    #else\n        float Rin = 0.0;\n\n        #ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS\n            Rin = _light.innerRadius;\n            #ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\n                float Rdiff = _light.outerRadius-Rin;\n                float d = clamp(max(0.0,dist-Rin)/Rdiff, 0.0, 1.0);\n                attenuation = 1.0-d*d;\n            #else\n                // If no outer is provide behaves like:\n                // https://imdoingitwrong.wordpress.com/2011/01/31/light-attenuation/\n                float d = max(0.0,dist-Rin)/Rin+1.0;\n                attenuation = clamp(1.0/d, 0.0, 1.0);\n            #endif\n        #else\n            #ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS\n                float d = clamp(dist/_light.outerRadius, 0.0, 1.0);\n                attenuation = 1.0-d*d;\n            #else\n                attenuation = 1.0;\n            #endif\n        #endif\n    #endif\n\n    // spotlight attenuation factor\n    float spotAttenuation = 0.0;\n\n    // See if point on surface is inside cone of illumination\n    float spotDot = clamp(dot(-VP, _light.direction), 0.0, 1.0);\n\n    if (spotDot >= _light.spotCosCutoff) {\n        spotAttenuation = pow(spotDot, _light.spotExponent);\n    }\n\n    light_accumulator_ambient.rgb += _light.ambient * attenuation * spotAttenuation;\n\n    #ifdef TANGRAM_MATERIAL_DIFFUSE\n        light_accumulator_diffuse.rgb += _light.diffuse * nDotVP * attenuation * spotAttenuation;\n    #endif\n\n    #ifdef TANGRAM_MATERIAL_SPECULAR\n        // Power factor for shiny speculars\n        float pf = 0.0;\n        if (nDotVP > 0.0) {\n            vec3 reflectVector = reflect(-VP, _normal);\n            float eyeDotR = max(dot(-normalize(_eyeToPoint), reflectVector), 0.0);\n            pf = pow(eyeDotR, material.shininess);\n        }\n        light_accumulator_specular.rgb += _light.specular * pf * attenuation * spotAttenuation;\n    #endif\n}\n")},e.prototype.setupProgram=function(e){t.prototype.setupProgram.call(this,e),e.uniform("3fv","u_"+this.name+".direction",this.direction),e.uniform("1f","u_"+this.name+".spotCosCutoff",Math.cos(3.14159*this.angle/180)),e.uniform("1f","u_"+this.name+".spotExponent",this.exponent)},Ln(e,[{key:"direction",get:function(){return this._direction},set:function(t){this._direction=Kr.normalize(Kr.copy(t))}}]),e}(eo);Jr.types.spotlight=no,j(j.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}});var io=function(t){function e(e){var n;return(n=t.call(this)||this).name="MethodNotImplemented",n.message="Method "+e+" must be implemented in subclass",n}return Pn(e,t),e}(Nn(Error)),ro=function(){function t(t,e){var n=this;this.validate(t),this.config=t,this.sources=e,this.id=t.id,this.name=t.name,this.pad_scale=t.pad_scale||1e-5,this.default_winding=null,this.rasters=[],Array.isArray(t.rasters)&&t.rasters.forEach(function(t){-1===n.rasters.indexOf(t)&&n.rasters.push(t)}),this.preprocess=t.preprocess,"function"==typeof this.preprocess&&this.preprocess.bind(this),this.transform=t.transform,"function"==typeof this.transform&&this.transform.bind(this),this.extra_data=t.extra_data,this.scripts=t.scripts,this.setZooms(t),this.zoom_offset=null!=t.zoom_offset?t.zoom_offset:0,this.zoom_offset<0&&(Kn({level:"warn",once:!0},"Data source '"+this.name+"' zoom_offset must not be negative – setting to 0."),this.zoom_offset=0),this.setTileSize(t.tile_size),this.min_display_zoom=Math.max(t.min_display_zoom||0,this.zooms[0]),this.max_display_zoom=null!=t.max_display_zoom?t.max_display_zoom:null}t.register=function(e,n){e&&n&&(t.types[e]=n)},t.create=function(e,n){if("function"==typeof t.types[e.type]){var i=t.types[e.type](e);if(i)return new i(e,n)}},t.tileLayoutChanged=function(t,e){if(!t||!e)return!0;var n=["max_zoom","zooms","min_display_zoom","max_display_zoom","bounds","tile_size","zoom_offset"],i=Ai(t.config,n),r=Ai(e.config,n);return JSON.stringify(i)!==JSON.stringify(r)},t.projectData=function(t){var e=+new Date;for(var n in t.layers)for(var i=t.layers[n].features.length,r=0;r<i;r++){var o=t.layers[n].features[r];or.transformGeometry(o.geometry,this.projectCoord)}void 0!==t.debug&&(t.debug.projection=+new Date-e)},t.projectCoord=function(t){or.latLngToMeters(t)},t.scaleData=function(t,e){var n=e.coords.z,i=e.min,r=or.unitsPerMeter(n);for(var o in t.layers)for(var s=t.layers[o].features.length,a=0;a<s;a++){var u=t.layers[o].features[a];or.transformGeometry(u.geometry,function(t){t[0]=(t[0]-i.x)*r,t[1]=(t[1]-i.y)*r*-1})}};var e=t.prototype;return e.load=function(t){var e=this;return t.source_data={},t.source_data.layers={},t.pad_scale=this.pad_scale,t.rasters=[].concat(this.rasters),this._load(t).then(function(t){for(var n in t.source_data.layers){var i=t.source_data.layers[n];i&&i.features&&i.features.forEach(function(t){or.transformGeometry(t.geometry,function(t){t[1]=-t[1],e.pad_scale&&(t[0]=Math.round(t[0]*(1+e.pad_scale)-or.tile_scale*e.pad_scale/2),t[1]=Math.round(t[1]*(1+e.pad_scale)-or.tile_scale*e.pad_scale/2))}),e.updateDefaultWinding(t.geometry)})}return t.default_winding=e.default_winding||"CCW",t})},e._load=function(){throw new io("_load")},e.copyTileData=function(t,e){return Kn("trace","Copy tile data from "+t.key+" to "+e.key),e.source_data={layers:t.source_data.layers},e.rasters=[].concat(t.rasters),e.pad_scale=t.pad_scale,e.default_winding=t.default_winding,e},e.setZooms=function(t){var e=t.max_zoom,n=t.zooms;if(this.max_zoom=null!=e?e:or.default_source_max_zoom,Array.isArray(n))this.zooms=n,this.max_zoom=this.zooms[this.zooms.length-1];else{this.zooms=[];for(var i=0;i<=this.max_zoom;i++)this.zooms[i]=i}},e.setTileSize=function(t){this.tile_size=t||256,("number"!=typeof this.tile_size||this.tile_size<256||!ei.isPowerOf2(this.tile_size))&&(Kn({level:"warn",once:!0},"Data source '"+this.name+"': 'tile_size' parameter must be a number that is a power of 2 greater than or equal to 256, but was '"+t+"'"),this.tile_size=256),this.zoom_bias=Math.log2(this.tile_size)-8+this.zoom_offset},e.updateDefaultWinding=function(t){return null==this.default_winding&&("Polygon"===t.type?this.default_winding=or.ringWinding(t.coordinates[0]):"MultiPolygon"===t.type&&(this.default_winding=or.ringWinding(t.coordinates[0][0]))),this.default_winding},e.includesTile=function(t,e){if(t.z<this.min_display_zoom||null!=this.max_display_zoom&&e>this.max_display_zoom)return!1;for(var n=0;n<this.rasters.length;n++){var i=this.rasters[n];if(this.sources[i]&&this.sources[i]!==this&&!this.sources[i].includesTile(t,t.z))return!1}return!0},e.validate=function(){},t}();ro.types={};var oo=0,so=function(t){function e(e,n){var i;(i=t.call(this,e,n)||this).response_type="";var r=function(t,e){if(!e||0===Object.keys(e).length)return[t,[]];var n=t.indexOf("?"),i=t.indexOf("#"),r="";i>-1&&(r=t.slice(i),t=t.slice(0,i)),-1===n&&(n=t.length,t+="?"),n++;var o="",s=[];for(var a in e)""===xi(a,t)?o+=a+"="+e[a]+"&":s.push([a,e[a]]);return[t=t.slice(0,n)+o+t.slice(n)+r,s]}(e.url,e.url_params),o=r[0],s=r[1];return i.url=o,s.forEach(function(t){var n=t[0],r=t[1];Kn({level:"warn",once:!0},"Data source '"+i.name+"': parameter '"+n+"' already present in URL '"+e.url+"', skipping value '"+n+"="+r+"' specified in 'url_params'")}),e.request_headers&&"object"==typeof e.request_headers&&(i.request_headers=e.request_headers),i}Pn(e,t);var n=e.prototype;return n._load=function(t){var e=this,n=this.formatURL(this.url,t),i=t.source_data;return i.url=n,t.debug=t.debug||{},t.debug.network=+new Date,new Promise(function(r){var o=oo+++"-"+n,s=ei.io(n,6e4,e.response_type,"GET",e.request_headers,o);i.request_id=o,i.error=null,s.then(function(n){t.debug.response_size=n.length||n.byteLength,t.debug.network=+new Date-t.debug.network,t.debug.parsing=+new Date,"function"==typeof e.preprocess&&(n=e.preprocess(n)),(n=n instanceof Promise?n:Promise.resolve(n)).then(function(n){e.parseSourceData(t,i,n),t.debug.parsing=+new Date-t.debug.parsing,r(t)})}).catch(function(e){i.error=e.stack,r(t)})})},n.validate=function(t){if("string"!=typeof t.url)throw Error("Network data source must provide a string `url` property")},n.formatURL=function(){throw new io("formatURL")},n.parseSourceData=function(){throw new io("parseSourceData")},e}(ro),ao=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).tiled=!0,i.bounds=i.parseBounds(e),i.builds_geometry_tiles=!1,i.tms=!0===e.tms,i.url&&i.url.search("{s}")>-1&&(Array.isArray(e.url_subdomains)&&e.url_subdomains.length>0?(i.url_subdomains=e.url_subdomains,i.next_url_subdomain=0):Kn({level:"warn",once:!0},"Data source '"+i.name+"': source URL includes '{s}' subdomain marker ('"+i.url+"'), but no subdomains were specified in 'url_subdomains' parameter")),i.url&&i.url.search("{r}")>-1&&(Array.isArray(e.url_density_scales)&&e.url_density_scales.length>0?i.url_density_scales=e.url_density_scales:i.url_density_scales=[1,2]),i}Pn(e,t);var n=e.prototype;return n.parseBounds=function(t){if(Array.isArray(t.bounds)&&4===t.bounds.length){var e=t.bounds,n=e[0],i=e[1],r=e[2],o=e[3];return{latlng:[].concat(t.bounds),meters:{min:or.latLngToMeters([n,o]),max:or.latLngToMeters([r,i])},tiles:{min:{},max:{}}}}},n.checkBounds=function(t,e){if(e){t=or.wrapTile(t);var n=e.tiles.min[t.z];n||(n=e.tiles.min[t.z]=or.tileForMeters(e.meters.min,t.z));var i=e.tiles.max[t.z];if(i||(i=e.tiles.max[t.z]=or.tileForMeters(e.meters.max,t.z)),t.y<n.y||t.y>i.y)return!1;if(n.x<=i.x){if(t.x<n.x||t.x>i.x)return!1}else if(t.x>i.x&&t.x<n.x)return!1}return!0},n.includesTile=function(e,n){return!!t.prototype.includesTile.call(this,e,n)&&!!this.checkBounds(e,this.bounds)},n.formatURL=function(t,e){var n=or.wrapTile(e.coords,{x:!0});this.tms&&(n.y=Math.pow(2,n.z)-1-n.y);var i=t.replace("{x}",n.x).replace("{y}",n.y).replace("{z}",n.z).replace("{r}",this.getDensityModifier()).replace("{q}",this.toQuadKey(n));return null!=this.url_subdomains&&(i=i.replace("{s}",this.url_subdomains[this.next_url_subdomain]),this.next_url_subdomain=(this.next_url_subdomain+1)%this.url_subdomains.length),i},n.getDensityModifier=function(){if(this.url_density_scales){var t=ei.device_pixel_ratio,e=this.url_density_scales.filter(function(e){return t>=e}).reverse()[0];if((e=null!=e?e:this.url_density_scales[0])>1)return"@"+e+"x"}return""},n.toQuadKey=function(t){for(var e=t.x,n=t.y,i="",r=t.z;r>0;r--){var o=0,s=1<<r-1;0!=(e&s)&&o++,0!=(n&s)&&(o+=2),i+=o.toString()}return i},e.urlHasTilePattern=function(t){return t&&(t.search("{x}")>-1&&t.search("{y}")>-1&&t.search("{z}")>-1||t.search("{q}")>-1)},e}(so),uo={coord:function(t){return{x:t.x,y:t.y,z:t.z,key:this.coordKey(t)}},coordKey:function(t){return t.x+"/"+t.y+"/"+t.z},key:function(t,e,n){if(!(t.y<0||t.y>=1<<t.z||t.z<0))return[e.name,t.x,t.y,t.z,n].join("/")},normalizedKey:function(t,e,n){return this.key(this.normalizedCoord(t,e),e,n)},normalizedCoord:function(t,e){return e.zoom_bias&&(t=this.coordAtZoom(t,Math.max(t.z-e.zoom_bias,e.zooms[0]))),this.coordForTileZooms(t,e.zooms)},coordAtZoom:function(t,e){var n=t.x,i=t.y,r=t.z;if(r!==(e=Math.max(0,e))){var o=Math.pow(2,r-e);n=Math.floor(n/o),i=Math.floor(i/o),r=e}return this.coord({x:n,y:i,z:r})},coordForTileZooms:function(t,e){var n=t.x,i=t.y,r=t.z,o=this.findZoomInRange(r,e);return o!==r?this.coordAtZoom({x:n,y:i,z:r},o):this.coord({x:n,y:i,z:r})},findZoomInRange:function(t,e){return e.filter(function(e){return t>=e}).reverse()[0]||e[0]},isDescendant:function(t,e){if(e.z>t.z){var n=this.coordAtZoom(e,t.z),i=n.x,r=n.y;return t.x===i&&t.y===r}return!1},parent:function(t){var e=t.coords,n=t.source,i=t.style_z;if(i>0){i--;var r=Math.max(i-n.zoom_bias,n.zooms[0]),o=this.coordForTileZooms(this.coordAtZoom(e,r),n.zooms);return o.z>i?null:{key:this.key(o,n,i),coords:o,style_z:i,source:n}}},children:function(t,e){var n=t.coords,i=t.source,r=t.style_z;void 0===e&&(e={}),r++;var o=this.coordForTileZooms(this.coordAtZoom(n,r-i.zoom_bias),i.zooms);if(o.z===n.z)return[{key:this.key(o,i,r),coords:o,style_z:r,source:i}];var s=this.key(o,i,r);if(e[i.id]=e[i.id]||{},null==e[i.id][s]){for(var a=Math.pow(2,o.z-n.z),u=n.x*a,l=n.y*a,c=[],h=u;h<u+a;h++)for(var f=l;f<l+a;f++){var d=this.coord({x:h,y:f,z:o.z});c.push({key:this.key(d,i,r),coords:d,style_z:r,source:i})}e[i.id][s]=c}return e[i.id][s]}},lo=function(t){function e(e,n){var i;return-1===(i=t.call(this,e,n)||this).rasters.indexOf(i.name)&&i.rasters.unshift(i.name),i.filtering=e.filtering,i.textures={},i}Pn(e,t);var n=e.prototype;return n.load=function(t){return new Promise(function(e,n){t.source_data={},t.source_data.layers={},t.pad_scale=this.pad_scale,t.rasters=[].concat(this.rasters);var i=or.tile_scale;return t.source_data.layers={_default:{type:"FeatureCollection",features:[{geometry:{type:"Polygon",coordinates:[[[0,0],[i,0],[i,-i],[0,-i],[0,0]]]},properties:{}}]}},t.default_winding="CW",e(t)}.bind(this))},n.tileTexture=function(t){return new Promise(function(e,n){var i=this.adjustRasterTileZoom(t),r=i.key;if(!this.textures[r]){var o=this.formatURL(this.url,{coords:i});this.textures[r]={name:o,url:o,filtering:this.filtering,coords:i}}return e(this.textures[r])}.bind(this))},n.adjustRasterTileZoom=function(t){var e=t.coords,n=this.sources[t.source];if(n!==this){var i=this.zoom_bias-n.zoom_bias;i>0?e=uo.normalizedCoord(t.coords,{zoom_bias:i,zooms:this.zooms}):(i<0&&Kn({level:"warn",once:!0},"Raster source '"+this.name+"' supports higher zoom detail than source '"+n.name+"' it's attached to. Downsampling this source "+-i+" extra zoom levels to match."),e=uo.coordForTileZooms(e,this.zooms))}return e},e}(ao),co=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).load_image={},i.alpha=null!=e.alpha?Math.max(Math.min(e.alpha,1),0):null,i.mask_alpha=!0,i.preserve_tiles_within_zoom=0,i.max_display_density=e.max_display_density,Array.isArray(e.composite)?i.images=e.composite.map(function(t){return{url:t.url,bounds:i.parseBounds(t),alpha:null!=t.alpha?Math.max(Math.min(t.alpha,1),0):null}}):i.images=[{url:i.url,bounds:i.bounds,alpha:i.alpha}],i}Pn(e,t);var n=e.prototype;return n.tileTexture=function(t,e){return new Promise(function(n,i){var r,o,s,a,u,l,c,h,f,d;return r=this,o=e.blend,s=e.generation,a=this.adjustRasterTileZoom(t),u="opaque"!==o,l="raster-"+this.name+"-"+a.key+"-"+(u?"alpha":"opaque")+"-"+s,Ui.textures[l]?n({name:l,coords:a,skip_create:!0}):(c=ei.device_pixel_ratio,this.max_display_density&&(c=Math.min(c,this.max_display_density)),c*=2,h=document.createElement("canvas"),f=h.getContext("2d"),h.width=this.tile_size*c,h.height=this.tile_size*c,f.imageSmoothingEnabled="nearest"!==this.filtering,d=this.images.filter(function(e){return r.checkBounds(t.coords,e.bounds)}),Promise.resolve(Promise.all(d.map(function(e){var n=u?null!=e.alpha?e.alpha:r.alpha:1;return r.drawImage(e.url,e.bounds,n,t,c,f)}))).then(function(t){try{return n({name:l,element:h,filtering:this.filtering,coords:a})}catch(t){return i(t)}}.bind(this),i))}.bind(this))},n.drawImage=function(t,e,n,i,r,o){return new Promise(function(s,a){var u,l,c,h,f,d,p;return u=Zi(t),this.load_image[u]=this.load_image[u]||this.loadImage(t),Promise.resolve(this.load_image[u]).then(function(t){try{return l=t,c=or.metersPerPixel(i.coords.z)/r/(this.tile_size/or.tile_size),h=(e.meters.min[0]-i.min.x)/c,f=-(e.meters.min[1]-i.min.y)/c,d=(e.meters.max[0]-e.meters.min[0])/c,p=-(e.meters.max[1]-e.meters.min[1])/c,o.globalAlpha=null!=n?n:1,o.drawImage(l,h,f,d,p),s()}catch(t){return a(t)}}.bind(this),a)}.bind(this))},n.loadImage=function(t){var e=this;return new Promise(function(n){var i=new Image;i.onload=function(){return n(i)},i.onerror=function(i){Kn("warn","Raster source '"+e.name+"': failed to load url: '"+t+"'",i),n(null)},ei.isSafari()&&"data:"===t.slice(0,5)||(i.crossOrigin="anonymous"),i.src=t})},n.includesTile=function(t,e){var n=this;return!!ro.prototype.includesTile.call(this,t,e)&&this.images.some(function(e){return n.checkBounds(t,e.bounds)})},n.validate=function(t){var e="Raster data source must provide a string `url` parameter, or an array of `composite` raster ";e+="image objects that each have a `url` parameter";var n="Raster data source must provide a `bounds` parameter, or an array of `composite` raster ";if(n+="image objects that each have a `bounds` parameter",Array.isArray(t.composite)){if(t.composite.some(function(t){return"string"!=typeof t.url}))throw Error(e);if(t.composite.some(function(t){return!(Array.isArray(t.bounds)&&4===t.bounds.length)}))throw Error(n);if(null!=t.url||null!=t.bounds)throw Error("Raster data source must have *either* a single image specified as `url` and `bounds `parameters, or an array of `composite` raster image objects, each with `url` and `bounds`.")}else{if("string"!=typeof t.url)throw Error(e);if(!Array.isArray(t.bounds)||4!==t.bounds.length)throw Error(n)}},e}(lo);ro.register("Raster",function(t){return lo.urlHasTilePattern(t.url)?lo:co});var ho,fo={init:function(t){var e=void 0===t?{}:t,n=e.generation,i=e.styles,r=e.sources,o=void 0===r?{}:r,s=e.introspection;this.setGeneration(n),this.styles=i,this.sources=o,this.defines=this.hasOwnProperty("defines")&&this.defines||{},this.shaders=this.hasOwnProperty("shaders")&&this.shaders||{},this.introspection=s||!1,this.selection=this.selection||this.introspection||!1,this.compile_setup=!1,this.program=null,this.selection_program=null,this.feature_style={},this.vertex_template=[],this.tile_data={},this.stencil_proxy_tiles=!0,this.defines.TANGRAM_WORLD_POSITION_WRAP=1e5,this.blend=this.blend||"opaque","opaque"!==this.blend?null==this.blend_order&&(this.blend_order=this.default_blend_orders[this.blend]):this.blend_order=this.default_blend_orders[this.blend],this.defines["TANGRAM_BLEND_"+this.blend.toUpperCase()]=!0,this.removeShaderBlock("setup"),this.material instanceof Yr||(Yr.isValid(this.material)||(this.material=Ir.defaults.material),this.material=new Yr(this.material)),this.material.inject(this),Jr.setMode(this.lighting,this),this.setupRasters(),this.initialized=!0},destroy:function(){this.program&&(this.program.destroy(),this.program=null),this.selection_program&&(this.selection_program.destroy(),this.selection_program=null),$n.removeTarget(this.main_thread_target),this.gl=null,this.initialized=!1},reset:function(){},baseStyle:function(){return this.base||this.name},setGeneration:function(t){this.generation=t,this.main_thread_target=["Style",this.name,this.generation].join("_"),zt.is_main&&$n.addTarget(this.main_thread_target,this)},startData:function(t){this.tile_data[t.id]=this.tile_data[t.id]||{meshes:{},uniforms:{},textures:[]}},endData:function(t){return new Promise(function(e,n){var i=this.tile_data[t.id];if(this.tile_data[t.id]=null,i&&Object.keys(i.meshes).length>0){for(var r in i.meshes){var o=i.meshes[r];0!==o.vertex_data.vertex_count?(o.vertex_data.end(),o.vertex_elements=o.vertex_data.element_buffer,o.vertex_data=o.vertex_data.vertex_buffer):delete i.meshes[r]}return e(this.buildRasterTextures(t,i))}return e(null)}.bind(this))},hasDataForTile:function(t){return null!=this.tile_data[t.id]},getTileMesh:function(t,e){var n=this.tile_data[t.id].meshes;if(null==n[e.key]){var i=this.vertexLayoutForMeshVariant(e);n[e.key]={variant:e,vertex_data:i.createVertexData()}}return n[e.key]},vertexLayoutForMeshVariant:function(){},meshVariantTypeForDraw:function(){},addFeature:function(t,e,n){var i=n.tile;if(i.generation===this.generation){this.tile_data[i.id]||this.startData(i);var r=this.parseFeature(t,e,n);r&&this.buildGeometry(t.geometry,r,n)>0&&(t.generation=this.generation)}},buildGeometry:function(t,e,n){var i,r=this;if("Polygon"===t.type?i=this.buildPolygons([t.coordinates],e,n):"MultiPolygon"===t.type?i=this.buildPolygons(t.coordinates,e,n):"LineString"===t.type?i=this.buildLines([t.coordinates],e,n):"MultiLineString"===t.type?i=this.buildLines(t.coordinates,e,n):"Point"===t.type?i=this.buildPoints([t.coordinates],e,n):"MultiPoint"===t.type&&(i=this.buildPoints(t.coordinates,e,n)),i>0&&ni.layer_stats){var o=n.tile;o.debug.layers=o.debug.layers||{list:{},tree:{}};var s=o.debug.layers.list,a=o.debug.layers.tree,u={};n.layers.forEach(function(t){var e,n;po(s,t,1,i,((e={})[r.name]=i,e),((n={})[r.baseStyle()]=i,n));for(var o=a,l=u,c=t.split(":"),h=0;h<c.length;h++){var f,d,p=c[h];o[p]=o[p]||{features:0,geoms:0,styles:{},base:{}},null==l[p]&&(l[p]={},po(o,p,1,i,((f={})[r.name]=i,f),((d={})[r.baseStyle()]=i,d))),h<c.length-1&&(o[p].layers=o[p].layers||{}),o=o[p].layers,l=l[p]}})}return i},parseFeature:function(t,e,n){try{var i=this.feature_style;if(i.order=this.parseOrder(e.order,n),null==i.order&&"overlay"!==this.blend){var r="Layer '"+e.layers.join(", ")+"', draw group '"+e.group+"': ";return r+="'order' parameter is required unless blend mode is 'overlay'",null!=e.order&&(r+="; 'order' was set to a dynamic value (e.g. string tied to feature property, ",r+="or JS function), but evaluated to null for one or more features"),void Kn({level:"warn",once:!0},r)}if(!(i=this._parseFeature(t,e,n)))return;return this.selection?i.interactive=Ir.evalProperty(e.interactive,n):i.interactive=!1,!0===i.interactive?i.selection_color=qr.makeColor(t,n.tile,n):i.selection_color=qr.defaultColor,i}catch(e){Kn("error","Style.parseFeature: style parsing error",t,i,e.stack)}},_parseFeature:function(){return this.feature_style},preprocess:function(t){if(!t.preprocessed){if(this.draw)for(var e in this.draw){var n=this.draw[e];"object"!=typeof n||Array.isArray(n)?null==t[e]&&(t[e]=n):t[e]=rr({},n,t[e])}if(this.selection?this.introspection&&(t.interactive=!0):t.interactive=!1,!(t=this._preprocess(t)))return;t.preprocessed=!0}return t},_preprocess:function(t){return t},parseOrder:function(t,e){return"number"!=typeof t?Ir.calculateOrder(t,e):t},scaleOrder:function(t){return 2*t},parseColor:function(t,e){return t?Ir.evalCachedColorProperty(t,e):this.shaders.blocks.color||this.shaders.blocks.filter?Ir.defaults.color:void 0},buildPolygons:function(){return 0},buildLines:function(){return 0},buildPoints:function(){return 0},setGL:function(t){this.gl=t,this.max_texture_size=Ui.getMaxTextureSize(this.gl)},makeMesh:function(t,e,n){void 0===n&&(n={});var i=this.vertexLayoutForMeshVariant(n.variant);return new Zr(this.gl,t,e,i,n)},render:function(t){return t.render()},getProgram:function(t){void 0===t&&(t="program"),this.compileSetup();var e=this[t];if(e&&!e.error){if(!e.compiled){Kn("debug","Compiling style '"+this.name+"', program key '"+t+"'");try{e.compile()}catch(e){Kn("error","Style: error compiling program for style '"+this.name+"' (program key '"+t+"')",this,e.stack,e.type,e.shader_errors)}}return e}},compileSetup:function(){if(!this.compile_setup){if(!this.gl)throw new Error("style.compile(): skipping for "+this.name+" because no GL context");var t=this.buildDefineList();if(this.selection){var e=Object.assign({},t);e.TANGRAM_FEATURE_SELECTION=!0}var n=this.shaders&&this.shaders.blocks,i=this.shaders&&this.shaders.block_scopes,r=Object.assign({},this.shaders&&this.shaders.uniforms);for(var o in r)null==r[o]&&Kn({level:"warn",once:!0},"Style '"+this.name+"' has invalid uniform '"+o+"': uniform values must be non-null");var s=this.shaders&&this.shaders.extensions;"string"==typeof s&&(s=[s]),this.program=new Ki(this.gl,this.vertex_shader_src,this.fragment_shader_src,{name:this.name,defines:t,uniforms:r,blocks:n,block_scopes:i,extensions:s}),this.selection?this.selection_program=new Ki(this.gl,this.vertex_shader_src,"// Fragment shader for feature selection passes\n// Renders in silhouette according to selection (picking) color, or black if none defined\n\n#ifdef TANGRAM_FEATURE_SELECTION\n    varying vec4 v_selection_color;\n#endif\n\nvoid main (void) {\n    #ifdef TANGRAM_FEATURE_SELECTION\n        gl_FragColor = v_selection_color;\n    #else\n        gl_FragColor = vec4(0., 0., 0., 1.);\n    #endif\n}\n",{name:this.name+" (selection)",defines:e,uniforms:r,blocks:n,block_scopes:i,extensions:s}):this.selection_program=null,this.compile_setup=!0}},addShaderBlock:function(t,e,n){void 0===n&&(n=null),this.shaders.blocks=this.shaders.blocks||{},this.shaders.blocks[t]=this.shaders.blocks[t]||[],this.shaders.blocks[t].push(e),this.shaders.block_scopes=this.shaders.block_scopes||{},this.shaders.block_scopes[t]=this.shaders.block_scopes[t]||[],this.shaders.block_scopes[t].push(n)},removeShaderBlock:function(t){this.shaders.blocks&&(this.shaders.blocks[t]=null),this.shaders.block_scopes&&(this.shaders.block_scopes[t]=null)},replaceShaderBlock:function(t,e,n){void 0===n&&(n=null),this.removeShaderBlock(t),this.addShaderBlock(t,e,n)},buildDefineList:function(){var t={};if(null!=this.defines)for(var e in this.defines)t[e]=this.defines[e];if(null!=this.shaders&&null!=this.shaders.defines)for(e in this.shaders.defines)t[e]=this.shaders.defines[e];return t},hasRasters:function(){return["color","normal","custom"].indexOf(this.raster)>-1},setupRasters:function(){var t=this;if(this.hasRasters()){"color"===this.raster?this.defines.TANGRAM_RASTER_TEXTURE_COLOR=!0:"normal"===this.raster&&(this.defines.TANGRAM_RASTER_TEXTURE_NORMAL=!0);var e=Object.keys(this.sources).filter(function(e){return t.sources[e]instanceof lo}).length;if(this.defines.TANGRAM_NUM_RASTER_SOURCES=""+e,e>0){var n=Object.keys(this.sources).filter(function(e){return t.sources[e].mask_alpha}).length;this.defines.TANGRAM_HAS_MASKED_RASTERS=n>0,this.defines.TANGRAM_ALL_MASKED_RASTERS=n===e,this.defines.TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING=!0,this.replaceShaderBlock("raster","// Uniforms defining raster textures and macros for accessing them\n\n#ifdef TANGRAM_FRAGMENT_SHADER\nuniform sampler2D u_rasters[TANGRAM_NUM_RASTER_SOURCES];    // raster tile texture samplers\nuniform vec2 u_raster_sizes[TANGRAM_NUM_RASTER_SOURCES];    // raster tile texture sizes (width/height in pixels)\nuniform vec3 u_raster_offsets[TANGRAM_NUM_RASTER_SOURCES];  // raster tile texture UV starting offset for tile\n\n// Raster sources can optionally mask by the alpha channel (render with only full or no alpha, based on a threshold),\n// which is used for handling transparency outside the raster image when rendering with opaque blending\n#if defined(TANGRAM_HAS_MASKED_RASTERS) && !defined(TANGRAM_ALL_MASKED_RASTERS) // only add uniform if we need it\nuniform bool u_raster_mask_alpha;\n#endif\n\n// Note: the raster accessors below are #defines rather than functions to\n// avoid issues with constant integer expressions for array indices\n\n// Adjusts UVs in model space to account for raster tile texture overzooming\n// (applies scale and offset adjustments)\n#define adjustRasterUV(raster_index, uv) \\\n    ((uv) * u_raster_offsets[raster_index].z + u_raster_offsets[raster_index].xy)\n\n// Returns the UVs of the current model position for a raster sampler\n#define currentRasterUV(raster_index) \\\n    (adjustRasterUV(raster_index, v_modelpos_base_zoom.xy))\n\n// Returns pixel location in raster tile texture at current model position\n#define currentRasterPixel(raster_index) \\\n    (currentRasterUV(raster_index) * rasterPixelSize(raster_index))\n\n// Samples a raster tile texture for the current model position\n#define sampleRaster(raster_index) \\\n    (texture2D(u_rasters[raster_index], currentRasterUV(raster_index)))\n\n// Samples a raster tile texture for a given pixel\n#define sampleRasterAtPixel(raster_index, pixel) \\\n    (texture2D(u_rasters[raster_index], (pixel) / rasterPixelSize(raster_index)))\n\n// Returns size of raster sampler in pixels\n#define rasterPixelSize(raster_index) \\\n    (u_raster_sizes[raster_index])\n\n#endif\n","Raster")}}},buildRasterTextures:function(t,e){return new Promise(function(n,i){var r,o,s,a;if(!this.hasRasters())return n(e);if(0===t.rasters.length)return n(e);var u=function(){try{return!r||r.length<1?n(e):r.some(function(t){return!t.loaded})?n(null):(e.uniforms.u_raster_mask_alpha=!0===this.sources[t.rasters[0]].mask_alpha,o=e.uniforms.u_rasters=[],s=e.uniforms.u_raster_sizes=[],a=e.uniforms.u_raster_offsets=[],r.forEach(function(n){var i=n.index;if(o[i]=n.name,e.textures.push(n.name),s[i]=[n.width,n.height],t.coords.z>n.coords.z){var r=t.coords.z-n.coords.z,u=Math.pow(2,r);a[i]=[(t.coords.x%u+u)%u/u,(u-1-t.coords.y%u)/u,1/u]}else a[i]=[0,0,1]}),n(e))}catch(t){return i(t)}}.bind(this),l=function(t){try{return n(e)}catch(t){return i(t)}};try{return Promise.resolve($n.postMessage(this.main_thread_target+".loadTextures",{coords:t.coords,source:t.source,rasters:t.rasters,min:t.min,max:t.max})).then(function(t){try{return r=t,u()}catch(t){return l()}},l)}catch(t){l()}}.bind(this))},loadTextures:function(t){return new Promise(function(e,n){var i,r,o,s,a;return i=this,r={},o={},s=[],t.rasters.map(function(t){return i.sources[t]}).filter(function(t){return t}).forEach(function(e,n){e instanceof lo&&s.push(e.tileTexture(t,i).then(function(t){r[t.name]=t,o[t.name]=n}))}),Promise.resolve(Promise.all(s)).then(function(t){try{return Promise.resolve(Ui.createFromObject(this.gl,r)).then(function(t){try{return Promise.resolve(Promise.all(Object.keys(r).map(function(t){return Ui.textures[t]&&Ui.textures[t].load()}).filter(function(t){return t}))).then(function(t){try{return(a=t).forEach(function(t){return t.retain()}),e(a.map(function(t){return{name:t.name,width:t.width,height:t.height,loaded:t.loaded,index:o[t.name],coords:r[t.name].coords}}))}catch(t){return n(t)}},n)}catch(t){return n(t)}},n)}catch(t){return n(t)}}.bind(this),n)}.bind(this))},setup:function(){this.setUniforms(),this.material.setupProgram(Ki.current)},setUniforms:function(){var t=Ki.current;t&&t.setUniforms(this.shaders&&this.shaders.uniforms,!0)},render_states:{opaque:{depth_test:!0,depth_write:!0},translucent:{depth_test:!0,depth_write:!0},add:{depth_test:!0,depth_write:!1},multiply:{depth_test:!0,depth_write:!1},inlay:{depth_test:!0,depth_write:!1},overlay:{depth_test:!1,depth_write:!1}},default_blend_orders:{opaque:Number.MIN_SAFE_INTEGER,add:1,multiply:2,inlay:3,translucent:4,overlay:5},getBlendOrderForDraw:function(t){return"opaque"!==this.blend&&null!=t.blend_order?t.blend_order:this.blend_order}};function po(t,e,n,i,r,o){for(var s in t[e]=t[e]||{features:0,geoms:0,styles:{},base:{}},t[e].features+=n,t[e].geoms+=i,r)t[e].styles[s]=t[e].styles[s]||0,t[e].styles[s]+=r[s];for(var a in o)t[e].base[a]=t[e].base[a]||0,t[e].base[a]+=o[a]}var mo=ho={};ho.BYTE=5120,ho.UNSIGNED_BYTE=5121,ho.SHORT=5122,ho.UNSIGNED_SHORT=5123,ho.INT=5124,ho.UNSIGNED_INT=5125,ho.FLOAT=5126,Bi("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}}),Bi("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}}),Bi("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}}),Bi("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}}),Bi("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}});var _o,vo=Math.pow(2,16)-1,go=!1,yo=function(){function t(){this.array=[],this.has_overflown=!1}var e=t.prototype;return e.push=function(t){this.has_overflown&&!go||t>vo&&(this.has_overflown=!0,!go)||this.array.push(t)},e.end=function(){if(this.array.length){var t=(e=this.array,new(this.has_overflown&&go?Uint32Array:Uint16Array)(e));return this.array=[],this.has_overflown=!1,t}return!1;var e},t}();yo.setElementIndexUint=function(t){go=t};var bo=((_o={})[mo.FLOAT]=Float32Array,_o[mo.BYTE]=Int8Array,_o[mo.UNSIGNED_BYTE]=Uint8Array,_o[mo.INT]=Int32Array,_o[mo.UNSIGNED_INT]=Uint32Array,_o[mo.SHORT]=Int16Array,_o[mo.UNSIGNED_SHORT]=Uint16Array,_o),xo=function(){function t(e,n){var i=(void 0===n?{}:n).prealloc,r=void 0===i?500:i;this.vertex_layout=e,this.vertex_elements=new yo,this.stride=this.vertex_layout.stride,t.array_pool.length>0?(this.vertex_buffer=t.array_pool.pop(),this.byte_length=this.vertex_buffer.byteLength,this.size=Math.floor(this.byte_length/this.stride),Kn("trace","VertexData: reused buffer of bytes "+this.byte_length+", "+this.size+" vertices")):(this.size=r,this.byte_length=this.stride*this.size,this.vertex_buffer=new Uint8Array(this.byte_length)),this.offset=0,this.vertex_count=0,this.realloc_count=0,this.setBufferViews(),this.setAddVertexFunction()}var e=t.prototype;return e.setBufferViews=function(){var t=this;this.views={},this.views[mo.UNSIGNED_BYTE]=this.vertex_buffer,this.vertex_layout.dynamic_attribs.forEach(function(e){if(null==t.views[e.type]){var n=bo[e.type];t.views[e.type]=new n(t.vertex_buffer.buffer)}})},e.checkBufferSize=function(){if(this.offset+this.stride>this.byte_length){this.size=Math.floor(1.5*this.size),this.size-=this.size%4,this.byte_length=this.stride*this.size;var e=new Uint8Array(this.byte_length);e.set(this.vertex_buffer),t.array_pool.push(this.vertex_buffer),this.vertex_buffer=e,this.setBufferViews(),this.realloc_count++}},e.setAddVertexFunction=function(){this.vertexLayoutAddVertex=this.vertex_layout.getAddVertexFunction()},e.addVertex=function(t){this.checkBufferSize(),this.vertexLayoutAddVertex(t,this.views,this.offset),this.offset+=this.stride,this.vertex_count++},e.end=function(){return this.vertex_buffer=this.vertex_buffer.subarray(0,this.offset),this.element_buffer=this.vertex_elements.end(),Kn("trace","VertexData: "+this.size+" vertices total, realloc count "+this.realloc_count),this},t}();xo.array_pool=[];var wo=function(){function t(t){this.attribs=t,this.dynamic_attribs=this.attribs.filter(function(t){return null==t.static}),this.static_attribs=this.attribs.filter(function(t){return null!=t.static}),this.components=[],this.index={},this.offset={},this.stride=0;for(var e=0,n=0,i=0;i<this.attribs.length;i++){var r=this.attribs[i];if(null==r.static){r.offset=this.stride,r.byte_size=r.size;var o=0;switch(r.type){case mo.FLOAT:case mo.INT:case mo.UNSIGNED_INT:r.byte_size*=4,o=2;break;case mo.SHORT:case mo.UNSIGNED_SHORT:r.byte_size*=2,o=1}3&r.byte_size&&(r.byte_size+=4-(3&r.byte_size)),this.stride+=r.byte_size;for(var s=r.offset>>o,a=0;a<r.size;a++)this.components.push({type:r.type,shift:o,offset:s++,index:n++});this.index[r.name]=e,e+=r.size,this.offset[r.name]=r.offset}else r.static=Array.isArray(r.static)?r.static:[r.static],r.method="vertexAttrib"+r.static.length+"fv"}}var e=t.prototype;return e.enableDynamicAttributes=function(e,n){var i=this;for(var r in t.enabled_attribs)e.disableVertexAttribArray(r);t.enabled_attribs={},this.dynamic_attribs.forEach(function(r){var o=n.attribute(r.name).location;-1!==o&&(e.enableVertexAttribArray(o),e.vertexAttribPointer(o,r.size,r.type,r.normalized,i.stride,r.offset),t.enabled_attribs[o]=n)})},e.enableStaticAttributes=function(t,e){this.static_attribs.forEach(function(n){var i=e.attribute(n.name).location;-1!==i&&t[n.method]instanceof Function&&(t.enableVertexAttribArray(i),t[n.method](i,n.static),t.disableVertexAttribArray(i))})},e.createVertexData=function(){return new xo(this)},e.getAddVertexFunction=function(){return null==this.addVertex&&this.createAddVertexFunction(),this.addVertex},e.createAddVertexFunction=function(){var e=Zi(JSON.stringify(this.attribs));if(null==t.add_vertex_funcs[e]){var n,i=["var t, o;"],r=[].concat(this.components);r.sort(function(t,e){return t.type!==e.type?t.type-e.type:t.index-e.index});for(var o=0;o<r.length;o++){var s=r[o];n!==s.type&&(i.push("t = vs["+s.type+"];"),i.push("o = off"+(s.shift?" >> "+s.shift:"")+";"),n=s.type),i.push("t[o + "+s.offset+"] = v["+s.index+"];")}i=i.join("\n");var a=new Function("v","vs","off",i);t.add_vertex_funcs[e]=a}this.addVertex=t.add_vertex_funcs[e]},t}();wo.enabled_attribs={},wo.add_vertex_funcs={};var To=[{x:0,y:0},{x:or.tile_scale,y:-or.tile_scale}],Ao=[0,0,1,1];function Eo(t,e,n){var i=To[0],r=To[1];return t[0]<=i.x+n&&e[0]<=i.x+n||t[0]>=r.x-n&&e[0]>=r.x-n||t[1]>=i.y-n&&e[1]>=i.y-n||t[1]<=r.y+n&&e[1]<=r.y+n}function So(t,e){e=e||0;var n=To[0],i=To[1];return t[0]<=n.x+e||t[0]>=i.x-e||t[1]>=n.y-e||t[1]<=i.y+e}var ko=Co;function Co(t,e,n){n=n||2;var i,r,o,s,a,u,l,c=e&&e.length,h=c?e[0]*n:t.length,f=Oo(t,0,h,n,!0),d=[];if(!f)return d;if(c&&(f=function(t,e,n,i){var r,o,s,a=[];for(r=0,o=e.length;r<o;r++)(s=Oo(t,e[r]*i,r<o-1?e[r+1]*i:t.length,i,!1))===s.next&&(s.steiner=!0),a.push(Fo(s));for(a.sort(zo),r=0;r<a.length;r++)Do(a[r],n),n=Lo(n,n.next);return n}(t,e,f,n)),t.length>80*n){i=o=t[0],r=s=t[1];for(var p=n;p<h;p+=n)(a=t[p])<i&&(i=a),(u=t[p+1])<r&&(r=u),a>o&&(o=a),u>s&&(s=u);l=Math.max(o-i,s-r)}return Po(f,d,n,i,r,l),d}function Oo(t,e,n,i,r){var o,s;if(r===Yo(t,e,n,i)>0)for(o=e;o<n;o+=i)s=Vo(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=Vo(o,t[o],t[o+1],s);return s&&$o(s,s.next)&&(Zo(s),s=s.next),s}function Lo(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!$o(i,i.next)&&0!==Ho(i.prev,i,i.next))i=i.next;else{if(Zo(i),(i=e=i.prev)===i.next)return null;n=!0}}while(n||i!==e);return e}function Po(t,e,n,i,r,o,s){if(t){!s&&o&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=jo(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<l&&(a++,i=i.nextZ);e++);for(u=l;a>0||u>0&&i;)0===a?(r=i,i=i.nextZ,u--):0!==u&&i?n.z<=i.z?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,u--):(r=n,n=n.nextZ,a--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(s>1)}(r)}(t,i,r,o);for(var a,u,l=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?Mo(t,i,r,o):Ro(t))e.push(a.i/n),e.push(t.i/n),e.push(u.i/n),Zo(t),t=u.next,l=u.next;else if((t=u)===l){s?1===s?Po(t=Io(t,e,n),e,n,i,r,o,2):2===s&&No(t,e,n,i,r,o):Po(Lo(t),e,n,i,r,o,1);break}}}function Ro(t){var e=t.prev,n=t,i=t.next;if(Ho(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(Bo(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Ho(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Mo(t,e,n,i){var r=t.prev,o=t,s=t.next;if(Ho(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,u=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,l=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=jo(a,u,e,n,i),f=jo(l,c,e,n,i),d=t.nextZ;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&Bo(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&Ho(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&Bo(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&Ho(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function Io(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!$o(r,o)&&Wo(r,i,i.next,o)&&Go(r,o)&&Go(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),Zo(i),Zo(i.next),i=t=o),i=i.next}while(i!==t);return i}function No(t,e,n,i,r,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Uo(s,a)){var u=qo(s,a);return s=Lo(s,s.next),u=Lo(u,u.next),Po(s,e,n,i,r,o),void Po(u,e,n,i,r,o)}a=a.next}s=s.next}while(s!==t)}function zo(t,e){return t.x-e.x}function Do(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;for(i=n.next;i!==l;)r>=i.x&&i.x>=c&&Bo(o<h?r:s,o,c,h,o<h?s:r,o,i.x,i.y)&&((u=Math.abs(o-i.y)/(r-i.x))<f||u===f&&i.x>n.x)&&Go(i,t)&&(n=i,f=u),i=i.next;return n}(t,e)){var n=qo(e,t);Lo(n,n.next)}}function jo(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)/r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)/r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Fo(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function Bo(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function Uo(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Wo(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Go(t,e)&&Go(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}function Ho(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function $o(t,e){return t.x===e.x&&t.y===e.y}function Wo(t,e,n,i){return!!($o(t,e)&&$o(n,i)||$o(t,i)&&$o(n,e))||Ho(t,e,n)>0!=Ho(t,e,i)>0&&Ho(n,i,t)>0!=Ho(n,i,e)>0}function Go(t,e){return Ho(t.prev,t,t.next)<0?Ho(t,e,t.next)>=0&&Ho(t,t.prev,e)>=0:Ho(t,e,t.prev)<0||Ho(t,t.next,e)<0}function qo(t,e){var n=new Xo(t.i,t.x,t.y),i=new Xo(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Vo(t,e,n,i){var r=new Xo(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Zo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Xo(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Yo(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}Co.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,s=Math.abs(Yo(t,0,o,n));if(r)for(var a=0,u=e.length;a<u;a++){var l=e[a]*n,c=a<u-1?e[a+1]*n:t.length;s-=Math.abs(Yo(t,l,c,n))}var h=0;for(a=0;a<i.length;a+=3){var f=i[a]*n,d=i[a+1]*n,p=i[a+2]*n;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},Co.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n};var Ko=[0,0,1];function Jo(t,e,n,i){var r,o,s,a,u,l,c,h,f,d=i.texcoord_index,p=i.texcoord_scale,m=i.texcoord_normalize,_=e.vertex_elements,v=t.length,g=0;if(d){m=m||1;var y=p||Ao;r=y[0],o=y[1],s=y[2],a=y[3]}for(var b=0;b<v;b++){var x=t[b],w=e.vertex_count,T=(f=ko.flatten(x),ko(f.vertices,f.holes,f.dimensions)),A=T.length;if(A){var E;d&&(u=(E=or.findBoundingBox(x))[0],l=E[1],c=(s-r)/(E[2]-u),h=(a-o)/(E[3]-l));for(var S=0;S<x.length;S++)for(var k=x[S],C=0;C<k.length;C++){var O=k[C];n[0]=O[0],n[1]=O[1],d&&(n[d+0]=((O[0]-u)*c+r)*m,n[d+1]=((O[1]-l)*h+o)*m),e.addVertex(n)}for(var L=0;L<A;L++)_.push(w+T[L]);g+=A/3}}return g}var Qo='uniform vec2 u_resolution;\nuniform float u_time;\nuniform vec3 u_map_position;\nuniform vec4 u_tile_origin;\nuniform float u_tile_proxy_order_offset;\nuniform float u_meters_per_pixel;\nuniform float u_device_pixel_ratio;\n\nuniform mat4 u_model;\nuniform mat4 u_modelView;\nuniform mat3 u_normalMatrix;\nuniform mat3 u_inverseNormalMatrix;\n\nattribute vec4 a_position;\nattribute vec4 a_color;\n\n// Optional normal attribute, otherwise default to up\n#ifdef TANGRAM_NORMAL_ATTRIBUTE\n    attribute vec3 a_normal;\n    #define TANGRAM_NORMAL a_normal\n#else\n    #define TANGRAM_NORMAL vec3(0., 0., 1.)\n#endif\n\n// Optional dynamic line extrusion\n#ifdef TANGRAM_EXTRUDE_LINES\n    attribute vec2 a_extrude; // extrusion direction in xy plane\n    attribute vec2 a_offset;  // offset direction in xy plane\n\n    // Polygon and line styles have slightly different VBO layouts, saving memory by optimizing vertex packing.\n    // All lines have a width scaling factor, but only some have a height (position.z) or offset.\n    // The vertex height is stored in different attributes to account for this.\n    attribute vec2 a_z_and_offset_scale; // stores vertex height in x, and offset scaling factor in y\n    #define TANGRAM_POSITION_Z a_z_and_offset_scale.x // vertex height is stored in separate line-specific attrib\n    #define TANGRAM_OFFSET_SCALING a_z_and_offset_scale.y // zoom scaling factor for line offset\n    #define TANGRAM_WIDTH_SCALING a_position.z // zoom scaling factor for line width (stored in position attrib)\n\n    uniform float u_v_scale_adjust; // scales texture UVs for line dash patterns w/fractional pixel width\n#else\n    #define TANGRAM_POSITION_Z a_position.z // vertex height\n#endif\n\nvarying vec4 v_position;\nvarying vec3 v_normal;\nvarying vec4 v_color;\nvarying vec4 v_world_position;\n\n// Optional texture UVs\n#if defined(TANGRAM_TEXTURE_COORDS) || defined(TANGRAM_EXTRUDE_LINES)\n    attribute vec2 a_texcoord;\n    varying vec2 v_texcoord;\n#endif\n\n// Optional model position varying for tile coordinate zoom\n#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING\n    varying vec4 v_modelpos_base_zoom;\n#endif\n\n#if defined(TANGRAM_LIGHTING_VERTEX)\n    varying vec4 v_lighting;\n#endif\n\n#define TANGRAM_UNPACK_SCALING(x) (x / 1024.)\n\n#pragma tangram: camera\n#pragma tangram: material\n#pragma tangram: lighting\n#pragma tangram: raster\n#pragma tangram: global\n\nvoid main() {\n    // Initialize globals\n    #pragma tangram: setup\n\n    // Texture UVs\n    #ifdef TANGRAM_TEXTURE_COORDS\n        v_texcoord = a_texcoord;\n        #ifdef TANGRAM_EXTRUDE_LINES\n            v_texcoord.y *= u_v_scale_adjust;\n        #endif\n    #endif\n\n    // Pass model position to fragment shader\n    #ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING\n        v_modelpos_base_zoom = modelPositionBaseZoom();\n    #endif\n\n    // Position\n    vec4 position = vec4(a_position.xy, TANGRAM_POSITION_Z / TANGRAM_HEIGHT_SCALE, 1.); // convert height back to meters\n\n    #ifdef TANGRAM_EXTRUDE_LINES\n        vec2 _extrude = a_extrude.xy;\n        vec2 _offset = a_offset.xy;\n\n        // Adjust line width based on zoom level, to prevent proxied lines\n        // from being either too small or too big.\n        // "Flattens" the zoom between 1-2 to peg it to 1 (keeps lines from\n        // prematurely shrinking), then interpolate and clamp to 4 (keeps lines\n        // from becoming too small when far away).\n        float _dz = clamp(u_map_position.z - u_tile_origin.z, 0., 4.);\n        _dz += step(1., _dz) * (1. - _dz) + mix(0., 2., clamp((_dz - 2.) / 2., 0., 1.));\n\n        // Interpolate line width between zooms\n        float _mdz = (_dz - 0.5) * 2.; // zoom from mid-point\n        _extrude -= _extrude * TANGRAM_UNPACK_SCALING(TANGRAM_WIDTH_SCALING) * _mdz;\n\n        // Interpolate line offset between zooms\n        // Scales from the larger value to the smaller one\n        float _dwdz = TANGRAM_UNPACK_SCALING(TANGRAM_OFFSET_SCALING);\n        float _sdwdz = sign(step(0., _dwdz) - 0.5); // sign indicates "direction" of scaling\n        _offset -= _offset * abs(_dwdz) * ((1.-step(0., _sdwdz)) - (_dz * -_sdwdz)); // scale "up" or "down"\n\n        // Scale line width and offset to be consistent in screen space\n        float _ssz = exp2(-_dz - (u_tile_origin.z - u_tile_origin.w));\n        _extrude *= _ssz;\n        _offset *= _ssz;\n\n        // Modify line width before extrusion\n        #ifdef TANGRAM_BLOCK_WIDTH\n            float width = 1.;\n            #pragma tangram: width\n            _extrude *= width;\n        #endif\n\n        position.xy += _extrude + _offset;\n    #endif\n\n    // World coordinates for 3d procedural textures\n    v_world_position = wrapWorldPosition(u_model * position);\n\n    // Adjust for tile and view position\n    position = u_modelView * position;\n\n    // Modify position before camera projection\n    #pragma tangram: position\n\n    // Setup varyings\n    v_position = position;\n    v_normal = normalize(u_normalMatrix * TANGRAM_NORMAL);\n    v_color = a_color;\n\n    #if defined(TANGRAM_LIGHTING_VERTEX)\n        // Vertex lighting\n        vec3 normal = v_normal;\n\n        // Modify normal before lighting\n        #pragma tangram: normal\n\n        // Pass lighting intensity to fragment shader\n        v_lighting = calculateLighting(position.xyz - u_eye, normal, vec4(1.));\n    #endif\n\n    // Camera\n    cameraProjection(position);\n\n    // +1 is to keep all layers including proxies > 0\n    applyLayerOrder(a_position.w + u_tile_proxy_order_offset + 1., position);\n\n    gl_Position = position;\n}\n',ts="uniform vec2 u_resolution;\nuniform float u_time;\nuniform vec3 u_map_position;\nuniform vec4 u_tile_origin;\nuniform float u_meters_per_pixel;\nuniform float u_device_pixel_ratio;\n\nuniform mat3 u_normalMatrix;\nuniform mat3 u_inverseNormalMatrix;\n\nvarying vec4 v_position;\nvarying vec3 v_normal;\nvarying vec4 v_color;\nvarying vec4 v_world_position;\n\n#ifdef TANGRAM_EXTRUDE_LINES\n    uniform bool u_has_line_texture;\n    uniform sampler2D u_texture;\n    uniform float u_texture_ratio;\n    uniform vec4 u_dash_background_color;\n#endif\n\n#define TANGRAM_NORMAL v_normal\n\n#if defined(TANGRAM_TEXTURE_COORDS) || defined(TANGRAM_EXTRUDE_LINES)\n    varying vec2 v_texcoord;\n#endif\n\n#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING\n    varying vec4 v_modelpos_base_zoom;\n#endif\n\n#if defined(TANGRAM_LIGHTING_VERTEX)\n    varying vec4 v_lighting;\n#endif\n\n#pragma tangram: camera\n#pragma tangram: material\n#pragma tangram: lighting\n#pragma tangram: raster\n#pragma tangram: global\n\nvoid main (void) {\n    // Initialize globals\n    #pragma tangram: setup\n\n    vec4 color = v_color;\n    vec3 normal = TANGRAM_NORMAL;\n\n    // Apply raster to vertex color\n    #ifdef TANGRAM_RASTER_TEXTURE_COLOR\n        vec4 _raster_color = sampleRaster(0);\n\n        #if defined(TANGRAM_BLEND_OPAQUE) || defined(TANGRAM_BLEND_TRANSLUCENT) || defined(TANGRAM_BLEND_MULTIPLY)\n            // Raster sources can optionally mask by the alpha channel, which will render with only full or no alpha.\n            // This is used for handling transparency outside the raster image in some blend modes,\n            // which either don't support alpha, or would cause transparent pixels to write to the depth buffer,\n            // obscuring geometry underneath.\n            #ifdef TANGRAM_HAS_MASKED_RASTERS   // skip masking logic if no masked raster sources\n            #ifndef TANGRAM_ALL_MASKED_RASTERS  // skip conditional if *only* masked raster sources (always true)\n            if (u_raster_mask_alpha) {\n            #else\n            {\n            #endif\n                #if defined(TANGRAM_BLEND_TRANSLUCENT) || defined(TANGRAM_BLEND_MULTIPLY)\n                if (_raster_color.a < TANGRAM_EPSILON) {\n                    discard;\n                }\n                #else // TANGRAM_BLEND_OPAQUE\n                if (_raster_color.a < 1. - TANGRAM_EPSILON) {\n                    discard;\n                }\n                // only allow full alpha in opaque blend mode (avoids artifacts blending w/canvas tile background)\n                _raster_color.a = 1.;\n                #endif\n            }\n            #endif\n        #endif\n\n        color *= _raster_color; // multiplied to tint texture color\n    #endif\n\n    // Apply line texture\n    #ifdef TANGRAM_EXTRUDE_LINES\n    { // enclose in scope to avoid leakage of internal variables\n        if (u_has_line_texture) {\n            vec2 _line_st = vec2(v_texcoord.x, fract(v_texcoord.y / u_texture_ratio));\n            vec4 _line_color = texture2D(u_texture, _line_st);\n\n            if (_line_color.a < TANGRAM_ALPHA_TEST) {\n                #if defined(TANGRAM_BLEND_OPAQUE)\n                    // use discard when alpha blending is unavailable\n                    if (u_dash_background_color.a < 1. - TANGRAM_EPSILON) {\n                        discard;\n                    }\n                    color = vec4(u_dash_background_color.rgb, 1.); // only allow full alpha in opaque blend mode\n                #else\n                    // use alpha channel when blending is available\n                    color = vec4(u_dash_background_color.rgb, color.a * step(TANGRAM_EPSILON, u_dash_background_color.a));\n                #endif\n            }\n            else {\n                color *= _line_color;\n            }\n        }\n    }\n    #endif\n\n    // First, get normal from raster tile (if applicable)\n    #ifdef TANGRAM_RASTER_TEXTURE_NORMAL\n        normal = normalize(sampleRaster(0).rgb * 2. - 1.);\n    #endif\n\n    // Second, alter normal with normal map texture (if applicable)\n    #if defined(TANGRAM_LIGHTING_FRAGMENT) && defined(TANGRAM_MATERIAL_NORMAL_TEXTURE)\n        calculateNormal(normal);\n    #endif\n\n    // Normal modification applied here for fragment lighting or no lighting,\n    // and in vertex shader for vertex lighting\n    #if !defined(TANGRAM_LIGHTING_VERTEX)\n        #pragma tangram: normal\n    #endif\n\n    // Color modification before lighting is applied\n    #pragma tangram: color\n\n    #if defined(TANGRAM_LIGHTING_FRAGMENT)\n        // Calculate per-fragment lighting\n        color = calculateLighting(v_position.xyz - u_eye, normal, color);\n    #elif defined(TANGRAM_LIGHTING_VERTEX)\n        // Apply lighting intensity interpolated from vertex shader\n        color *= v_lighting;\n    #endif\n\n    // Post-processing effects (modify color after lighting)\n    #pragma tangram: filter\n\n    gl_FragColor = color;\n}\n",es=Object.create(fo);es.variants={},es.vertex_layouts={},Object.assign(es,{name:"polygons",built_in:!0,vertex_shader_src:Qo,fragment_shader_src:ts,selection:!0,init:function(){fo.init.apply(this,arguments),this.defines.TANGRAM_NORMAL_ATTRIBUTE=!0,this.defines.TANGRAM_TEXTURE_COORDS=this.texcoords},_parseFeature:function(t,e,n){var i=this.feature_style;return i.color=this.parseColor(e.color,n),i.color?(i.variant=e.variant,i.z=Ir.evalCachedDistanceProperty(e.z,n)||Ir.defaults.z,i.z*=or.height_scale,i.extrude=Ir.evalProperty(e.extrude,n),i.extrude&&(!0===i.extrude?(i.height=t.properties.height||Ir.defaults.height,i.min_height=t.properties.min_height||Ir.defaults.min_height):"number"==typeof i.extrude?(i.height=i.extrude,i.min_height=0):Array.isArray(i.extrude)&&(i.min_height=i.extrude[0],i.height=i.extrude[1]),i.height*=or.height_scale,i.min_height*=or.height_scale),i.tile_edges=e.tile_edges,i):null},_preprocess:function(t){return t.color=Ir.createColorPropertyCache(t.color),t.z=Ir.createPropertyCache(t.z,Ir.parseUnits),this.computeVariant(t),t},computeVariant:function(t){var e=t.interactive?1:0,n=null!=t.extrude?1:0,i=this.texcoords?1:0,r=this.getBlendOrderForDraw(t),o=[e,n,i,r].join("/");t.variant=o,null==es.variants[o]&&(es.variants[o]={key:o,blend_order:r,mesh_order:0,selection:e,normal:n,texcoords:i})},vertexLayoutForMeshVariant:function(t){if(null==es.vertex_layouts[t.key]){var e=[{name:"a_position",size:4,type:mo.SHORT,normalized:!1},{name:"a_normal",size:3,type:mo.BYTE,normalized:!0,static:t.normal?null:[0,0,1]},{name:"a_color",size:4,type:mo.UNSIGNED_BYTE,normalized:!0},{name:"a_selection_color",size:4,type:mo.UNSIGNED_BYTE,normalized:!0,static:t.selection?null:[0,0,0,0]},{name:"a_texcoord",size:2,type:mo.UNSIGNED_SHORT,normalized:!0,static:t.texcoords?null:[0,0]}];es.vertex_layouts[t.key]=new wo(e)}return es.vertex_layouts[t.key]},meshVariantTypeForDraw:function(t){return this.variants[t.variant]},makeVertexTemplate:function(t,e){var n=0;return this.vertex_template[n++]=0,this.vertex_template[n++]=0,this.vertex_template[n++]=t.z||0,this.vertex_template[n++]=this.scaleOrder(t.order),e.variant.normal&&(this.vertex_template[n++]=0,this.vertex_template[n++]=0,this.vertex_template[n++]=127),this.vertex_template[n++]=255*t.color[0],this.vertex_template[n++]=255*t.color[1],this.vertex_template[n++]=255*t.color[2],this.vertex_template[n++]=255*t.color[3],e.variant.selection&&(this.vertex_template[n++]=255*t.selection_color[0],this.vertex_template[n++]=255*t.selection_color[1],this.vertex_template[n++]=255*t.selection_color[2],this.vertex_template[n++]=255*t.selection_color[3]),e.variant.texcoords&&(this.vertex_template[n++]=0,this.vertex_template[n++]=0),this.vertex_template},buildPolygons:function(t,e,n){var i=this.getTileMesh(n.tile,this.meshVariantTypeForDraw(e)),r=i.vertex_data,o=r.vertex_layout,s=this.makeVertexTemplate(e,i),a={texcoord_index:o.index.a_texcoord,texcoord_normalize:65535,remove_tile_edges:!e.tile_edges,tile_edge_tolerance:or.tile_scale*n.tile.pad_scale*4,winding:n.winding};return e.extrude&&e.height?function(t,e,n,i,r,o,s,a,u){var l=u.remove_tile_edges,c=u.tile_edge_tolerance,h=u.texcoord_index,f=u.texcoord_scale,d=u.texcoord_normalize,p=u.winding,m=e+(i||0),_=e+n;o[2]=_;var v=Jo(t,r,o,{texcoord_index:h,texcoord_scale:f,texcoord_normalize:d}),g=r.vertex_elements,y=r.vertex_count;if(h){d=d||1;var b=f||Ao,x=b[0],w=b[1],T=b[2],A=b[3],E=[[x,A],[x,w],[T,w],[T,A]]}for(var S=t.length,k=0;k<S;k++)for(var C=t[k],O=0;O<C.length;O++)for(var L=C[O],P=0;P<L.length-1;P++)if(!l||!Eo(L[P],L[P+1],c)){var R=void 0,M=void 0;"CCW"===p?(R=P,M=P+1):(R=P+1,M=P);var I=[[L[M][0],L[M][1],_],[L[M][0],L[M][1],m],[L[R][0],L[R][1],m],[L[R][0],L[R][1],_]],N=Kr.normalize([L[M][0]-L[R][0],L[M][1]-L[R][1],0]),z=Kr.cross(Ko,N);o[s+0]=127*z[0],o[s+1]=127*z[1],o[s+2]=127*z[2];for(var D=0;D<I.length;D++)o[0]=I[D][0],o[1]=I[D][1],o[2]=I[D][2],h&&(o[h+0]=E[D][0]*d,o[h+1]=E[D][1]*d),r.addVertex(o);g.push(y+0),g.push(y+1),g.push(y+2),g.push(y+2),g.push(y+3),g.push(y+0),y+=4,v+=2}return v}(t,e.z,e.height,e.min_height,r,s,o.index.a_normal,0,a):Jo(t,r,s,a)}});var ns=/"/g,is=function(t,e,n,i){var r=String(L(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(i).replace(ns,"&quot;")+'"'),o+">"+r+"</"+e+">"},rs=function(t,e){var n={};n[t]=e(is),j(j.P+j.F*h(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)};rs("sub",function(t){return function(){return t(this,"sub","","")}});var os=[0,0],ss={butt:0,square:1,round:2},as={miter:0,bevel:1,round:2},us=5,ls=65535,cs=or.tile_scale,hs=[0,0],fs=[1,0],ds=[.5,0];function ps(t,e){if(!(t.length<2)){var n,i,r,o,s=e.join_type,a=e.cap_type,u=e.closed_polygon,l=e.remove_tile_edges,c=e.tile_edge_tolerance,h=e.v_scale,f=e.miter_len_sq,d=null!=e.texcoord_index,p=0;if(u&&s===as.miter){var m=function(t){if(So(t[0]))return 0;for(var e=0;e<t.length;e++){if(So(t[t.length-1-e]))return t.length-1-e}return 0}(t);if(0!==m){var _=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=(i+e)%t.length;0!==r&&n.push(t[r])}return n.push(n[0]),n}(t,m);return e.extra_lines=e.extra_lines||[],void e.extra_lines.push(_)}}var v=0,g=t.length-1,y=0;for(n=t[v],i=t[v+1];Kr.isEqual(n,i);)if(n=i,i=t[++v+1],y++,v===t.length-1)return;for(;Kr.isEqual(t[g],t[g-1]);)if(y++,0==--g)return;if(!(t.length<2+y))if(o=Kr.normalize(Kr.perp(n,i)),l&&Eo(n,i,c)){var b=ms(t,v,c);b&&(e.extra_lines=e.extra_lines||[],e.extra_lines.push(b))}else{u?function(t,e,n,i,r){void 0===i||So(t)?(bs(t,n,n,1,0,r,1),bs(t,n,n,0,0,r,-1)):i===as.miter?vs(0,t,e,n,r.miter_len_sq,!0,r):gs(i,0,t,e,n,!0,r)}(n,r=Kr.normalize(Kr.perp(t[g-1],n)),o,s,e):(So(n)||(Ts(n,p,o,a,!0,e),d&&a!==ss.butt&&(p+=.5*h*e.texcoord_width)),bs(n,o,o,1,p,e,1),bs(n,o,o,0,p,e,-1)),d&&(p+=h*Kr.length(Kr.sub(i,n)));for(var x=v+1;x<g;x++){var w=x,T=x+1;if(n=t[w],i=t[T],!Kr.isEqual(n,i)){if(l&&Eo(n,i,c)){bs(n,o,o,1,p,e,1),bs(n,o,o,0,p,e,-1),ys(1,e);var A=ms(t,w+1,c);return void(A&&(e.extra_lines=e.extra_lines||[],e.extra_lines.push(A)))}r=o,o=Kr.normalize(Kr.perp(n,i)),s===as.miter?vs(p,n,r,o,f,!1,e):gs(s,p,n,r,o,!1,e),d&&(p+=h*Kr.length(Kr.sub(i,n)))}}n=i,r=o,u?function(t,e,n,i,r,o){if(So(t))bs(t,e,e,1,r,o,1),bs(t,e,e,0,r,o,-1),ys(1,o);else{var s=_s(e,n);i===as.miter&&Kr.lengthSq(s)>o.miter_len_sq&&(i=as.bevel),i===as.miter?(bs(t,s,e,1,r,o,1),bs(t,s,e,0,r,o,-1),ys(1,o)):(bs(t,e,e,1,r,o,1),bs(t,e,e,0,r,o,-1),ys(1,o))}}(n,r,o=Kr.normalize(Kr.perp(n,t[1])),s,p,e):(bs(n,r,o,1,p,e,1),bs(n,r,o,0,p,e,-1),ys(1,e),So(n)||Ts(n,p,r,a,!1,e))}}}function ms(t,e,n){for(var i=e;t[i+1]&&Eo(t[i],t[i+1],n);)i++;return t.length-i>=2&&t.slice(i)}function _s(t,e){var n=Kr.normalize(Kr.add(t,e)),i=2/(1+Math.abs(Kr.dot(t,n)));return Kr.mult(n,i*i)}function vs(t,e,n,i,r,o,s){var a=_s(n,i);Kr.lengthSq(a)>r?gs(as.bevel,t,e,n,i,o,s):(bs(e,a,a,1,t,s,1),bs(e,a,a,0,t,s,-1),o||ys(1,s))}function gs(t,e,n,i,r,o,s){var a=_s(i,r),u=r[0]*i[1]-r[1]*i[0]>0;null!=s.texcoord_index&&(hs[1]=e,fs[1]=e),u?(bs(n,a,a,1,e,s,1),bs(n,i,a,0,e,s,-1),o||ys(1,s),ws(n,Kr.neg(i),a,Kr.neg(r),a,hs,fs,hs,!1,t===as.bevel,s),bs(n,a,a,1,e,s,1),bs(n,r,a,0,e,s,-1)):(bs(n,i,a,1,e,s,1),bs(n,a,a,0,e,s,-1),o||ys(1,s),ws(n,i,Kr.neg(a),r,a,fs,hs,fs,!1,t===as.bevel,s),bs(n,r,a,1,e,s,1),bs(n,a,a,0,e,s,-1))}function ys(t,e){for(var n=e.vertex_data.vertex_elements,i=e.vertex_data.vertex_count-2*t-2,r=0;r<t;r++)n.push(i+2*r+2),n.push(i+2*r+1),n.push(i+2*r+0),n.push(i+2*r+2),n.push(i+2*r+3),n.push(i+2*r+1),e.geom_count+=2}function bs(t,e,n,i,r,o,s){var a=o.vertex_template,u=o.vertex_data;a[0]=t[0],a[1]=t[1];var l=o.half_width*s;a[o.extrude_index+0]=e[0]*l,a[o.extrude_index+1]=e[1]*l,o.offset&&(a[o.offset_index+0]=n[0]*o.offset,a[o.offset_index+1]=n[1]*o.offset),null!=o.texcoord_index&&(a[o.texcoord_index+0]=i*ls,a[o.texcoord_index+1]=r*ls),u.addVertex(a)}var xs=[0,0];function ws(t,e,n,i,r,o,s,a,u,l,c){for(var h=e[0]*i[1]-e[1]*i[0],f=Kr.dot(e,i),d=Math.atan2(h,f);d>=Math.PI;)d-=2*Math.PI;if(l)p=1;else{var p=function(t,e){t<0&&(t=-t);var n=e>2*us?Math.log2(e/us):1;return Math.ceil(t/Math.PI*n)}(d,c.half_width);if(p<1)return}var m=c.vertex_data.vertex_count,_=c.vertex_data.vertex_elements;bs(t,n,r,s[0],s[1],c,1),bs(t,e,r,o[0],o[1],c,1);var v=e,g=null!=c.texcoord_index;if(g)if(u)var y=Kr.sub(o,s);else{xs=Kr.copy(o);var b=Kr.div(Kr.sub(a,o),p)}var x,w,T=d/p,A=d<0?-1:1;h>0?(x=2,w=1):(x=1,w=2);for(var E=0;E<p;E++)0===E&&d<0&&(v=Kr.neg(v)),v=Kr.rot(v,T),g&&(u?(y=Kr.rot(y,T),xs[0]=y[0]+s[0],xs[1]=y[1]*c.texcoord_width*c.v_scale+s[1]):xs=Kr.add(xs,b)),bs(t,v,r,xs[0],xs[1],c,A),_.push(m+E+x),_.push(m),_.push(m+E+w)}function Ts(t,e,n,i,r,o){var s=Kr.neg(n),a=null!=o.texcoord_index;switch(i){case ss.square:var u;r?(u=[n[1],-n[0]],bs(t,Kr.add(n,u),n,1,e,o,1),bs(t,Kr.add(s,u),n,0,e,o,1),a&&(e+=.5*o.texcoord_width*o.v_scale),bs(t,n,n,1,e,o,1),bs(t,s,n,0,e,o,1)):(u=[-n[1],n[0]],bs(t,n,n,1,e,o,1),bs(t,s,n,0,e,o,1),a&&(e+=.5*o.texcoord_width*o.v_scale),bs(t,Kr.add(n,u),n,1,e,o,1),bs(t,Kr.add(s,u),n,0,e,o,1)),ys(1,o);break;case ss.round:var l,c,h=hs,f=fs,d=ds;r?(l=n,c=s,a&&(e+=.5*o.texcoord_width*o.v_scale,h=fs,f=hs,d=ds)):(l=s,c=n),a&&(hs[1]=e,fs[1]=e,ds[1]=e),ws(t,l,os,c,n,h,d,f,!0,!1,o);break;case ss.butt:return}}var As=[255,255,255,255],Es=[0,0,0,0],Ss=Object.create(fo);Ss.variants={},Ss.vertex_layouts={},Object.assign(Ss,{name:"lines",built_in:!0,vertex_shader_src:Qo,fragment_shader_src:ts,selection:!0,init:function(){fo.init.apply(this,arguments),this.defines.TANGRAM_EXTRUDE_LINES=!0,this.defines.TANGRAM_TEXTURE_COORDS=!0,this.outline_feature_style={},this.inline_feature_style=this.feature_style,this.dash_textures={}},calcDistance:function(t,e){return Ir.evalCachedDistanceProperty(t,e)||0},calcDistanceNextZoom:function(t,e){e.zoom++;var n=this.calcDistance(t,e);return e.zoom--,n},calcWidth:function(t,e,n){var i=this.calcDistance(t.width,n);if(!(i<0)){var r;if(r=t.next_width?this.calcDistanceNextZoom(t.next_width,n):i/2,0===i&&0===r||r<0)return!1;if(e.width_unscaled=i,e.next_width_unscaled=r,t.next_width){var o=.5*(i+(r*=2));e.width=o*n.units_per_meter_overzoom,e.width_scale=1-r/o}else e.width=i*n.units_per_meter_overzoom,e.width_scale=0;return t.texcoords&&(t.inline_texcoord_width?e.texcoord_width=t.inline_texcoord_width:e.texcoord_width=(e.width_unscaled||e.next_width_unscaled)*n.units_per_meter_overzoom/n.tile.overzoom2),!0}},calcOffset:function(t,e,n){if(t.offset_precalc)e.offset=t.offset_precalc,e.offset_scale=t.offset_scale_precalc;else if(t.offset){var i=this.calcDistance(t.offset,n);if(t.next_offset){var r=2*this.calcDistanceNextZoom(t.next_offset,n);Math.abs(i)>=Math.abs(r)?(e.offset=i*n.units_per_meter_overzoom,e.offset_scale=0!==i?1-r/i:0):(e.offset=r*n.units_per_meter_overzoom,e.offset_scale=0!==r?-1*(1-i/r):0)}else e.offset=i*n.units_per_meter_overzoom,e.offset_scale=0}else e.offset=0,e.offset_scale=0},_parseFeature:function(t,e,n){var i=this.feature_style;if(!1!==this.calcWidth(e,i,n)&&(this.calcOffset(e,i,n),i.color=this.parseColor(e.color,n),i.color)){if(i.variant=e.variant,i.z=Ir.evalCachedDistanceProperty(e.z,n)||Ir.defaults.z,i.height=t.properties.height||Ir.defaults.height,i.extrude=Ir.evalProperty(e.extrude,n),i.extrude&&("number"==typeof i.extrude?i.height=i.extrude:Array.isArray(i.extrude)&&(i.height=i.extrude[1])),i.extrude&&i.height&&(i.z+=i.height),i.z*=or.height_scale,i.cap=e.cap,i.join=e.join,i.miter_limit=e.miter_limit,i.tile_edges=e.tile_edges,i.outline=i.outline||{width:{},next_width:{},preprocessed:!0},e.outline&&!1!==e.outline.visible&&e.outline.color&&e.outline.width){var r=2*this.calcDistance(e.outline.width,n),o=2*this.calcDistanceNextZoom(e.outline.next_width,n);0===r&&0===o||r<0||o<0?(i.outline.width.value=null,i.outline.next_width.value=null,i.outline.color=null,i.outline.inline_texcoord_width=null,i.outline.texcoords=!1):(i.outline.width.value=r+i.width_unscaled,i.outline.next_width.value=o+i.next_width_unscaled,i.outline.inline_texcoord_width=i.texcoord_width,i.outline.offset_precalc=i.offset,i.outline.offset_scale_precalc=i.offset_scale,i.outline.color=e.outline.color,i.outline.interactive=e.outline.interactive,i.outline.cap=e.outline.cap,i.outline.join=e.outline.join,i.outline.miter_limit=e.outline.miter_limit,i.outline.texcoords=e.outline.texcoords,i.outline.style=e.outline.style,i.outline.variant=e.outline.variant,e.outline.order?i.outline.order=this.parseOrder(e.outline.order,n):i.outline.order=i.order,i.outline.order>i.order&&(i.outline.order=i.order),i.outline.order-=.5)}else i.outline.width.value=null,i.outline.next_width.value=null,i.outline.color=null,i.outline.inline_texcoord_width=null;return i}},_preprocess:function(t){if(t.color=Ir.createColorPropertyCache(t.color),t.width=Ir.createPropertyCache(t.width,Ir.parseUnits),t.width&&t.width.type!==Ir.CACHE_TYPE.STATIC&&(t.next_width=Ir.createPropertyCache(t.width,Ir.parseUnits)),t.offset=t.offset&&Ir.createPropertyCache(t.offset,Ir.parseUnits),t.offset&&t.offset.type!==Ir.CACHE_TYPE.STATIC&&(t.next_offset=Ir.createPropertyCache(t.offset,Ir.parseUnits)),t.z=Ir.createPropertyCache(t.z,Ir.parseUnits),t.dash=void 0!==t.dash?t.dash:this.dash,t.dash_key=t.dash&&this.dashTextureKey(t.dash),t.dash_background_color=void 0!==t.dash_background_color?t.dash_background_color:this.dash_background_color,t.dash_background_color=t.dash_background_color&&Ir.parseColor(t.dash_background_color),t.texture_merged=t.dash_key||(void 0!==t.texture?t.texture:this.texture),t.texcoords=this.texcoords||t.texture_merged?1:0,this.computeVariant(t),t.outline){t.outline.is_outline=!0,t.outline.style=t.outline.style||this.name,t.outline.color=Ir.createColorPropertyCache(t.outline.color),t.outline.width=Ir.createPropertyCache(t.outline.width,Ir.parseUnits),t.outline.next_width=Ir.createPropertyCache(t.outline.width,Ir.parseUnits),t.outline.interactive=null!=t.outline.interactive?t.outline.interactive:t.interactive,t.outline.cap=t.outline.cap||t.cap,t.outline.join=t.outline.join||t.join,t.outline.miter_limit=null!=t.outline.miter_limit?t.outline.miter_limit:t.miter_limit,t.outline.offset=t.offset;var e=this.styles[t.outline.style];e?(t.outline.dash=void 0!==t.outline.dash?t.outline.dash:e.dash,t.outline.texture=void 0!==t.outline.texture?t.outline.texture:e.texture,null!=t.outline.dash?(t.outline.dash_key=t.outline.dash&&this.dashTextureKey(t.outline.dash),t.outline.texture_merged=t.outline.dash_key):null===t.outline.dash?(t.outline.dash_key=null,t.outline.texture_merged=t.outline.texture):null!=t.outline.texture?(t.outline.dash_key=null,t.outline.texture_merged=t.outline.texture):(t.outline.dash=t.dash,t.outline.dash_key=t.outline.dash&&this.dashTextureKey(t.outline.dash),t.outline.texture_merged=t.outline.dash_key),t.outline.dash_background_color=void 0!==t.outline.dash_background_color?t.outline.dash_background_color:e.dash_background_color,t.outline.dash_background_color=void 0!==t.outline.dash_background_color?t.outline.dash_background_color:t.dash_background_color,t.outline.dash_background_color=t.outline.dash_background_color&&Ir.parseColor(t.outline.dash_background_color),t.outline.texcoords=e.texcoords||t.outline.texture_merged?1:0,void 0===t.outline.blend_order&&null!=t.blend_order&&(t.outline.blend_order=t.blend_order),this.computeVariant(t.outline,e)):(Kn({level:"warn",once:!0},"Layer group '"+t.layers.join(", ")+"': line 'outline' specifies non-existent draw style '"+t.outline.style+"' (or maybe the style is defined but is missing a 'base' or has another error), skipping outlines for features matching this layer group"),t.outline=null)}return t},dashTextureKey:function(t){return"__dash_"+JSON.stringify(t)},getDashTexture:function(t){var e=this.dashTextureKey(t);if(null==this.dash_textures[e]){this.dash_textures[e]=!0;var n=function(t,e){void 0===e&&(e={});var n=e.dash_color||As,i=e.background_color||Es,r=t,o=e.scale||1;r.length%2==1&&Array.prototype.push.apply(r,r);for(var s=!0,a=[],u=0;u<r.length;u++){for(var l=Math.floor(r[u]*o),c=0;c<l;c++)Array.prototype.push.apply(a,s?n:i);s=!s}return a.reverse(),{pixels:a=new Uint8Array(a),length:a.length/4}}(t,{scale:20});Ui.create(this.gl,e,{data:n.pixels,height:n.length,width:1,filtering:"nearest"})}},endData:function(t){return new Promise(function(e,n){var i,r,o,s;return i=this,Promise.resolve(fo.endData.call(this,t)).then(function(t){try{if(r=t){r.uniforms.u_has_line_texture=!1,r.uniforms.u_texture=Ui.default,r.uniforms.u_v_scale_adjust=or.tile_scale,o=[],s=function(t){return new Promise(function(e,n){var s,a,u;if((s=r.meshes[t].variant).texture){if((a=r.meshes[t].uniforms=r.meshes[t].uniforms||{}).u_has_line_texture=!0,a.u_texture=s.texture,a.u_texture_ratio=1,s.dash&&(a.u_v_scale_adjust=20*or.tile_scale,a.u_dash_background_color=s.dash_background_color||[0,0,0,0]),s.dash_key&&null==i.dash_textures[s.dash_key]){i.dash_textures[s.dash_key]=!0;var l=function(){try{return h.call(this)}catch(t){return n(t)}}.bind(this),c=function(t){try{return Kn("trace",i.name+": line dash texture create failed because style no longer on main thread"),l()}catch(t){return n(t)}};try{return Promise.resolve($n.postMessage(i.main_thread_target+".getDashTexture",s.dash)).then(function(t){try{return l()}catch(t){return c()}},c)}catch(t){c()}}function h(){return null==Ui.textures[s.texture]?o.push(Ui.syncTexturesToWorker([s.texture]).then(function(t){var e=t[s.texture];e&&(a.u_texture_ratio=e.height/e.width)})):(u=Ui.textures[s.texture],a.u_texture_ratio=u.height/u.width),f.call(this)}return h.call(this)}function f(){return e()}return f.call(this)})};var a,u,l,c=[];for(a in r.meshes)c.push(a);function h(){return c.length?(u=c.shift(),Promise.resolve(s(u)).then(function(t){try{return h}catch(t){return n(t)}},n)):[1]}return(l=function(t){for(;t;){if(t.then)return void t.then(l,n);try{if(t.pop){if(t.length)return t.pop()?f.call(this):t;t=h}else t=t.call(this)}catch(t){return n(t)}}}.bind(this))(h);function f(){return Promise.resolve(Promise.all(o)).then(function(t){try{return d.call(this)}catch(t){return n(t)}}.bind(this),n)}}function d(){return e(r)}return d.call(this)}catch(t){return n(t)}}.bind(this),n)}.bind(this))},computeVariant:function(t,e){void 0===e&&(e=this);var n=t.offset?1:0;n+="/"+t.texcoords,n+="/"+(t.interactive?1:0),n+="/"+(t.extrude||t.z?1:0),n+="/"+t.is_outline,t.dash_key&&(n+=t.dash_key,t.dash_background_color&&(n+=t.dash_background_color)),t.texture_merged&&(n+=t.texture_merged);var i=e.getBlendOrderForDraw(t);n=Zi(n+="/"+i),t.variant=n,null==Ss.variants[n]&&(Ss.variants[n]={key:n,blend_order:i,mesh_order:t.is_outline?0:1,selection:t.interactive?1:0,offset:t.offset?1:0,z_or_offset:t.offset||t.extrude||t.z?1:0,texcoords:t.texcoords,texture:t.texture_merged,dash:t.dash,dash_key:t.dash_key,dash_background_color:t.dash_background_color})},vertexLayoutForMeshVariant:function(t){if(null==Ss.vertex_layouts[t.key]){var e=[{name:"a_position",size:4,type:mo.SHORT,normalized:!1},{name:"a_extrude",size:2,type:mo.SHORT,normalized:!1},{name:"a_offset",size:2,type:mo.SHORT,normalized:!1,static:t.offset?null:[0,0]},{name:"a_z_and_offset_scale",size:2,type:mo.SHORT,normalized:!1,static:t.z_or_offset?null:[0,0]},{name:"a_texcoord",size:2,type:mo.UNSIGNED_SHORT,normalized:!0,static:t.texcoords?null:[0,0]},{name:"a_color",size:4,type:mo.UNSIGNED_BYTE,normalized:!0},{name:"a_selection_color",size:4,type:mo.UNSIGNED_BYTE,normalized:!0,static:t.selection?null:[0,0,0,0]}];Ss.vertex_layouts[t.key]=new wo(e)}return Ss.vertex_layouts[t.key]},meshVariantTypeForDraw:function(t){return Ss.variants[t.variant]},makeVertexTemplate:function(t,e){var n=0;return this.vertex_template[n++]=0,this.vertex_template[n++]=0,this.vertex_template[n++]=1024*t.width_scale,this.vertex_template[n++]=this.scaleOrder(t.order),this.vertex_template[n++]=0,this.vertex_template[n++]=0,e.variant.offset&&(this.vertex_template[n++]=0,this.vertex_template[n++]=0),e.variant.z_or_offset&&(this.vertex_template[n++]=t.z||0,this.vertex_template[n++]=1024*t.offset_scale),e.variant.texcoords&&(this.vertex_template[n++]=0,this.vertex_template[n++]=0),this.vertex_template[n++]=255*t.color[0],this.vertex_template[n++]=255*t.color[1],this.vertex_template[n++]=255*t.color[2],this.vertex_template[n++]=255*t.color[3],e.variant.selection&&(this.vertex_template[n++]=255*t.selection_color[0],this.vertex_template[n++]=255*t.selection_color[1],this.vertex_template[n++]=255*t.selection_color[2],this.vertex_template[n++]=255*t.selection_color[3]),this.vertex_template},buildLines:function(t,e,n,i){if(this.feature_style=this.outline_feature_style,e.outline&&null!=e.outline.color&&null!=e.outline.width.value){var r=this.styles[e.outline.style];r&&r.addFeature(n.feature,e.outline,n)}this.feature_style=this.inline_feature_style;var o=this.getTileMesh(n.tile,this.meshVariantTypeForDraw(e)),s=o.vertex_data,a=s.vertex_layout;return function(t,e,n,i,r,o,s,a){var u,l=e.cap?ss[e.cap]:ss.butt,c=e.join?as[e.join]:as.miter;if(c===as.miter)var h=e.miter_limit||3,f=h*h;r.a_texcoord&&(u=1/(e.texcoord_width*cs));for(var d={closed_polygon:o,remove_tile_edges:s,tile_edge_tolerance:a,miter_len_sq:f,join_type:c,cap_type:l,vertex_data:n,vertex_template:i,half_width:e.width/2,extrude_index:r.a_extrude,offset_index:r.a_offset,v_scale:u,texcoord_index:r.a_texcoord,texcoord_width:e.texcoord_width,offset:e.offset,geom_count:0},p=0;p<t.length;p++)ps(t[p],d);if(d.extra_lines)for(var m=0;m<d.extra_lines.length;m++)ps(d.extra_lines[m],d);return d.geom_count}(t,e,s,this.makeVertexTemplate(e,o),a.index,i&&i.closed_polygon,!e.tile_edges&&i&&i.remove_tile_edges,or.tile_scale*n.tile.pad_scale*2)},buildPolygons:function(t,e,n){for(var i=0,r=0;r<t.length;r++)i+=this.buildLines(t[r],e,n,{closed_polygon:!0,remove_tile_edges:!0});return i}}),j(j.P+j.F*h(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=ft(this),n=v(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}}),rs("anchor",function(t){return function(e){return t(this,"a","name",e)}});var ks=128/Math.PI,Cs=16384/Math.PI,Os=[0,2,2,0],Ls=[1,1,3,3],Ps=new Array(4),Rs=["left","top-left","bottom-left"],Ms=["right","top-right","bottom-right"],Is=["top","top-left","top-right"],Ns=["bottom","bottom-left","bottom-right"],zs={computeOffset:function(t,e,n,i){if(void 0===i&&(i=null),!n||"center"===n)return t;var r=[t[0],t[1]];return i=i||this.default_buffer,this.isLeftAnchor(n)?(r[0]-=e[0]/2,"left"===n&&(r[0]-=i[0])):this.isRightAnchor(n)&&(r[0]+=e[0]/2,"right"===n&&(r[0]+=i[1])),this.isTopAnchor(n)?(r[1]-=e[1]/2,"top"===n&&(r[1]-=i[2])):this.isBottomAnchor(n)&&(r[1]+=e[1]/2,"bottom"===n&&(r[1]+=i[3])),r},alignForAnchor:function(t){if(t&&"center"!==t){if(this.isLeftAnchor(t))return"right";if(this.isRightAnchor(t))return"left"}return"center"},isLeftAnchor:function(t){return Rs.indexOf(t)>-1},isRightAnchor:function(t){return Ms.indexOf(t)>-1},isTopAnchor:function(t){return Is.indexOf(t)>-1},isBottomAnchor:function(t){return Ns.indexOf(t)>-1},default_buffer:[2.5,2.5,1.5,.75],zero_buffer:[0,0,0,0]};function Ds(t,e){return!(t[2]<e[0]||t[0]>e[2]||t[3]<e[1]||t[1]>e[3])}var js,Fs,Bs,Us,Hs=[[1,0],[0,1]],$s=[],Ws=[],Gs=function(){function t(t,e,n,i,r){this.dimension=[i/2,r/2],this.angle=n,this.centroid=[t,e],this.quad=null,this.axis_0=null,this.axis_1=null,this.update()}var e=t.prototype;return e.toJSON=function(){return{x:this.centroid[0],y:this.centroid[1],a:this.angle,w:this.dimension[0],h:this.dimension[1]}},e.getExtent=function(){return 0===this.angle?[this.quad[0],this.quad[1],this.quad[4],this.quad[5]]:[Math.min(this.quad[0],this.quad[2],this.quad[4],this.quad[6]),Math.min(this.quad[1],this.quad[3],this.quad[5],this.quad[7]),Math.max(this.quad[0],this.quad[2],this.quad[4],this.quad[6]),Math.max(this.quad[1],this.quad[3],this.quad[5],this.quad[7])]},e.updateAxes=function(){this.axis_0=Kr.normalize([this.quad[4]-this.quad[6],this.quad[5]-this.quad[7]]),this.axis_1=Kr.normalize([this.quad[4]-this.quad[2],this.quad[5]-this.quad[3]])},e.update=function(){var t=this.centroid,e=this.dimension[0],n=this.dimension[1];if(0===this.angle)this.quad=[t[0]-e,t[1]-n,t[0]+e,t[1]-n,t[0]+e,t[1]+n,t[0]-e,t[1]+n],this.axis_0=Hs[0],this.axis_1=Hs[1];else{var i=Math.cos(this.angle)*e,r=Math.sin(this.angle)*e,o=-Math.sin(this.angle)*n,s=Math.cos(this.angle)*n;this.quad=[t[0]-i-o,t[1]-r-s,t[0]+i-o,t[1]+r-s,t[0]+i+o,t[1]+r+s,t[0]-i+o,t[1]-r+s],this.updateAxes()}},t.projectToAxis=function(t,e,n){var i=t.quad;return js=i[0]*e[0]+i[1]*e[1],Fs=i[2]*e[0]+i[3]*e[1],Bs=i[4]*e[0]+i[5]*e[1],Us=i[6]*e[0]+i[7]*e[1],n[0]=Math.min(js,Fs,Bs,Us),n[1]=Math.max(js,Fs,Bs,Us),n},t.axisCollide=function(e,n,i,r){return t.projectToAxis(e,i,$s),t.projectToAxis(n,i,Ws),!(Ws[0]>$s[1]||Ws[1]<$s[0]||(t.projectToAxis(e,r,$s),t.projectToAxis(n,r,Ws),Ws[0]>$s[1]||Ws[1]<$s[0]))},t.intersect=function(e,n){return t.axisCollide(e,n,e.axis_0,e.axis_1)&&t.axisCollide(e,n,n.axis_0,n.axis_1)},t}(),qs=function(){function t(e,n){void 0===n&&(n={}),this.id=t.nextLabelId(),this.type="",this.size=e,this.layout=n,this.position=null,this.angle=0,this.anchor=Array.isArray(this.layout.anchor)?this.layout.anchor[0]:this.layout.anchor,this.placed=null,this.offset=n.offset,this.unit_scale=this.layout.units_per_pixel,this.aabb=null,this.obb=null,this.align="center",this.throw_away=!1}var e=t.prototype;return e.toJSON=function(){return{id:this.id,type:this.type,obb:this.obb.toJSON(),position:this.position,angle:this.angle,size:this.size,offset:this.offset,breach:this.breach,may_repeat_across_tiles:this.may_repeat_across_tiles,layout:Vs(this.layout)}},e.update=function(){this.align=this.layout.align||zs.alignForAnchor(this.anchor)},e.occluded=function(t,e){var n=this;void 0===e&&(e=null);var i=!1,r=t.aabb,o=t.obb;return r.length>0&&function(t,e,n){for(var i=0;i<e.length&&(!Ds(t,e[i])||null==n(i));i++);}(this.aabb,r,function(t){if(!e||r[t]!==e.aabb)return 0===n.obb.angle&&0===o[t].angle?(i=!0,!0):Gs.intersect(n.obb,o[t])?(i=!0,!0):void 0}),i},e.inTileBounds=function(){return this.aabb[0]>=0&&this.aabb[1]>-or.tile_scale&&this.aabb[0]<or.tile_scale&&this.aabb[1]<=0||this.aabb[2]>=0&&this.aabb[3]>-or.tile_scale&&this.aabb[2]<or.tile_scale&&this.aabb[3]<=0},e.mayRepeatAcrossTiles=function(){if(this.layout.collide)return!0;var t=this.layout.repeat_distance;return 0!==t&&(Math.abs(this.position[0])<t||Math.abs(this.position[0]-or.tile_scale)<t||Math.abs(this.position[1])<t||Math.abs(-(this.position[1]-or.tile_scale))<t)},e.discard=function(t,e){return void 0===e&&(e=null),!!this.throw_away||this.occluded(t,e)},t}();function Vs(t){return{priority:t.priority,collide:t.collide,repeat_distance:t.repeat_distance,repeat_group:t.repeat_group,buffer:t.buffer,italic:t.italic}}qs.add=function(t,e){if(t.placed=!0,t.aabb&&(e.aabb.push(t.aabb),e.obb.push(t.obb)),t.aabbs)for(var n=0;n<t.aabbs.length;n++)e.aabb.push(t.aabbs[n]),e.obb.push(t.obbs[n])},qs.id=0,qs.id_prefix=0,qs.id_multiplier=0,qs.nextLabelId=function(){return qs.id_prefix+qs.id++*qs.id_multiplier},qs.epsilon=.9999;var Zs=function(){function t(t,e){this.key=t,this.repeat_dist=e,this.repeat_dist_sq=this.repeat_dist*this.repeat_dist,this.positions=[]}var e=t.prototype;return e.check=function(t){for(var e=t.position,n=0;n<this.positions.length;n++){var i=this.positions[n],r=e[0]-i[0],o=e[1]-i[1];if(r*r+o*o<this.repeat_dist_sq)return!0}},e.add=function(t){t&&t.position&&this.positions.push(t.position)},t.clear=function(t){this.groups[t]={}},t.check=function(t,e,n){if(e.repeat_distance&&e.repeat_group&&this.groups[n][e.repeat_group])return this.groups[n][e.repeat_group].check(t)},t.add=function(e,n,i){n.repeat_distance&&n.repeat_group&&(null==this.groups[i][n.repeat_group]&&(this.groups[i][n.repeat_group]=new t(n.repeat_group,n.repeat_distance*n.repeat_scale)),this.groups[i][n.repeat_group].add(e))},t}();Zs.groups={};var Xs={tiles:{},startTile:function(t,e){var n=void 0===e?{}:e,i=n.apply_repeat_groups,r=void 0===i||i,o=n.return_hidden,s=void 0!==o&&o,a=this.tiles[t]={bboxes:{aabb:[],obb:[]},objects:{},labels:{},styles:{},repeat:r,return_hidden:s};null==a.complete&&(a.complete=new Promise(function(t,e){a.resolve=t,a.reject=e}))},resetTile:function(t){delete this.tiles[t]},abortTile:function(t){this.tiles[t]&&this.tiles[t].resolve&&this.tiles[t].resolve([]),this.resetTile(t)},addStyle:function(t,e){this.tiles[e].styles[t]=!0},collide:function(t,e,n){var i=this.tiles[n];if(!i)return Kn("trace","Collision.collide() called with null tile",n,this.tiles,e,t),Promise.resolve([]);for(var r=i.objects,o=0;o<t.length;o++){var s=t[o],a=s.label.layout.priority;r[a]=r[a]||{},r[a][e]=r[a][e]||[],r[a][e].push(s)}return delete i.styles[e],0===Object.keys(i.styles).length&&this.endTile(n),i.complete.then(function(){return i.resolve=null,i.labels[e]||[]})},endTile:function(t){var e=this.tiles[t],n=e.labels;e.repeat&&Zs.clear(t);for(var i=Object.keys(e.objects).sort(function(t,e){return t-e}),r=0;r<i.length;r++){var o=e.objects[i[r]];if(o)for(var s in o){var a=o[s];n[s]=n[s]||[];for(var u=0;u<a.length;u++){var l=a[u];this.canBePlaced(l,t,l.linked,e)?l.linked?this.canBePlaced(l.linked,t,l,e)?(l.show=!0,(l.label.breach||l.linked.label.breach)&&(l.label.breach=!0,l.linked.label.breach=!0),(l.label.may_repeat_across_tiles||l.linked.label.may_repeat_across_tiles)&&(l.label.may_repeat_across_tiles=!0,l.linked.label.may_repeat_across_tiles=!0),n[s].push(l),this.place(l,t,e),this.place(l.linked,t,e)):e.return_hidden&&(l.show=!1,n[s].push(l)):(l.show=!0,n[s].push(l),this.place(l,t,e)):e.return_hidden&&(l.show=!1,n[s].push(l))}}}delete this.tiles[t],e.resolve()},canBePlaced:function(t,e,n,i){void 0===n&&(n=null);var r=(void 0===i?{}:i).repeat,o=void 0===r||r,s=t.label,a=t.label.layout;if(null!=s.placed)return s.placed;var u=this.tiles[e].bboxes;if(a.collide&&s.discard(u,n&&n.label))a.collide&&(s.placed=!1);else{if(!o||!Zs.check(s,a,e))return!0;s.placed=!1}return s.placed},place:function(t,e,n){var i=t.label,r=n.repeat,o=void 0===r||r;null==i.placed&&(o&&Zs.add(i,i.layout,e),qs.add(i,this.tiles[e].bboxes))}},Ys=function(t){function e(e,n,i,r){var o;return void 0===r&&(r=0),(o=t.call(this,n,i)||this).type="point",o.position=[e[0],e[1]],o.angle=r,o.parent=o.layout.parent,o.update(),o.start_anchor_index=1,o.degenerate=!(o.size[0]||o.size[1]||o.layout.buffer[0]||o.layout.buffer[1]),o.throw_away=!1,o}Pn(e,t);var n=e.prototype;return n.update=function(){t.prototype.update.call(this),this.computeOffset(),this.updateBBoxes()},n.computeOffset=function(){if(this.offset=[this.layout.offset[0],this.layout.offset[1]],this.parent){var t=this.parent;this.offset=zs.computeOffset(this.offset,t.size,t.anchor,zs.zero_buffer),this.offset=zs.computeOffset(this.offset,t.size,this.anchor,zs.zero_buffer),t.offset!==Ir.zeroPair&&(this.offset===Ir.zeroPair?this.offset=t.offset:(this.offset[0]+=t.offset[0],this.offset[1]+=t.offset[1]))}this.offset=zs.computeOffset(this.offset,this.size,this.anchor)},n.updateBBoxes=function(){var t=(this.size[0]+2*this.layout.buffer[0])*this.unit_scale*qs.epsilon,e=(this.size[1]+2*this.layout.buffer[1])*this.unit_scale*qs.epsilon;this.layout.italic&&(t+=5*this.unit_scale),this.obb=new Gs(this.position[0]+this.offset[0]*this.unit_scale,this.position[1]-this.offset[1]*this.unit_scale,-this.angle,t,e),this.aabb=this.obb.getExtent(),this.inTileBounds&&(this.breach=!this.inTileBounds()),this.mayRepeatAcrossTiles&&(this.may_repeat_across_tiles=this.mayRepeatAcrossTiles())},n.discard=function(e,n){if(void 0===n&&(n=null),this.degenerate)return!1;if(t.prototype.discard.call(this,e,n)){if(Array.isArray(this.layout.anchor))for(var i=this.start_anchor_index;i<this.layout.anchor.length;i++)if(this.anchor=this.layout.anchor[i],this.update(),!t.prototype.discard.call(this,e,n))return!1;return!0}return!1},e}(qs);Ys.PLACEMENT={VERTEX:0,MIDPOINT:1,SPACED:2,CENTROID:3};var Ks=Ys.PLACEMENT,Js=80;function Qs(t,e,n){var i=[],r=n.placement,o=Math.max(e[0],e[1])*n.placement_min_length_ratio*n.units_per_pixel;if(r===Ks.SPACED){var s=function(t,e,n){var i=n.units_per_pixel,r=(n.placement_spacing||Js)*i,o=function(t){for(var e=0,n=0;n<t.length-1;n++)e+=ea(t[n],t[n+1]);return e}(t);if(o<=e)return!1;for(var s=Math.max(Math.floor(o/r),1),a=[],u=[],l=.5*(o-(s-1)*r),c=0;c<s;c++){var h=na(t,l,e,n),f=h.position,d=h.angle;null!=f&&null!=d&&(a.push(f),u.push(d)),l+=r}return{positions:a,angles:u}}(t,o,n);if(!s)return[];for(var a=s.positions,u=s.angles,l=0;l<a.length;l++){var c=a[l],h=u[l];!0!==n.tile_edges&&So(c)||i.push(new Ys(c,e,n,h))}}else if(r===Ks.VERTEX){for(var f,d,p=0;p<t.length-1;p++)if(f=t[p],d=t[p+1],!0===n.tile_edges||!So(f)){var m=ta(f,d,n.angle);i.push(new Ys(f,e,n,m))}var _=ta(f,d,n.angle);i.push(new Ys(d,e,n,_))}else if(r===Ks.MIDPOINT)for(var v=0;v<t.length-1;v++){var g=t[v],y=t[v+1],b=[.5*(g[0]+y[0]),.5*(g[1]+y[1])];if((!0===n.tile_edges||!So(b))&&(!o||ea(g,y)>o)){var x=ta(g,y,n.angle);i.push(new Ys(b,e,n,x))}}return i}function ta(t,e,n){return void 0===n&&(n=0),"auto"===n?Math.atan2(e[0]-t[0],e[1]-t[1]):n}function ea(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function na(t,e,n,i){for(var r,o,s=0,a=0;a<t.length-1;a++){var u=t[a],l=t[a+1],c=ea(u,l);if(!(c<=n)&&(s+=c)>e){r=ia(u,l,s-e),o=ta(u,l,i.angle);break}}return{position:r,angle:o}}function ia(t,e,n){var i=n/ea(t,e);return[i*t[0]+(1-i)*e[0],i*t[1]+(1-i)*e[1]]}var ra={key:function(t){return[t.style,t.weight,t.family,t.px_size,t.fill,t.stroke,t.stroke_width,t.transform,t.text_wrap,t.max_lines,t.supersample,ei.device_pixel_ratio].join("/")},defaults:{style:"normal",weight:null,size:"12px",px_size:12,family:"Helvetica",fill:"white",text_wrap:15,max_lines:5,align:"center",stroke:null,stroke_width:0},compute:function(t,e,n){var i={};e.font=e.font||this.defaults,i.can_articulate=e.can_articulate,i.fill=e.font.fill&&ei.toCSSColor(Ir.evalCachedColorProperty(e.font.fill,n))||this.defaults.fill,i.style=e.font.style||this.defaults.style,i.weight=e.font.weight||this.defaults.weight,e.font.family?(i.family=e.font.family,i.family!==this.defaults.family&&(i.family+=", "+this.defaults.family)):i.family=this.defaults.family,i.transform=e.font.transform,i.supersample=e.supersample_text?1.5:1,i.px_size=Ir.evalCachedProperty(e.font.px_size,n)*i.supersample,e.font.stroke&&e.font.stroke.color&&(i.stroke=ei.toCSSColor(Ir.evalCachedColorProperty(e.font.stroke.color,n)||this.defaults.stroke),i.stroke_width=Ir.evalCachedProperty(e.font.stroke.width,n)||this.defaults.stroke_width),i.font_css=this.fontCSS(i);var r=e.text_wrap;return null==r&&"line"!==or.geometryType(t.geometry.type)&&(r=!0),!0===r&&(r=this.defaults.text_wrap),i.text_wrap=r,i.max_lines=e.max_lines||this.defaults.max_lines,i},fontCSS:function(t){return[t.style,t.weight,t.px_size+"px",t.family].filter(function(t){return t}).join(" ")}},oa=e(function(t){!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function n(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+e+";"}function r(t){var e=t.a.offsetWidth,n=e+100;return t.f.style.width=n+"px",t.c.scrollLeft=n,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function o(t,n){function i(){var t=o;r(t)&&t.a.parentNode&&n(t.g)}var o=t;e(t.b,i),e(t.c,i),r(t)}function s(t,e){var n=e||{};this.family=t,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var a=null,u=null,l=null,c=null;function h(){if(null===l){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}l=""!==t.style.font}return l}function f(t,e){return[t.style,t.weight,h()?t.stretch:"","100px",e].join(" ")}s.prototype.load=function(t,e){var r=this,s=t||"BESbswy",l=0,h=e||3e3,d=(new Date).getTime();return new Promise(function(t,e){var p;if(null===c&&(c=!!document.fonts),(p=c)&&(null===u&&(u=/OS X.*Version\/10\..*Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),p=!u),p){p=new Promise(function(t,e){!function n(){(new Date).getTime()-d>=h?e():document.fonts.load(f(r,'"'+r.family+'"'),s).then(function(e){1<=e.length?t():setTimeout(n,25)},function(){e()})}()});var m=new Promise(function(t,e){l=setTimeout(e,h)});Promise.race([m,p]).then(function(){clearTimeout(l),t(r)},function(){e(r)})}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}(function(){function u(){var e;(e=-1!=_&&-1!=v||-1!=_&&-1!=g||-1!=v&&-1!=g)&&((e=_!=v&&_!=g&&v!=g)||(null===a&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=a&&(_==y&&v==y&&g==y||_==b&&v==b&&g==b||_==x&&v==x&&g==x)),e=!e),e&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(l),t(r))}var c=new n(s),p=new n(s),m=new n(s),_=-1,v=-1,g=-1,y=-1,b=-1,x=-1,w=document.createElement("div");w.dir="ltr",i(c,f(r,"sans-serif")),i(p,f(r,"serif")),i(m,f(r,"monospace")),w.appendChild(c.a),w.appendChild(p.a),w.appendChild(m.a),document.body.appendChild(w),y=c.a.offsetWidth,b=p.a.offsetWidth,x=m.a.offsetWidth,function t(){if((new Date).getTime()-d>=h)w.parentNode&&w.parentNode.removeChild(w),e(r);else{var n=document.hidden;!0!==n&&void 0!==n||(_=c.a.offsetWidth,v=p.a.offsetWidth,g=m.a.offsetWidth,u()),l=setTimeout(t,50)}}(),o(c,function(t){_=t,u()}),i(c,f(r,'"'+r.family+'",sans-serif')),o(p,function(t){v=t,u()}),i(p,f(r,'"'+r.family+'",serif')),o(m,function(t){g=t,u()}),i(m,f(r,'"'+r.family+'",monospace'))})})},t.exports=s}()}),sa={fonts_loaded:Promise.resolve(),last_loaded:null,loadFonts:function(t){var e=this,n=JSON.stringify(t)===this.last_loaded;return t&&!n&&function(){var n=[],i=function(i){Array.isArray(t[i])?t[i].forEach(function(t){return n.push(e.loadFontFace(i,t))}):n.push(e.loadFontFace(i,t[i]))};for(var r in t)i(r);e.last_loaded=JSON.stringify(t),e.fonts_loaded=Promise.all(n.filter(function(t){return t}))}(),this.fonts_loaded},loadFontFace:function(t,e){return new Promise(function(n,i){var r,o;if(null==e||"object"!=typeof e&&"external"!==e)return n();if(r={family:t},"object"==typeof e){if(Object.assign(r,e),"string"==typeof e.url)return Promise.resolve(this.injectFontFace(r)).then(function(t){try{return s.call(this)}catch(t){return i(t)}}.bind(this),i);function s(){return a.call(this)}return s.call(this)}function a(){var e=function(){try{return n()}catch(t){return i(t)}},s=function(n){try{return Kn("debug","Font face '"+t+"' is NOT available",r),e()}catch(t){return i(t)}};try{return o=new oa(t,r),Promise.resolve(o.load()).then(function(n){try{return Kn("debug","Font face '"+t+"' is available",r),e()}catch(t){return s()}},s)}catch(t){s()}}return a.call(this)}.bind(this))},injectFontFace:function(t){return new Promise(function(e,n){var i,r,o,s,a,u,l,c,h,f,d;if(i=t.family,r=t.url,o=t.weight,s=t.style,void 0===this.supports_native_font_loading&&(this.supports_native_font_loading=void 0!==window.FontFace),a=r,"blob:"===r.slice(0,5))return Promise.resolve(ei.io(r,6e4,"arraybuffer")).then(function(t){try{if(a=t,u=new Uint8Array(a),this.supports_native_font_loading)a=u;else{for(l="",c=0;c<u.length;c++)l+=String.fromCharCode(u[c]);a="data:font/opentype;base64,"+btoa(l)}return p.call(this)}catch(t){return n(t)}}.bind(this),n);function p(){return this.supports_native_font_loading?("string"==typeof a?h=new FontFace(i,"url("+encodeURI(a)+")",{weight:o,style:s}):a instanceof Uint8Array&&(h=new FontFace(i,a,{weight:o,style:s})),document.fonts.add(h),Kn("trace","Adding FontFace to document.fonts:",h)):(f="\n                @font-face {\n                    font-family: '"+i+"';\n                    font-weight: "+(o||"normal")+";\n                    font-style: "+(s||"normal")+";\n                    src: url("+encodeURI(a)+");\n                }",(d=document.createElement("style")).appendChild(document.createTextNode("")),document.head.appendChild(d),d.sheet.insertRule(f,0),Kn("trace","Injecting CSS font face:",f)),e()}return p.call(this)}.bind(this))}},aa=new RegExp("[֑-߿‏‫‮יִ-﷽ﹰ-ﻼ]");function ua(t){return aa.test(t)}var la="\0-/:-@[-`{-¿×÷ʹ-˿ -⯿‐-\u2029‬ -⯿",ca=new RegExp("["+la+"]+");function ha(t){return ca.test(t)}var fa=new RegExp("^["+la+"؀-ۿ]+"),da=new RegExp("["+la+"آ-إاد-زوٱ-ٷڈ-ڙۄ-ۋۏےۓۮۯ]"),pa=new RegExp("^[ؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ۭ]+"),ma="[̀-֑ͯ-ׇֽֿׁׂׅׄަ-ްऀ-ःऺ-ौॎॏ॑-ॗॢॣঁ-ঃ়া-ৌৗৢৣਁ-ਃ਼-ੌੑઁ-ઃ઼ા-ૌૢૣଁ-ଃ଼ା-ୌୖୗୢୣஂா-்ௗఀ-ఃా-ౌౕౖౢౣಁ-ಃ಼ಾ-ೌೕೖೢೣഁ-ഃാ-ൌൎൗൢൣංඃ්-ෟෲෳัิ-ฺ็-๎ັິ-ຼ່-ໍ༹༘༙༵༷༾༿ཱ-ྃ྆྇ྍ-ྼ࿆ါ-း်-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ឴-៑៓ᩕ-ᩞᩡ-᩼᷀-᷿⃐-⃿]",_a=new RegExp("^.(?:"+ma+"+)?([्্੍્୍్್്྄္្᩠᩿]\\W(?:"+ma+"+)?)*"),va={Mongolian:"᠀-᢯"},ga=Object.keys(va).map(function(t){return va[t]}).join(""),ya=new RegExp("["+ga+"]"),ba=2;function xa(t,e,n){var i=e?1:ba;if(t.length<i)return[t];var r=t;if(n.segment[r])return n.stats.segment_hits++,n.segment[r];var o=[];if(fa.exec(t)){o=t.split(da);for(var s=-1,a=0;a<o.length-1;a++){if(a>0){var u=pa.exec(o[a]);u&&(o[a]=o[a].substring(u[0].length),o[a-1]+=u[0],s+=u[0].length)}s+=1+o[a].length,o[a]+=t.slice(s,s+1)}t=""}for(;t.length;){for(var l="",c=t,h=0;h<i&&c.length;h++){var f=(_a.exec(c)||c)[0];l+=f,c=c.substring(f.length)}o.push(l),t=t.substring(l.length)}return e&&o.reverse(),n.stats.segment_misses++,n.segment[r]=o,o}var wa=function(){function t(t,e,n){void 0===e&&(e=1/0),void 0===n&&(n=1/0),this.width=0,this.height=0,this.lines=[],this.max_lines=e,this.text_wrap=n,this.context=t}var e=t.prototype;return e.createLine=function(t){return this.lines.length<this.max_lines&&new Ta(t,this.text_wrap)},e.push=function(t){if(this.lines.length<this.max_lines){var e=this.context.measureText(t.text).width;return t.width=e,e>this.width&&(this.width=Math.ceil(e)),this.lines.push(t),this.height+=t.height,!0}return this.addEllipsis(),!1},e.advance=function(t,e){return!!this.push(t)&&this.createLine(e)},e.addEllipsis=function(){var e=this.lines[this.lines.length-1],n=Math.ceil(this.context.measureText(t.ellipsis).width);e.append(t.ellipsis),e.width+=n,e.width>this.width&&(this.width=e.width)},e.finish=function(t){t?this.push(t):this.addEllipsis()},t.parse=function(e,n,i,r,o){var s;s="number"==typeof n?e.split(" "):[e];for(var a=new t(o,i,n),u=a.createLine(r),l=0;l<s.length;l++){for(var c=s[l].split("\n"),h=0===l,f=0;f<c.length&&u;f++){var d=c[f];ua(d)&&ha(d[d.length-1])&&(d+="‏");var p=h?d:" "+d;if(n&&l>0&&u.exceedsTextwrap(p)){if(!(u=a.advance(u,r)))break;u.append(d),h=!0}else u.append(p);f<c.length-1&&(u=a.advance(u,r),h=!0)}l===s.length-1&&a.finish(u)}return a},t}();wa.ellipsis="...";var Ta=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.chars=0,this.text="",this.height=Math.ceil(t),this.text_wrap=e}var e=t.prototype;return e.append=function(t){this.chars+=t.length,this.text+=t},e.exceedsTextwrap=function(t){return t.length+this.chars>this.text_wrap},t}(),Aa=function(){function t(){this.createCanvas(),this.vertical_text_buffer=8,this.horizontal_text_buffer=4}var e=t.prototype;return e.createCanvas=function(){this.canvas=document.createElement("canvas"),this.canvas.style.backgroundColor="transparent",this.context=this.canvas.getContext("2d")},e.resize=function(t,e){this.canvas.width=t,this.canvas.height=e,this.context.clearRect(0,0,t,e)},e.setFont=function(t){var e=t.font_css,n=t.fill,i=t.stroke,r=t.stroke_width,o=t.px_size,s=t.supersample;this.px_size=o;var a=this.context,u=ei.device_pixel_ratio*s;i&&r>0&&(a.strokeStyle=i,a.lineWidth=r*u),a.fillStyle=n,a.font=e,a.miterLimit=2},e.textSizes=function(t,e){return new Promise(function(n,i){return Promise.resolve(sa.loadFonts()).then(function(r){try{return n(wi.add({type:"textSizes",run:this.processTextSizesTask.bind(this),texts:e,tile_id:t,cursor:{styles:Object.keys(e),texts:null,style_idx:null,text_idx:null}}))}catch(t){return i(t)}}.bind(this),i)}.bind(this))},e.processTextSizesTask=function(e){var n,i=e.cursor,r=e.texts;for(i.style_idx=i.style_idx||0;i.style_idx<i.styles.length;){var o=i.styles[i.style_idx];null==i.text_idx&&(i.text_idx=0,i.texts=Object.keys(r[o]));for(var s=r[o],a=!0;i.text_idx<i.texts.length;){var u=i.texts[i.text_idx],l=s[u],c=l.text_settings;if(a&&(this.setFont(c),a=!1),l.size=this.textSize(o,u,c).size,c.can_articulate){var h=!1,f=!1;if(ua(u)&&(ha(u)?h=!0:f=!0),l.isRTL=h,l.no_curving=f||(n=u,ya.test(n)),l.vertical_buffer=this.vertical_text_buffer,l.segment_sizes=[],!l.no_curving){var d=xa(u,h,t.cache);l.segments=d;for(var p=0;p<d.length;p++)l.segment_sizes.push(this.textSize(o,d[p],c).size)}}if(i.text_idx++,!wi.shouldContinue(e))return!1}i.text_idx=null,i.style_idx++}return wi.finish(e,r),!0},e.textSize=function(e,n,i){var r=i.transform,o=i.text_wrap,s=i.max_lines,a=i.stroke_width,u=void 0===a?0:a,l=i.supersample;if(t.cache.text[e]=t.cache.text[e]||{},t.cache.text[e][n])return t.cache.stats.text_hits++,t.cache.text[e][n];t.cache.stats.text_misses++,t.cache.text_count++;var c=ei.device_pixel_ratio*l,h=this.applyTextTransform(n,r),f=this.context,d=this.vertical_text_buffer*c,p=c*(u+this.horizontal_text_buffer),m=2*c,_=this.px_size+m,v=wa.parse(h,o,s,_,f),g=v.height,y=v.width,b=v.lines,x=[y/c,g/c],w=[y+2*p,g+2*d],T=[w[0]/c,w[1]/c];return t.cache.text[e][n]={lines:b,size:{collision_size:x,texture_size:w,logical_size:T,line_height:_}},t.cache.text[e][n]},e.drawTextMultiLine=function(t,e,n,i,r){for(var o=e[0],s=e[1],a=i.stroke,u=i.stroke_width,l=void 0===u?0:u,c=i.transform,h=i.align,f=i.supersample,d=n.line_height,p=s,m=0;m<t.length;m++){var _=t[m];this.drawTextLine(_,[o,p],n,{stroke:a,stroke_width:l,transform:c,align:h,supersample:f},r),p+=d}if(ni.draw_label_collision_boxes){this.context.save();var v=ei.device_pixel_ratio*f,g=v*(this.horizontal_text_buffer+l),y=v*this.vertical_text_buffer,b=n.collision_size;this.context.strokeStyle="blue",this.context.lineWidth=2,this.context.strokeRect(o+g,s+y,v*b[0],v*b[1]),"curved"===r&&this.context.strokeRect(o+n.texture_size[0]+g,s+y,v*b[0],v*b[1]),this.context.restore()}if(ni.draw_label_texture_boxes){this.context.save();var x=n.texture_size;this.context.strokeStyle="green",this.context.lineWidth=2,this.context.strokeRect(o+2,s+2,x[0]-4,x[1]-4),"curved"===r&&this.context.strokeRect(o+2+n.texture_size[0],s+2,x[0]-4,x[1]-4),this.context.restore()}},e.drawTextLine=function(t,e,n,i,r){var o=e[0],s=e[1],a=i.stroke,u=i.stroke_width,l=void 0===u?0:u,c=i.transform,h=i.align,f=i.supersample,d=ei.device_pixel_ratio*f;h=h||"center";var p,m=this.vertical_text_buffer*d,_=n.texture_size,v=n.line_height,g=d*(l+this.horizontal_text_buffer),y=this.applyTextTransform(t.text,c);"left"===h?p=o+g:"center"===h?p=o+_[0]/2-t.width/2:"right"===h&&(p=o+_[0]-t.width-g);var b=s+.75*m+v;if(a&&l>0){var x="curved"===r?_[0]:0;this.context.strokeText(y,p+x,b)}this.context.fillText(y,p,b)},e.rasterize=function(t,e,n,i,r){return wi.add({type:"rasterizeLabels",run:this.processRasterizeTask.bind(this),cancel:this.cancelRasterizeTask.bind(this),pause_factor:2,user_moving_view:!1,texts:t,textures:e,texture_prefix:i,gl:r,tile_id:n,cursor:{styles:Object.keys(t),texts:null,style_idx:0,text_idx:null,texture_idx:0,texture_resize:!0,texture_names:[]}})},e.processRasterizeTask=function(t){for(var e,n=t.cursor,i=t.texts,r=t.textures;n.texture_idx<t.textures.length;){for(e=r[n.texture_idx],n.texture_resize&&(n.texture_resize=!1,this.resize.apply(this,e.texture_size));n.style_idx<n.styles.length;){var o=n.styles[n.style_idx];null==n.text_idx&&(n.text_idx=0,n.texts=Object.keys(i[o]));for(var s=i[o],a=!0;n.text_idx<n.texts.length;){var u=n.texts[n.text_idx],l=s[u],c=l.text_settings;if(a&&(this.setFont(c),a=!1),c.can_articulate){l.texcoords=l.texcoords||{};for(var h=0;h<l.type.length;h++){var f=l.type[h];if("straight"===f){if(l.textures[h]!==n.texture_idx)continue;var d=l.isRTL?u.split().reverse().join():u,p=e.texcoord_cache[o][d],m=void 0;if(p.texcoord)m=p.texcoord;else{var _=p.texture_position,v=this.textSize(o,d,c),g=v.size,y=v.lines;this.drawTextMultiLine(y,_,g,c,f),m=Ui.getTexcoordsForSprite(_,g.texture_size,e.texture_size),p.texcoord=m}l.texcoords[f]={texcoord:m,texture_id:p.texture_id}}else if("curved"===f){var b=l.segments;l.texcoords.curved=l.texcoords.curved||[],l.texcoords_stroke=l.texcoords_stroke||[];for(var x=0;x<b.length;x++)if(l.textures[h][x]===n.texture_idx){var w=b[x],T=e.texcoord_cache[o][w],A=void 0,E=void 0;if(T.texcoord)A=T.texcoord,E=T.texcoord_stroke,l.texcoords_stroke.push(E);else{var S=T.texture_position,k=this.textSize(o,w,c),C=k.size,O=k.lines;this.drawTextMultiLine(O,S,C,c,f),A=Ui.getTexcoordsForSprite(S,C.texture_size,e.texture_size);var L=[S[0]+C.texture_size[0],S[1]];E=Ui.getTexcoordsForSprite(L,C.texture_size,e.texture_size),T.texcoord=A,T.texcoord_stroke=E,l.texcoords_stroke.push(E)}l.texcoords.curved.push({texcoord:A,texture_id:T.texture_id})}}}}else{var P=this.textSize(o,u,c).lines;for(var R in l.align)l.align[R].texture_id===n.texture_idx&&(this.drawTextMultiLine(P,l.align[R].texture_position,l.size,{stroke:c.stroke,stroke_width:c.stroke_width,transform:c.transform,supersample:c.supersample,align:R}),l.align[R].texcoords=Ui.getTexcoordsForSprite(l.align[R].texture_position,l.size.texture_size,e.texture_size))}if(n.text_idx++,!wi.shouldContinue(t))return!1}n.text_idx=null,n.style_idx++}var M=t.texture_prefix+n.texture_idx;Ui.create(t.gl,M,{element:this.canvas,filtering:"linear",UNPACK_PREMULTIPLY_ALPHA_WEBGL:!0}),Ui.retain(M),n.texture_names.push(M),n.texture_idx++,n.texture_resize=!0,n.style_idx=0}return wi.finish(t,n.texture_names),!0},e.cancelRasterizeTask=function(t){Kn("trace","RasterizeTask: release textures ["+t.cursor.texture_names.join(", ")+"]"),t.cursor.texture_names.forEach(function(t){return Ui.release(t)})},e.setTextureTextPositions=function(t,e){var n={cx:0,cy:0,width:0,height:0,column_width:0,texture_id:0,texcoord_cache:{}},i=[];for(var r in t){var o=t[r];for(var s in o){var a=o[s],u=void 0;if(a.text_settings.can_articulate){a.textures=[],n.texcoord_cache[r]=n.texcoord_cache[r]||{};for(var l=0;l<a.type.length;l++){var c=a.type[l];if("straight"===c){var h=a.isRTL?s.split().reverse().join():s;if(!n.texcoord_cache[r][h]){var f=a.size.texture_size;u=this.placeText(f[0],f[1],r,n,i,e),n.texcoord_cache[r][h]={texture_id:n.texture_id,texture_position:u}}a.textures[l]=n.texture_id}else if("curved"===c){a.textures[l]=[];for(var d=0;d<a.segment_sizes.length;d++){var p=a.segments[d];if(!n.texcoord_cache[r][p]){var m=a.segment_sizes[d].texture_size,_=2*m[0];u=this.placeText(_,m[1],r,n,i,e),n.texcoord_cache[r][p]={texture_id:n.texture_id,texture_position:u}}a.textures[l].push(n.texture_id)}}}}else{var v=a.size.texture_size;for(var g in a.align)u=this.placeText(v[0],v[1],r,n,i,e),a.align[g].texture_id=n.texture_id,a.align[g].texture_position=u}}}return n.column_width>0&&n.height>0&&(i[n.texture_id]={texture_size:[n.width,n.height],texcoord_cache:n.texcoord_cache}),i},e.placeText=function(t,e,n,i,r,o){var s;return i.cy+e>o?(i.cx+=i.column_width,i.cy=0,i.column_width=t):i.column_width=Math.max(i.column_width,t),i.cx+i.column_width<=o?(s=[i.cx,i.cy],i.cy+=e,i.height=Math.max(i.height,i.cy),i.width=Math.max(i.width,i.cx+i.column_width)):(r[i.texture_id]={texture_size:[i.width,i.height],texcoord_cache:i.texcoord_cache},i.texcoord_cache={},i.texcoord_cache[n]={},i.texture_id++,i.cx=0,i.cy=e,i.column_width=t,i.width=t,i.height=e,s=[0,0]),s},e.applyTextTransform=function(t,e){return"capitalize"===e?t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1)}):"uppercase"===e?t.toUpperCase():"lowercase"===e?t.toLowerCase():t},t.fontPixelSize=function(e){if(null!=e){var n=(e="string"==typeof e?e:String(e)).match(t.font_size_re)||[],i=n[1],r=n[2];return"em"===(r=r||"px")?i*=16:"pt"===r?i/=.75:"%"===r&&(i/=6.25),(i=Ir.parsePositiveNumber(i))*ei.device_pixel_ratio}},t.pruneTextCache=function(){t.cache.text_count>t.cache.text_count_max&&(t.cache.text={},t.cache.text_count=0,Kn("debug","TextCanvas: pruning text cache")),Object.keys(t.cache.segment).length>t.cache.segment_count_max&&(t.cache.segment={},Kn("debug","TextCanvas: pruning segment cache"))},t}();Aa.font_size_re=/((?:[0-9]*\.)?[0-9]+)\s*(px|pt|em|%)?/,Aa.cache={text:{},text_count:0,text_count_max:2e3,segment:{},segment_count_max:2e3,stats:{text_hits:0,text_misses:0,segment_hits:0,segment_misses:0}};var Ea=0,Sa={resetText:function(){zt.is_main?this.canvas=new Aa:zt.is_worker&&(this.texts={})},freeText:function(t){delete this.texts[t.id]},parseTextFeature:function(t,e,n,i){var r=this.parseTextSource(t,e,n);if(null!=r&&""!==r){var o=ra.compute(t,e,n),s=ra.key(o);this.texts[i.id]=this.texts[i.id]||{};var a=this.texts[i.id][s]=this.texts[i.id][s]||{};if(r instanceof Object){var u=[],l=r.left+"-"+r.right;for(var c in r){var h=r[c];if(h){var f=this.computeTextLayout({},t,e,n,i,h,o,l,c);a[h]||(a[h]={text_settings:o,ref:0}),u.push({draw:e,text:h,text_settings_key:s,layout:f})}}return u.length>0&&u}var d=this.computeTextLayout({},t,e,n,i,r,o);return a[r]||(a[r]={text_settings:o,ref:0}),{draw:e,text:r,text_settings_key:s,layout:d}}},parseTextSource:function(t,e,n){var i,r=e.text_source||"name";if(null==r||Array.isArray(r)||"object"!=typeof r)i=this.parseTextSourceValue(r,t,n);else for(var o in i={},r)i[o]=this.parseTextSourceValue(r[o],t,n);return i},parseTextSourceValue:function(t,e,n){var i;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("string"==typeof t[r]?i=e.properties[t[r]]:"function"==typeof t[r]&&(i=t[r](n)),i)return i}else"string"==typeof t?i=e.properties[t]:t instanceof Function&&(i=t(n));return i},prepareTextLabels:function(t,e){return new Promise(function(n,i){var r;if(0===Object.keys(this.texts[t.id]||{}).length)return n([]);var o=function(e){try{return Xs.abortTile(t.id),n([])}catch(t){return i(t)}};try{return Promise.resolve($n.postMessage(this.main_thread_target+".calcTextSizes",t.id,this.texts[t.id])).then(function(i){try{return r=i,t.canceled?(Kn("trace","Style "+this.name+": stop tile build because tile was canceled: "+t.key+", post-calcTextSizes()"),n([])):(this.texts[t.id]=r||[],r?n(this.buildTextLabels(t,e)):(Xs.abortTile(t.id),n([])))}catch(t){return o()}}.bind(this),o)}catch(t){o()}}.bind(this))},collideAndRenderTextLabels:function(t,e,n){return new Promise(function(i,r){var o,s,a;return Promise.resolve(this.prepareTextLabels(t,n)).then(function(n){try{return 0===(o=n).length?(Xs.collide([],e,t.id),i({})):Promise.resolve(Xs.collide(o,e,t.id)).then(function(e){try{if(o=e,t.canceled)return Kn("trace","stop tile build because tile was canceled: "+t.key+", post-collide()"),i({});if(null==(s=this.texts[t.id])||0===o.length)return i({});this.cullTextStyles(s,o),o.forEach(function(t){var e=t.text_settings_key,n=s[e]&&s[e][t.text];n.text_settings.can_articulate?(n.type||(n.type=[]),-1===n.type.indexOf(t.label.type)&&n.type.push(t.label.type)):(n.align=n.align||{},n.align[t.label.align]={})});var n=function(t){try{return i({})}catch(t){return r(t)}};try{return Promise.resolve($n.postMessage(this.main_thread_target+".rasterizeTexts",t.id,t.key,s)).then(function(e){try{return a=e,t.canceled?(Kn("trace","stop tile build because tile was canceled: "+t.key+", post-rasterizeTexts()"),i({})):i(Object.assign({labels:o},a))}catch(t){return n()}},n)}catch(t){n()}}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}.bind(this))},cullTextStyles:function(t,e){for(var n=0;n<e.length;n++){var i=e[n];t[i.text_settings_key][i.text].ref++}for(var r in t)for(var o in t[r])t[r][o].ref<1&&delete t[r][o];for(var s in t)0===Object.keys(t[s]).length&&delete t[s]},calcTextSizes:function(t,e){return this.canvas.textSizes(t,e)},rasterizeTexts:function(t,e,n){return new Promise(function(i,r){var o,s,a,u;return o=new Aa,s=Math.min(this.max_texture_size,2048),a=o.setTextureTextPositions(n,s),u=["labels",this.name,e,t,Ea,""].join("-"),Ea++,Promise.resolve(o.rasterize(n,a,t,u,this.gl)).then(function(t){try{return i((a=t)?{texts:n,textures:a}:{})}catch(t){return r(t)}},r)}.bind(this))},preprocessText:function(t){if(t&&t.font&&"object"==typeof t.font)return t.font.fill=Ir.createPropertyCache(t.font.fill),t.font.stroke&&(t.font.stroke.color=Ir.createPropertyCache(t.font.stroke.color)),t.font.px_size=Ir.createPropertyCache(t.font.size||ra.defaults.size,Aa.fontPixelSize),t.font.stroke&&null!=t.font.stroke.width&&(t.font.stroke.width=Ir.createPropertyCache(t.font.stroke.width,Ir.parsePositiveNumber)),t.offset=Ir.createPropertyCache(t.offset,function(t){return Array.isArray(t)&&t.map(Ir.parseNumber)}),t.buffer=Ir.createPropertyCache(t.buffer,function(t){return(Array.isArray(t)?t:[t,t]).map(Ir.parsePositiveNumber)}),t.repeat_distance=Ir.createPropertyCache(null!=t.repeat_distance?t.repeat_distance:or.tile_size,Ir.parsePositiveNumber),t},computeTextLayout:function(t,e,n,i,r,o,s,a,u){var l=t||{};return(l=this.computeLayout(l,e,n,i,r)).repeat_distance&&(a&&(l.repeat_group+="/"+a),l.repeat_group+="/"+o),l.subdiv=r.overzoom2,l.align=n.align,l.italic="normal"!==s.style,"right"===u?l.orientation=1:"left"===u&&(l.orientation=-1),l}};Bi("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}});var ka=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ca=function(t,e,n){var i=new Float64Array(3);return i[0]=t,i[1]=e,i[2]=n,i},Oa=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],_=e[14],v=e[15],g=n*a-i*s,y=n*u-r*s,b=n*l-o*s,x=i*u-r*a,w=i*l-o*a,T=r*l-o*u,A=c*m-h*p,E=c*_-f*p,S=c*v-d*p,k=h*_-f*m,C=h*v-d*m,O=f*v-d*_,L=g*O-y*C+b*k+x*S-w*E+T*A;return L?(L=1/L,t[0]=(a*O-u*C+l*k)*L,t[1]=(u*S-s*O-l*E)*L,t[2]=(s*C-a*S+l*A)*L,t[3]=(r*C-i*O-o*k)*L,t[4]=(n*O-r*S+o*E)*L,t[5]=(i*S-n*C-o*A)*L,t[6]=(m*T-_*w+v*x)*L,t[7]=(_*b-p*T-v*y)*L,t[8]=(p*w-m*b+v*g)*L,t):null},La=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],c=e[8],h=c*s-a*l,f=-c*o+a*u,d=l*o-s*u,p=n*h+i*f+r*d;return p?(p=1/p,t[0]=h*p,t[1]=(-c*i+r*l)*p,t[2]=(a*i-r*s)*p,t[3]=f*p,t[4]=(c*n-r*u)*p,t[5]=(-a*n+r*o)*p,t[6]=d*p,t[7]=(-l*n+i*u)*p,t[8]=(s*n-i*o)*p,t):null},Pa=function(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],m=e[12],_=e[13],v=e[14],g=e[15],y=n[0],b=n[1],x=n[2],w=n[3];return t[0]=y*i+b*a+x*h+w*m,t[1]=y*r+b*u+x*f+w*_,t[2]=y*o+b*l+x*d+w*v,t[3]=y*s+b*c+x*p+w*g,y=n[4],b=n[5],x=n[6],w=n[7],t[4]=y*i+b*a+x*h+w*m,t[5]=y*r+b*u+x*f+w*_,t[6]=y*o+b*l+x*d+w*v,t[7]=y*s+b*c+x*p+w*g,y=n[8],b=n[9],x=n[10],w=n[11],t[8]=y*i+b*a+x*h+w*m,t[9]=y*r+b*u+x*f+w*_,t[10]=y*o+b*l+x*d+w*v,t[11]=y*s+b*c+x*p+w*g,y=n[12],b=n[13],x=n[14],w=n[15],t[12]=y*i+b*a+x*h+w*m,t[13]=y*r+b*u+x*f+w*_,t[14]=y*o+b*l+x*d+w*v,t[15]=y*s+b*c+x*p+w*g,t},Ra=function(t,e,n){var i,r,o,s,a,u,l,c,h,f,d,p,m=n[0],_=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*_+e[8]*v+e[12],t[13]=e[1]*m+e[5]*_+e[9]*v+e[13],t[14]=e[2]*m+e[6]*_+e[10]*v+e[14],t[15]=e[3]*m+e[7]*_+e[11]*v+e[15]):(i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],t[0]=i,t[1]=r,t[2]=o,t[3]=s,t[4]=a,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=d,t[11]=p,t[12]=i*m+a*_+h*v+e[12],t[13]=r*m+u*_+f*v+e[13],t[14]=o*m+l*_+d*v+e[14],t[15]=s*m+c*_+p*v+e[15]),t},Ma=function(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},Ia=function(t,e,n,i,r){var o=1/Math.tan(e/2),s=1/(i-r);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*s,t[15]=0,t},Na=function(t,e,n,i){var r,o,s,a,u,l,c,h,f,d,p=e[0],m=e[1],_=e[2],v=i[0],g=i[1],y=i[2],b=n[0],x=n[1],w=n[2];return Math.abs(p-b)<1e-6&&Math.abs(m-x)<1e-6&&Math.abs(_-w)<1e-6?ka(t):(c=p-b,h=m-x,f=_-w,r=g*(f*=d=1/Math.sqrt(c*c+h*h+f*f))-y*(h*=d),o=y*(c*=d)-v*f,s=v*h-g*c,(d=Math.sqrt(r*r+o*o+s*s))?(r*=d=1/d,o*=d,s*=d):(r=0,o=0,s=0),a=h*s-f*o,u=f*r-c*s,l=c*o-h*r,(d=Math.sqrt(a*a+u*u+l*l))?(a*=d=1/d,u*=d,l*=d):(a=0,u=0,l=0),t[0]=r,t[1]=a,t[2]=c,t[3]=0,t[4]=o,t[5]=u,t[6]=h,t[7]=0,t[8]=s,t[9]=l,t[10]=f,t[11]=0,t[12]=-(r*p+o*m+s*_),t[13]=-(a*p+u*m+l*_),t[14]=-(c*p+h*m+f*_),t[15]=1,t)},za=ka,Da=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},ja=function(){function t(t,e,n){void 0===n&&(n={}),this.view=e,this.position=n.position,this.zoom=n.zoom}t.create=function(t,e,n){switch(n.type){case"isometric":return new Ba(t,e,n);case"flat":return new Ua(t,e,n);case"perspective":default:return new Fa(t,e,n)}};var e=t.prototype;return e.update=function(){},e.setupProgram=function(){},e.updateView=function(){if(this.position||this.zoom){var t={};this.position&&(t={lng:this.position[0],lat:this.position[1],zoom:this.position[2]}),this.zoom&&(t.zoom=this.zoom),this.view.setView(t)}},e.setupMatrices=function(t,e){Pa(t.model_view32,this.view_matrix,t.model),e.uniform("Matrix4fv","u_modelView",t.model_view32),Oa(t.normal32,t.model_view32),La(t.inverse_normal32,t.normal32),e.uniform("Matrix3fv","u_normalMatrix",t.normal32),e.uniform("Matrix3fv","u_inverseNormalMatrix",t.inverse_normal32)},t}(),Fa=function(t){function e(e,n,i){var r;return void 0===i&&(i={}),(r=t.call(this,e,n,i)||this).type="perspective",r.focal_length=i.focal_length,r.fov=i.fov,r.focal_length||r.fov||(r.focal_length=[[16,2],[17,2.5],[18,3],[19,4],[20,6]]),r.vanishing_point=i.vanishing_point||[0,0],r.vanishing_point=r.vanishing_point.map(parseFloat),r.vanishing_point_skew=[],r.position_meters=null,r.view_matrix=new Float64Array(16),r.projection_matrix=new Float32Array(16),Ki.replaceBlock("camera","\n            uniform mat4 u_projection;\n            uniform vec3 u_eye;\n            uniform vec2 u_vanishing_point;\n\n            void cameraProjection (inout vec4 position) {\n                position = u_projection * position;\n            }"),r}Pn(e,t);var n=e.prototype;return n.constrainCamera=function(t){var e=t.view_height,n=t.height,i=t.focal_length,r=t.fov;return n?(i=2*n/e,r=2*Math.atan(1/i)):(i?r=2*Math.atan(1/i):r&&(r=r*Math.PI/180,i=1/Math.tan(r/2)),n=e/2*i),{view_height:e,height:n,focal_length:i,fov:r}},n.updateMatrices=function(){var t=this.view.size.css.height*this.view.meters_per_pixel,e=this.constrainCamera({view_height:t,focal_length:ei.interpolate(this.view.zoom,this.focal_length),fov:ei.interpolate(this.view.zoom,this.fov)}),n=e.height,i=e.fov,r=[this.view.center.meters.x,this.view.center.meters.y,n];this.position_meters=r,Na(this.view_matrix,Ca(r[0],r[1],0),Ca(r[0],r[1],-1),Ca(0,1,0)),Ia(this.projection_matrix,i,this.view.aspect,1,2*n),this.vanishing_point_skew[0]=this.vanishing_point[0]/this.view.size.css.width,this.vanishing_point_skew[1]=this.vanishing_point[1]/this.view.size.css.height,this.projection_matrix[8]=2*-this.vanishing_point_skew[0],this.projection_matrix[9]=2*-this.vanishing_point_skew[1],Ra(this.projection_matrix,this.projection_matrix,Ca(t/2*this.view.aspect*(2*-this.vanishing_point_skew[0]),t/2*(2*-this.vanishing_point_skew[1]),0)),Ra(this.projection_matrix,this.projection_matrix,Ca(0,0,-n))},n.update=function(){t.prototype.update.call(this),this.updateMatrices()},n.setupProgram=function(t){t.uniform("Matrix4fv","u_projection",this.projection_matrix),t.uniform("3f","u_eye",[0,0,this.position_meters[2]]),t.uniform("2fv","u_vanishing_point",this.vanishing_point_skew)},e}(ja),Ba=function(t){function e(e,n,i){var r;return void 0===i&&(i={}),(r=t.call(this,e,n,i)||this).type="isometric",r.axis=i.axis||{x:0,y:1},2===r.axis.length&&(r.axis={x:r.axis[0],y:r.axis[1]}),r.position_meters=null,r.viewport_height=null,r.view_matrix=new Float64Array(16),r.projection_matrix=new Float32Array(16),Ki.replaceBlock("camera","\n            uniform mat4 u_projection;\n            uniform vec3 u_eye;\n            uniform vec2 u_vanishing_point;\n\n            void cameraProjection (inout vec4 position) {\n                position = u_projection * position;\n                // position.xy += position.z * u_isometric_axis;\n\n                // Reverse z for depth buffer so up is negative,\n                // and scale down values so objects higher than one screen height will not get clipped\n                // pull forward slightly to avoid going past far clipping plane\n                position.z = -position.z / 100. + 1. - 0.001;\n            }"),r}Pn(e,t);var n=e.prototype;return n.update=function(){t.prototype.update.call(this),this.viewport_height=this.view.size.css.height*this.view.meters_per_pixel;var e=[this.view.center.meters.x,this.view.center.meters.y,this.viewport_height];this.position_meters=e,za(this.view_matrix),Ra(this.view_matrix,this.view_matrix,Ca(-e[0],-e[1],0)),za(this.projection_matrix),this.projection_matrix[8]=this.axis.x/this.view.aspect,this.projection_matrix[9]=this.axis.y,Ma(this.projection_matrix,this.projection_matrix,Ca(2/this.view.size.meters.x,2/this.view.size.meters.y,2/this.view.size.meters.y))},n.setupProgram=function(t){t.uniform("Matrix4fv","u_projection",this.projection_matrix),t.uniform("3fv","u_eye",[0,0,this.viewport_height]),t.uniform("2fv","u_vanishing_point",[0,0])},e}(ja),Ua=function(t){function e(e,n,i){var r;return void 0===i&&(i={}),(r=t.call(this,e,n,i)||this).type="flat",r}return Pn(e,t),e.prototype.update=function(){this.axis.x=0,this.axis.y=0,t.prototype.update.call(this)},e}(Ba),Ha=function(){function t(t,e){Ti(this),this.scene=t,this.createMatrices(),this.zoom=null,this.center=null,this.bounds=null,this.meters_per_pixel=null,this.panning=!1,this.panning_stop_at=0,this.pan_snap_timer=0,this.zoom_direction=0,this.user_input_at=0,this.user_input_timeout=50,this.user_input_active=!1,this.size={css:{},device:{},meters:{}},this.aspect=null,this.buffer=0,this.continuous_zoom="boolean"!=typeof e.continuousZoom||e.continuousZoom,this.wrap=!1!==e.wrapView,this.preserve_tiles_within_zoom=1,this.reset()}var e=t.prototype;return e.reset=function(){this.createCamera()},e.createCamera=function(){var t=this.getActiveCamera();t&&(this.camera=ja.create(t,this,this.scene.config.cameras[t]),this.camera.updateView())},e.getActiveCamera=function(){if(this.scene.config&&this.scene.config.cameras){for(var t in this.scene.config.cameras)if(this.scene.config.cameras[t].active)return t;var e=Object.keys(this.scene.config.cameras);return e.length&&e[0]}},e.setActiveCamera=function(t){var e=this.getActiveCamera();return e===t?t:(this.scene.config.cameras[t]&&(this.scene.config.cameras[t].active=!0,e&&this.scene.config.cameras[e]&&delete this.scene.config.cameras[e].active),this.scene.updateConfig({rebuild:!1,normalize:!1}),this.getActiveCamera())},e.update=function(){null!=this.camera&&this.ready()&&this.camera.update(),this.pan_snap_timer=(+new Date-this.panning_stop_at)/1e3,this.user_input_active=+new Date-this.user_input_at<this.user_input_timeout},e.setViewportSize=function(t,e){this.size.css={width:t,height:e},this.size.device={width:Math.round(this.size.css.width*ei.device_pixel_ratio),height:Math.round(this.size.css.height*ei.device_pixel_ratio)},this.aspect=this.size.css.width/this.size.css.height,this.updateBounds()},e.setView=function(t){var e=void 0===t?{}:t,n=e.lng,i=e.lat,r=e.zoom,o=!1;return"number"==typeof n&&"number"==typeof i&&(this.center&&n===this.center.lng&&i===this.center.lat||(o=!0,this.center={lng:n,lat:i})),"number"==typeof r&&r!==this.zoom&&(o=!0,this.setZoom(r)),o&&this.updateBounds(),o},e.setZoom=function(t){var e=this.tile_zoom,n=this.baseZoom(t);this.continuous_zoom||(t=n),n!==e&&(this.zoom_direction=n>e?1:-1),this.zoom=t,this.tile_zoom=n,this.updateBounds(),this.scene.requestRedraw()},e.baseZoom=function(t){return Math.floor(t)},e.setPanning=function(t){this.panning=t,this.panning||(this.panning_stop_at=+new Date)},e.markUserInput=function(){this.user_input_at=+new Date},e.ready=function(){return"number"==typeof this.size.css.width&&"number"==typeof this.size.css.height&&null!=this.center&&"number"==typeof this.zoom},e.updateBounds=function(){if(this.ready()){this.meters_per_pixel=or.metersPerPixel(this.zoom),this.size.meters={x:this.size.css.width*this.meters_per_pixel,y:this.size.css.height*this.meters_per_pixel};var t=or.latLngToMeters([this.center.lng,this.center.lat]);this.center.meters={x:t[0],y:t[1]},this.center.tile=or.tileForMeters([this.center.meters.x,this.center.meters.y],this.tile_zoom),this.bounds={sw:{x:this.center.meters.x-this.size.meters.x/2,y:this.center.meters.y-this.size.meters.y/2},ne:{x:this.center.meters.x+this.size.meters.x/2,y:this.center.meters.y+this.size.meters.y/2}},this.scene.tile_manager.updateTilesForView(),this.trigger("move"),this.scene.requestRedraw()}},e.findVisibleTileCoordinates=function(){if(!this.bounds)return[];var t=this.tile_zoom,e=or.tileForMeters([this.bounds.sw.x,this.bounds.sw.y],t),n=or.tileForMeters([this.bounds.ne.x,this.bounds.ne.y],t),i=[e.x-this.buffer,n.x+this.buffer,n.y-this.buffer,e.y+this.buffer];if(!1===this.wrap){var r=(1<<t)-1;i=i.map(function(t){return Math.min(Math.max(0,t),r)})}for(var o=[],s=i[0];s<=i[1];s++)for(var a=i[2];a<=i[3];a++)o.push(uo.coord({x:s,y:a,z:t}));return o},e.pruneTilesForView=function(){var t=this;this.ready()&&this.scene.tile_manager.removeTiles(function(e){if(e.visible||e.isProxy())return!1;if(e.loading&&e.style_z!==t.tile_zoom)return!0;if(Math.abs(e.style_z-t.tile_zoom)>(null!=e.preserve_tiles_within_zoom?e.preserve_tiles_within_zoom:t.preserve_tiles_within_zoom))return!0;var n=t.meters_per_pixel*or.tile_size,i=uo.coordAtZoom(or.tileForMeters([t.center.meters.x-t.size.meters.x/2-n,t.center.meters.y+t.size.meters.y/2+n],t.tile_zoom),e.coords.z),r=uo.coordAtZoom(or.tileForMeters([t.center.meters.x+t.size.meters.x/2+n,t.center.meters.y-t.size.meters.y/2-n],t.tile_zoom),e.coords.z);return(e.coords.x<i.x||e.coords.x>r.x||e.coords.y<i.y||e.coords.y>r.y)&&(Kn("trace","View: remove tile "+e.key+" (as "+e.coords.key+") for being too far out of visible area ("+i.key+", "+r.key+")"),!0)})},e.createMatrices=function(){this.matrices={},this.matrices.model=new Float64Array(16),this.matrices.model32=new Float32Array(16),this.matrices.model_view=new Float64Array(16),this.matrices.model_view32=new Float32Array(16),this.matrices.normal=new Float64Array(9),this.matrices.normal32=new Float32Array(9),this.matrices.inverse_normal32=new Float32Array(9)},e.setupTile=function(t,e){t.setupProgram(this.matrices,e),this.camera.setupMatrices(this.matrices,e)},e.setupProgram=function(t){t.uniform("2fv","u_resolution",[this.size.device.width,this.size.device.height]),t.uniform("3fv","u_map_position",[this.center.meters.x,this.center.meters.y,this.zoom]),t.uniform("1f","u_meters_per_pixel",this.meters_per_pixel),t.uniform("1f","u_device_pixel_ratio",ei.device_pixel_ratio),t.uniform("1f","u_view_pan_snap_timer",this.pan_snap_timer),t.uniform("1i","u_view_panning",this.panning),this.camera.setupProgram(t)},e.isAnimating=function(){return this.pan_snap_timer<=.5},t}(),$a=Ys.PLACEMENT,Wa=Object.create(fo);Wa.variants={},Wa.vertex_layouts={},Object.assign(Wa,Sa),Object.assign(Wa,{name:"points",built_in:!0,vertex_shader_src:"uniform vec2 u_resolution;\nuniform float u_time;\nuniform vec3 u_map_position;\nuniform vec4 u_tile_origin;\nuniform float u_tile_proxy_order_offset;\nuniform bool u_tile_fade_in;\nuniform float u_meters_per_pixel;\nuniform float u_device_pixel_ratio;\nuniform float u_visible_time;\nuniform bool u_view_panning;\nuniform float u_view_pan_snap_timer;\n\nuniform mat4 u_model;\nuniform mat4 u_modelView;\nuniform mat3 u_normalMatrix;\nuniform mat3 u_inverseNormalMatrix;\n\nattribute vec4 a_position;\nattribute vec4 a_shape;\nattribute vec4 a_color;\nattribute vec2 a_texcoord;\nattribute vec2 a_offset;\n\nuniform float u_point_type;\n\n#ifdef TANGRAM_CURVED_LABEL\n    attribute vec4 a_offsets;\n    attribute vec4 a_pre_angles;\n    attribute vec4 a_angles;\n#endif\n\nvarying vec4 v_color;\nvarying vec2 v_texcoord;\nvarying vec4 v_world_position;\nvarying float v_alpha_factor;\n\n#ifdef TANGRAM_HAS_SHADER_POINTS\n    attribute float a_outline_edge;\n    attribute vec4 a_outline_color;\n\n    varying float v_outline_edge;\n    varying vec4 v_outline_color;\n    varying float v_aa_offset;\n#endif\n\n#ifdef TANGRAM_SHOW_HIDDEN_LABELS\n    varying float v_label_hidden;\n#endif\n\n#define TANGRAM_PI 3.14159265359\n#define TANGRAM_NORMAL vec3(0., 0., 1.)\n\n#pragma tangram: camera\n#pragma tangram: material\n#pragma tangram: lighting\n#pragma tangram: raster\n#pragma tangram: global\n\nvec2 rotate2D(vec2 _st, float _angle) {\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle)) * _st;\n}\n\n#ifdef TANGRAM_CURVED_LABEL\n    // Assumes stops are [0, 0.33, 0.66, 0.99];\n    float mix4linear(vec4 v, float x) {\n        x = clamp(x, 0., 1.);\n        return mix(mix(v[0], v[1], 3. * x),\n                   mix(v[1],\n                       mix(v[2], v[3], 3. * (max(x, .66) - .66)),\n                       3. * (clamp(x, .33, .66) - .33)),\n                   step(0.33, x)\n                );\n    }\n#endif\n\nvoid main() {\n    // Initialize globals\n    #pragma tangram: setup\n\n    // discard hidden labels by collapsing into degenerate triangle\n    #ifndef TANGRAM_SHOW_HIDDEN_LABELS\n        if (a_shape.w == 0.) {\n            gl_Position = vec4(0., 0., 0., 1.);\n            return;\n        }\n    #else\n        // highlight hidden label in fragment shader for debugging\n        if (a_shape.w == 0.) {\n            v_label_hidden = 1.; // label debug testing\n        }\n        else {\n            v_label_hidden = 0.;\n        }\n    #endif\n\n    v_alpha_factor = 1.0;\n    v_color = a_color;\n    v_texcoord = a_texcoord; // UV from vertex attribute\n\n    #ifdef TANGRAM_HAS_SHADER_POINTS\n        v_outline_color = a_outline_color;\n        v_outline_edge = a_outline_edge;\n\n        if (u_point_type == TANGRAM_POINT_TYPE_SHADER) { // shader point\n            // use point dimensions for UVs instead (ignore attribute), add antialiasing info for fragment shader\n            float _size = abs(a_shape.x / 128.); // radius in pixels\n            v_texcoord = sign(a_shape.xy) * (_size + 1.) / _size;\n            _size += 2.;\n            v_aa_offset = 2. / _size;\n        }\n    #endif\n\n    // Position\n    vec4 position = u_modelView * vec4(a_position.xyz, 1.);\n\n    // Apply positioning and scaling in screen space\n    vec2 _shape = a_shape.xy / 256.;                 // values have an 8-bit fraction\n    vec2 _offset = vec2(a_offset.x, -a_offset.y);    // flip y to make it point down\n    float _theta = a_shape.z / 4096.;\n\n    #ifdef TANGRAM_CURVED_LABEL\n        //TODO: potential bug? null is passed in for non-curved labels, otherwise the first offset will be 0\n        if (a_offsets[0] != 0.){\n            vec4 _angles_scaled = (TANGRAM_PI / 16384.) * a_angles;\n            vec4 _pre_angles_scaled = (TANGRAM_PI / 128.) * a_pre_angles;\n            vec4 _offsets_scaled = (1. / 64.) * a_offsets;\n\n            float _zoom = clamp(u_map_position.z - u_tile_origin.z, 0., 1.); //fract(u_map_position.z);\n            float _pre_angle = mix4linear(_pre_angles_scaled, _zoom);\n            float _angle = mix4linear(_angles_scaled, _zoom);\n            float _offset_curve = mix4linear(_offsets_scaled, _zoom);\n\n            _shape = rotate2D(_shape, _pre_angle); // rotate in place\n            _shape.x += _offset_curve;            // offset for curved label segment\n            _shape = rotate2D(_shape, _angle);     // rotate relative to curved label anchor\n            _shape += rotate2D(_offset, _theta);   // offset if specified in the scene file\n        }\n        else {\n            _shape = rotate2D(_shape + _offset, _theta);\n        }\n    #else\n        _shape = rotate2D(_shape + _offset, _theta);\n    #endif\n\n    // Fade in (if requested) based on time mesh has been visible.\n    // Value passed to fragment shader in the v_alpha_factor varying\n    #ifdef TANGRAM_FADE_IN_RATE\n        if (u_tile_fade_in) {\n            v_alpha_factor *= clamp(u_visible_time * TANGRAM_FADE_IN_RATE, 0., 1.);\n        }\n    #endif\n\n    // World coordinates for 3d procedural textures\n    v_world_position = u_model * position;\n    v_world_position.xy += _shape * u_meters_per_pixel;\n    v_world_position = wrapWorldPosition(v_world_position);\n\n    // Modify position before camera projection\n    #pragma tangram: position\n\n    cameraProjection(position);\n\n    #ifdef TANGRAM_LAYER_ORDER\n        // +1 is to keep all layers including proxies > 0\n        applyLayerOrder(a_position.w + u_tile_proxy_order_offset + 1., position);\n    #endif\n\n    // Apply pixel offset in screen-space\n    // Multiply by 2 is because screen is 2 units wide Normalized Device Coords (and u_resolution device pixels wide)\n    // Device pixel ratio adjustment is because shape is in logical pixels\n    position.xy += _shape * position.w * 2. * u_device_pixel_ratio / u_resolution;\n    #ifdef TANGRAM_HAS_SHADER_POINTS\n        if (u_point_type == TANGRAM_POINT_TYPE_SHADER) { // shader point\n            // enlarge by 1px to catch missed MSAA fragments\n            position.xy += sign(_shape) * position.w * u_device_pixel_ratio / u_resolution;\n        }\n    #endif\n\n    // Snap to pixel grid\n    // Only applied to fully upright sprites/labels (not shader-drawn points), while panning is not active\n    #ifdef TANGRAM_HAS_SHADER_POINTS\n    if (!u_view_panning && (abs(_theta) < TANGRAM_EPSILON) && u_point_type != TANGRAM_POINT_TYPE_SHADER) {\n    #else\n    if (!u_view_panning && (abs(_theta) < TANGRAM_EPSILON)) {\n    #endif\n        vec2 _position_fract = fract((((position.xy / position.w) + 1.) * .5) * u_resolution);\n        vec2 _position_snap = position.xy + ((step(0.5, _position_fract) - _position_fract) * position.w * 2. / u_resolution);\n\n        // Animate the snapping to smooth the transition and make it less noticeable\n        #ifdef TANGRAM_VIEW_PAN_SNAP_RATE\n            position.xy = mix(position.xy, _position_snap, clamp(u_view_pan_snap_timer * TANGRAM_VIEW_PAN_SNAP_RATE, 0., 1.));\n        #else\n            position.xy = _position_snap;\n        #endif\n    }\n\n    gl_Position = position;\n}\n",fragment_shader_src:"uniform vec2 u_resolution;\nuniform float u_time;\nuniform vec3 u_map_position;\nuniform vec4 u_tile_origin;\nuniform float u_meters_per_pixel;\nuniform float u_device_pixel_ratio;\nuniform float u_visible_time;\n\nuniform mat3 u_normalMatrix;\nuniform mat3 u_inverseNormalMatrix;\n\nuniform sampler2D u_texture;\nuniform float u_point_type;\nuniform bool u_apply_color_blocks;\n\nvarying vec4 v_color;\nvarying vec2 v_texcoord;\nvarying vec4 v_world_position;\nvarying float v_alpha_factor;\n\n#ifdef TANGRAM_HAS_SHADER_POINTS\n    varying vec4 v_outline_color;\n    varying float v_outline_edge;\n    varying float v_aa_offset;\n#endif\n\n#ifdef TANGRAM_SHOW_HIDDEN_LABELS\n    varying float v_label_hidden;\n#endif\n\n#define TANGRAM_NORMAL vec3(0., 0., 1.)\n\n#pragma tangram: camera\n#pragma tangram: material\n#pragma tangram: lighting\n#pragma tangram: raster\n#pragma tangram: global\n\n#ifdef TANGRAM_HAS_SHADER_POINTS\n    //l is the distance from the center to the fragment, R is the radius of the drawn point\n    float _tangram_antialias(float l, float R){\n        float low  = R - v_aa_offset;\n        float high = R + v_aa_offset;\n        return 1. - smoothstep(low, high, l);\n    }\n#endif\n\nvoid main (void) {\n    // Initialize globals\n    #pragma tangram: setup\n\n    vec4 color = v_color;\n\n    #ifdef TANGRAM_HAS_SHADER_POINTS\n        // Only apply shader blocks to point, not to attached text (N.B.: for compatibility with ES)\n        if (u_point_type == TANGRAM_POINT_TYPE_TEXTURE) { // sprite texture\n            color *= texture2D(u_texture, v_texcoord);\n        }\n        else if (u_point_type == TANGRAM_POINT_TYPE_LABEL) { // label texture\n            color = texture2D(u_texture, v_texcoord);\n            color.rgb /= max(color.a, 0.001); // un-multiply canvas texture\n        }\n        else if (u_point_type == TANGRAM_POINT_TYPE_SHADER) { // shader point\n            // Mask of outermost circle, either outline or point boundary\n            float _d = length(v_texcoord); // distance to this fragment from the point center\n            float _outer_alpha = _tangram_antialias(_d, 1.);\n            float _fill_alpha = _tangram_antialias(_d, 1. - (v_outline_edge * 0.5)) * color.a;\n            float _stroke_alpha = (_outer_alpha - _tangram_antialias(_d, 1. - v_outline_edge)) * v_outline_color.a;\n\n            // Apply alpha compositing with stroke 'over' fill.\n            #ifdef TANGRAM_BLEND_ADD\n                color.a = _stroke_alpha + _fill_alpha;\n                color.rgb = color.rgb * _fill_alpha + v_outline_color.rgb * _stroke_alpha;\n            #else // TANGRAM_BLEND_OVERLAY (and fallback for not implemented blending modes)\n                color.a = _stroke_alpha + _fill_alpha * (1. - _stroke_alpha);\n                color.rgb = mix(color.rgb * _fill_alpha, v_outline_color.rgb, _stroke_alpha) / max(color.a, 0.001); // avoid divide by zero\n            #endif\n        }\n    #else\n        // If shader points not supported, assume label texture\n        color = texture2D(u_texture, v_texcoord);\n        color.rgb /= max(color.a, 0.001); // un-multiply canvas texture\n    #endif\n\n    // Shader blocks for color/filter are only applied for sprites, shader points, and standalone text,\n    // NOT for text attached to a point (N.B.: for compatibility with ES)\n    if (u_apply_color_blocks) {\n        #pragma tangram: color\n        #pragma tangram: filter\n    }\n\n    color.a *= v_alpha_factor;\n\n    // highlight hidden label in fragment shader for debugging\n    #ifdef TANGRAM_SHOW_HIDDEN_LABELS\n        if (v_label_hidden > 0.) {\n            color.a *= 0.5;\n            color.rgb = vec3(1., 0., 0.);\n        }\n    #endif\n\n    // Use alpha test as a lower-quality substitute\n    // For opaque and translucent: avoid transparent pixels writing to depth buffer, obscuring geometry underneath\n    // For multiply: avoid transparent pixels multiplying geometry underneath to zero/full black\n    #if defined(TANGRAM_BLEND_OPAQUE) || defined(TANGRAM_BLEND_TRANSLUCENT) || defined(TANGRAM_BLEND_MULTIPLY)\n        if (color.a < TANGRAM_ALPHA_TEST) {\n            discard;\n        }\n    #endif\n\n    gl_FragColor = color;\n}\n",selection:!0,collision:!0,blend:"overlay",init:function(t){void 0===t&&(t={}),fo.init.call(this,t),this.setupDefines(),this.defines.TANGRAM_HAS_SHADER_POINTS=!0,this.defines.TANGRAM_POINT_TYPE_TEXTURE=1,this.defines.TANGRAM_POINT_TYPE_LABEL=2,this.defines.TANGRAM_POINT_TYPE_SHADER=3,this.collision_group_points=this.name+"-points",this.collision_group_text=this.name+"-text",this.stencil_proxy_tiles=!1,this.reset()},setupDefines:function(){"overlay"!==this.blend&&(this.defines.TANGRAM_LAYER_ORDER=!0),!0===ni.suppress_label_fade_in?(this.fade_in_time=0,this.defines.TANGRAM_FADE_IN_RATE=null):(this.fade_in_time=.15,this.defines.TANGRAM_FADE_IN_RATE=1/this.fade_in_time),!0!==ni.suppress_label_snap_animation&&(this.defines.TANGRAM_VIEW_PAN_SNAP_RATE=2),!0===ni.show_hidden_labels&&(this.defines.TANGRAM_SHOW_HIDDEN_LABELS=!0)},reset:function(){this.queues={},this.resetText(),this.texture_missing_sprites={}},addFeature:function(t,e,n){var i=n.tile;if(i.generation===this.generation){var r={};if(r.color=this.parseColor(e.color,n),r.texture=e.texture,r.label_texture=null,r.blend_order=e.blend_order,r.color||r.texture){var o;if(this.hasSprites(r)){if(!(o=this.parseSprite(r,e,n)))return void Kn({level:"debug",once:!0},"Layer group '"+e.layers.join(", ")+"' uses a texture '"+r.texture+"', but doesn't specify which sprite to draw. Features that match this layer group won't be drawn without specifying the sprite with the 'sprite' or 'sprite_default' properties. The merged draw parameters for this layer group are:",e).then(function(n){n&&Kn("debug","Example feature for layer group '"+e.layers.join(", ")+"'",t)});r.texcoords=o.texcoords}else if(e.sprite)return void Kn({level:"warn",once:!0},"Layer group '"+e.layers.join(", ")+"' specifies sprite '"+e.sprite+"', but the texture '"+e.texture+"' doesn't define any sprites. Features that match this layer group won't be drawn. The merged draw parameters for this layer group are:",e);if(this.calcSize(e,r,o,n),e.outline&&(r.outline_width=Ir.evalCachedProperty(e.outline.width,n)||Ir.defaults.outline.width,r.outline_color=this.parseColor(e.outline.color,n)),r.outline_edge_pct=0,r.outline_width&&r.outline_color){var s=r.outline_width;r.size[0]+=s,r.size[1]+=s,r.outline_edge_pct=s/Math.min(r.size[0],r.size[1])*2}r.size[0]=Math.min(r.size[0],256),r.size[1]=Math.min(r.size[1],256),r.placement=e.placement,r.placement_min_length_ratio=Ir.evalCachedProperty(e.placement_min_length_ratio,n),r.placement===$a.SPACED&&e.placement_spacing&&(r.placement_spacing=Ir.evalCachedProperty(e.placement_spacing,n)),r.angle=Ir.evalProperty(e.angle,n)||0,r.z=Ir.evalCachedDistanceProperty(e.z,n)||Ir.defaults.z,r.tile_edges=e.tile_edges,this.computeLayout(r,t,e,n,i);var a=e.text&&!1!==e.text.visible&&this.parseTextFeature(t,e.text,n,i);Array.isArray(a)&&(a=null,Kn({level:"warn",once:!0},"Layer group '"+e.layers.join(", ")+"': cannot use boundary labels (e.g. 'text_source: { left: ..., right: ... }') for 'text' labels attached to 'points'; provided 'text_source' value was "+JSON.stringify(e.text.text_source))),a&&(a.layout.parent=r,a.layout.priority=e.text.priority?Math.max(a.layout.priority,r.priority+.5):r.priority+.5,Xs.addStyle(this.collision_group_text,i.id)),this.queueFeature({feature:t,draw:e,context:n,style:r,text_feature:a},i),Xs.addStyle(this.collision_group_points,i.id)}}},calcSize:function(t,e,n,i){if(e.size=t.size,e.size){if(e.size=Ir.evalCachedPointSizeProperty(t.size,n,Ui.textures[e.texture],i),null==e.size)return void Kn({level:"warn",once:!0},"Layer group '"+t.layers.join(", ")+"': 'size' ("+JSON.stringify(t.size.value)+") couldn't be interpreted, features that match this layer group won't be drawn");"number"==typeof e.size&&(e.size=[e.size,e.size])}else e.size=n&&n.css_size||[16,16]},hasSprites:function(t){return t.texture&&Ui.textures[t.texture]&&Ui.textures[t.texture].sprites},getSpriteInfo:function(t,e){var n=Ui.textures[t.texture].sprites[e]&&Ui.getSpriteInfo(t.texture,e);return e&&!n?(this.texture_missing_sprites[t.texture]=this.texture_missing_sprites[t.texture]||{},this.texture_missing_sprites[t.texture][e]||(Kn("debug","Style: in style '"+this.name+"', could not find sprite '"+e+"' for texture '"+t.texture+"'"),this.texture_missing_sprites[t.texture][e]=!0)):n&&(n.sprite=e),n},parseSprite:function(t,e,n){var i=Ir.evalProperty(e.sprite,n);return this.getSpriteInfo(t,i)||this.getSpriteInfo(t,e.sprite_default)},queueFeature:function(t,e){this.tile_data[e.id]&&this.queues[e.id]||this.startData(e),this.queues[e.id]=this.queues[e.id]||[],this.queues[e.id].push(t)},endData:function(t){return new Promise(function(e,n){var i,r,o,s,a,u,l,c,h,f;return i=this,t.canceled?(Kn("trace","Style "+this.name+": stop tile build because tile was canceled: "+t.key),e(null)):(r=this.queues[t.id],delete this.queues[t.id],o=[],s=[],r.forEach(function(t){for(var e=t.style,n=t.feature,r=n.geometry,a=i.buildLabels(e.size,r,e),u=0;u<a.length;u++){var l=a[u],c={feature:n,draw:t.draw,context:t.context,style:e,label:l};if(s.push(c),t.text_feature){var h={feature:n,draw:t.text_feature.draw,context:t.context,text:t.text_feature.text,text_settings_key:t.text_feature.text_settings_key,layout:t.text_feature.layout,point_label:l,linked:c};o.push(h),t.draw.text.optional||(c.linked=h)}}}),Promise.resolve(Promise.all([Xs.collide(s,this.collision_group_points,t.id).then(function(t){t.forEach(function(t){i.feature_style=t.style,i.feature_style.label=t.label,i.feature_style.linked=t.linked,fo.addFeature.call(i,t.feature,t.draw,t.context)})}),this.collideAndRenderTextLabels(t,this.collision_group_text,o)])).then(function(r){try{return a=r[1],u=a.labels,l=a.texts,c=a.textures,u&&l&&u.forEach(function(t){var e=t.text_settings_key,n=l[e]&&l[e][t.text],r=i.feature_style;r.label=t.label,r.linked=t.linked,r.size=n.size.logical_size,r.texcoords=n.align[t.label.align].texcoords,r.label_texture=c[n.align[t.label.align].texture_id],r.blend_order=t.draw.blend_order,fo.addFeature.call(i,t.feature,t.draw,t.context)}),this.freeText(t),Promise.resolve(fo.endData.call(this,t)).then(function(t){try{return(h=t)&&c&&c.length&&(h.textures=h.textures||[],(f=h.textures).push.apply(f,c)),e(h)}catch(t){return n(t)}},n)}catch(t){return n(t)}}.bind(this),n))}.bind(this))},_preprocess:function(t){t.color=Ir.createColorPropertyCache(t.color),t.texture=void 0!==t.texture?t.texture:this.texture,t.blend_order=this.getBlendOrderForDraw(t),t.outline&&(t.outline.color=Ir.createColorPropertyCache(t.outline.color),t.outline.width=Ir.createPropertyCache(t.outline.width,Ir.parsePositiveNumber)),t.z=Ir.createPropertyCache(t.z,Ir.parseUnits);try{t.size=Ir.createPointSizePropertyCache(t.size,t.texture)}catch(e){return Kn({level:"warn",once:!0},"Layer group '"+t.layers.join(", ")+"': "+e+" ("+JSON.stringify(t.size)+"), features that match this layer group won't be drawn."),null}if(t.offset=Ir.createPropertyCache(t.offset,function(t){return Array.isArray(t)&&t.map(Ir.parseNumber)}),t.buffer=Ir.createPropertyCache(t.buffer,function(t){return(Array.isArray(t)?t:[t,t]).map(Ir.parsePositiveNumber)}),t.repeat_distance=Ir.createPropertyCache(t.repeat_distance,Ir.parseNumber),t.placement=$a[t.placement&&t.placement.toUpperCase()],null==t.placement&&(t.placement=$a.VERTEX),t.placement_spacing=null!=t.placement_spacing?t.placement_spacing:80,t.placement_spacing=Ir.createPropertyCache(t.placement_spacing,Ir.parsePositiveNumber),t.placement_min_length_ratio=null!=t.placement_min_length_ratio?t.placement_min_length_ratio:1,t.placement_min_length_ratio=Ir.createPropertyCache(t.placement_min_length_ratio,Ir.parsePositiveNumber),"number"==typeof t.angle)t.angle=t.angle*Math.PI/180;else if("function"==typeof t.angle){var e=t.angle;t.angle=function(t){return e(t)*Math.PI/180}}else t.angle=t.angle||0;return t.text=this.preprocessText(t.text),t.text&&(t.text.key=t.key,t.text.group=t.group,t.text.layers=t.layers,t.text.order=t.order,t.text.blend_order=t.blend_order,t.text.repeat_group=null!=t.text.repeat_group?t.text.repeat_group:t.repeat_group,t.text.anchor=t.text.anchor||this.default_anchor,t.text.optional="boolean"==typeof t.text.optional&&t.text.optional,t.text.interactive=t.text.interactive||t.interactive),t},default_anchor:["bottom","top","right","left"],computeLayout:function(t,e,n,i,r){var o=t||{};o.id=e,o.units_per_pixel=r.units_per_pixel||1,o.collide=!1!==n.collide,o.anchor=n.anchor,o.offset=Ir.evalCachedProperty(n.offset,i)||Ir.zeroPair,o.buffer=Ir.evalCachedProperty(n.buffer,i)||Ir.zeroPair,o.repeat_distance=Ir.evalCachedProperty(n.repeat_distance,i),o.repeat_distance&&(o.repeat_distance*=o.units_per_pixel,o.repeat_scale=1,"function"==typeof n.repeat_group?o.repeat_group=n.repeat_group(i):o.repeat_group=n.repeat_group||i.layer);var s=n.priority;return null!=s?"function"==typeof s&&(s=s(i)):s=-1>>>0,o.priority=s,o},buildTextLabels:function(t,e){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=this.texts[t.id][r.text_settings_key][r.text].size.collision_size;r.label=new Ys(r.point_label.position,o,r.layout),n.push(r)}return n},buildLabels:function(t,e,n){var i=[];if("Point"===e.type)i.push(new Ys(e.coordinates,t,n,n.angle));else if("MultiPoint"===e.type)for(var r=e.coordinates,o=0;o<r.length;++o){var s=r[o];i.push(new Ys(s,t,n,n.angle))}else if("LineString"===e.type)for(var a=Qs(e.coordinates,t,n),u=0;u<a.length;++u)i.push(a[u]);else if("MultiLineString"===e.type)for(var l=e.coordinates,c=0;c<l.length;c++)for(var h=Qs(l[c],t,n),f=0;f<h.length;++f)i.push(h[f]);else if("Polygon"===e.type)if(n.placement===$a.CENTROID){var d=or.centroid(e.coordinates);d&&i.push(new Ys(d,t,n,n.angle))}else for(var p=e.coordinates,m=0;m<p.length;m++)for(var _=Qs(p[m],t,n),v=0;v<_.length;++v)i.push(_[v]);else if("MultiPolygon"===e.type)if(n.placement===$a.CENTROID){var g=or.multiCentroid(e.coordinates);g&&i.push(new Ys(g,t,n,n.angle))}else for(var y=e.coordinates,b=0;b<y.length;b++)for(var x=y[b],w=0;w<x.length;w++)for(var T=Qs(x[w],t,n),A=0;A<T.length;++A)i.push(T[A]);return i},makeVertexTemplate:function(t,e){var n=0;this.vertex_template[n++]=0,this.vertex_template[n++]=0,this.vertex_template[n++]=t.z||0,this.vertex_template[n++]=this.scaleOrder(t.order),this.vertex_template[n++]=0,this.vertex_template[n++]=0,this.vertex_template[n++]=0,this.vertex_template[n++]=t.label.layout.collide?0:1,e.variant.shader_point||(this.vertex_template[n++]=0,this.vertex_template[n++]=0),this.vertex_template[n++]=0,this.vertex_template[n++]=0;var i=t.color||Ir.defaults.color;if(this.vertex_template[n++]=255*i[0],this.vertex_template[n++]=255*i[1],this.vertex_template[n++]=255*i[2],this.vertex_template[n++]=255*i[3],e.variant.selection&&(this.vertex_template[n++]=255*t.selection_color[0],this.vertex_template[n++]=255*t.selection_color[1],this.vertex_template[n++]=255*t.selection_color[2],this.vertex_template[n++]=255*t.selection_color[3]),e.variant.shader_point){var r=t.outline_color||Ir.defaults.outline.color;this.vertex_template[n++]=255*r[0],this.vertex_template[n++]=255*r[1],this.vertex_template[n++]=255*r[2],this.vertex_template[n++]=255*r[3],this.vertex_template[n++]=t.outline_edge_pct||Ir.defaults.outline.width}return this.vertex_template},buildQuad:function(t,e,n,i,r,o,s,a,u,l,c){return e[0]<=0||e[1]<=0?0:function(t,e,n,i,r,o,s,a,u,l,c,h){var f=128*r[0],d=128*r[1];Ps[0]=-f,Ps[1]=-d,Ps[2]=f,Ps[3]=d;for(var p=c||Ao,m=e.vertex_elements,_=e.vertex_count,v=0;v<4;v++)n[i.a_position+0]=t[0],n[i.a_position+1]=t[1],n[i.a_shape+0]=Ps[Os[v]],n[i.a_shape+1]=Ps[Ls[v]],n[i.a_shape+2]=u,n[i.a_offset+0]=o[0],n[i.a_offset+1]=o[1],i.a_texcoord&&(n[i.a_texcoord+0]=65535*p[Os[v]],n[i.a_texcoord+1]=65535*p[Ls[v]]),h&&(n[i.a_pre_angles+0]=ks*a[0],n[i.a_pre_angles+1]=ks*a[1],n[i.a_pre_angles+2]=ks*a[2],n[i.a_pre_angles+3]=ks*a[3],n[i.a_angles+0]=Cs*l[0],n[i.a_angles+1]=Cs*l[1],n[i.a_angles+2]=Cs*l[2],n[i.a_angles+3]=Cs*l[3],n[i.a_offsets+0]=64*s[0],n[i.a_offsets+1]=64*s[1],n[i.a_offsets+2]=64*s[2],n[i.a_offsets+3]=64*s[3]),e.addVertex(n);return m.push(_+0),m.push(_+1),m.push(_+2),m.push(_+2),m.push(_+3),m.push(_+0),2}(t,l,c,l.vertex_layout.index,e,o,s,r,4096*n,i,a,u)},build:function(t,e){var n=t.label;return"curved"===n.type?this.buildCurvedLabel(n,t,e):this.buildStraightLabel(n,t,e)},buildStraightLabel:function(t,e,n){var i,r,o=this.getTileMesh(n.tile,this.meshVariantTypeForDraw(e)),s=this.makeVertexTemplate(e,o);"point"!==t.type?(i=e.size[t.type],r=e.texcoords[t.type].texcoord):(i=e.size,r=e.texcoords),o.uniforms=o.uniforms||{},e.label_texture?(o.uniforms.u_texture=e.label_texture,o.uniforms.u_point_type=2,o.uniforms.u_apply_color_blocks=!1):e.texture?(o.uniforms.u_texture=e.texture,o.uniforms.u_point_type=1,o.uniforms.u_apply_color_blocks=!0):(o.uniforms.u_texture=Ui.default,o.uniforms.u_point_type=3,o.uniforms.u_apply_color_blocks=!0);var a=t.offset,u=this.buildQuad(t.position,i,t.angle,null,null,a,null,r,!1,o.vertex_data,s),l=e.linked&&e.linked.label.id;return this.trackLabel(t,l,o,u,n),u},buildCurvedLabel:function(t,e,n){for(var i,r,o=0,s=0;s<t.num_segments;s++){var a=e.size[t.type][s],u=e.texcoords_stroke[s];e.label_texture=e.label_textures[s],i=this.getTileMesh(n.tile,this.meshVariantTypeForDraw(e)),r=this.makeVertexTemplate(e,i),i.uniforms=i.uniforms||{},i.uniforms.u_texture=e.label_texture,i.uniforms.u_point_type=2,i.uniforms.u_apply_color_blocks=!1;var l=t.offset||[0,0],c=t.position,h=t.angles[s],f=t.offsets[s],d=t.pre_angles[s],p=this.buildQuad(c,a,t.angle,h,d,l,f,u,!0,i.vertex_data,r);o+=p;var m=e.linked&&e.linked.label.id;this.trackLabel(t,m,i,p,n)}for(var _=0;_<t.num_segments;_++){var v=e.size[t.type][_],g=e.texcoords[t.type][_].texcoord;e.label_texture=e.label_textures[_],i=this.getTileMesh(n.tile,this.meshVariantTypeForDraw(e)),r=this.makeVertexTemplate(e,i),i.uniforms=i.uniforms||{},i.uniforms.u_texture=e.label_texture,i.uniforms.u_point_type=2,i.uniforms.u_apply_color_blocks=!1;var y=t.offset||[0,0],b=t.position,x=t.angles[_],w=t.offsets[_],T=t.pre_angles[_],A=this.buildQuad(b,v,t.angle,x,T,y,w,g,!0,i.vertex_data,r);o+=A;var E=e.linked&&e.linked.label.id;this.trackLabel(t,E,i,A,n)}return o},trackLabel:function(t,e,n,i){if(t.layout.collide||t.may_repeat_across_tiles){n.labels=n.labels||{},n.labels[t.id]=n.labels[t.id]||{container:{label:t.toJSON(),linked:e},ranges:[]};var r=2*i,o=n.vertex_data.offset-n.vertex_data.stride*r;n.labels[t.id].ranges.push([o,r])}},buildLines:function(t,e,n){return this.build(e,n)},buildPoints:function(t,e,n){return this.build(e,n)},buildPolygons:function(t,e,n){return this.build(e,n)},vertexLayoutForMeshVariant:function(t){if(null==Wa.vertex_layouts[t.shader_point]){var e=[{name:"a_position",size:4,type:mo.SHORT,normalized:!1},{name:"a_shape",size:4,type:mo.SHORT,normalized:!1},{name:"a_texcoord",size:2,type:mo.UNSIGNED_SHORT,normalized:!0,static:t.shader_point?[0,0]:null},{name:"a_offset",size:2,type:mo.SHORT,normalized:!1},{name:"a_color",size:4,type:mo.UNSIGNED_BYTE,normalized:!0},{name:"a_selection_color",size:4,type:mo.UNSIGNED_BYTE,normalized:!0,static:t.selection?null:[0,0,0,0]},{name:"a_outline_color",size:4,type:mo.UNSIGNED_BYTE,normalized:!0,static:t.shader_point?null:[0,0,0,0]},{name:"a_outline_edge",size:1,type:mo.FLOAT,normalized:!1,static:t.shader_point?null:0}];Wa.vertex_layouts[t.shader_point]=new wo(e)}return Wa.vertex_layouts[t.shader_point]},meshVariantTypeForDraw:function(t){var e=t.label_texture||t.texture||"__shader_point",n=e+"/"+t.blend_order;return null==Wa.variants[n]&&(Wa.variants[n]={key:n,selection:1,shader_point:"__shader_point"===e,blend_order:t.blend_order,mesh_order:t.label_texture?1:0}),Wa.variants[n]},makeMesh:function(t,e,n){return void 0===n&&(n={}),n=Object.assign({},n,{fade_in_time:this.fade_in_time}),fo.makeMesh.call(this,t,e,n)}});var Ga=Math.abs;j(j.S,"Math",{hypot:function(t,e){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=Ga(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):r+=n>0?(i=n/a)*i:n;return a===1/0?1/0:a*Math.sqrt(r)}});var qa=[0,.33,.66,.99],Va=function(t,e,n,i){for(var r=[{type:"straight",tolerance:i.no_curving?1.8:1.5},{type:"curved"},{type:"straight",tolerance:2.3}],o=0;o<r.length;o++){var s=r[o],a=void 0;if("straight"===s.type?a=new Xa(e,n,i,s.tolerance):"curved"===s.type&&!i.no_curving&&n.length>2&&(a=new Ya(t,n,i)),a&&!a.throw_away)return a}return!1},Za=function(){function t(t){this.id=qs.nextLabelId(),this.layout=t,this.position=[],this.angle=0,this.offset=t.offset.slice(),this.unit_scale=this.layout.units_per_pixel,this.obbs=[],this.aabbs=[],this.type="",this.throw_away=!1}var e=t.prototype;return e.toJSON=function(){return{id:this.id,type:this.type,position:this.position,size:this.size,offset:this.offset,angle:this.angle,breach:this.breach,may_repeat_across_tiles:this.may_repeat_across_tiles,layout:Vs(this.layout)}},t.splitLineByOrientation=function(t){for(var e=[t[0]],n=0,i=0,r=0,o=e,s=!1,a=1;a<t.length;a++){var u=t[a],l=t[a-1],c=Kr.length(Kr.sub(u,l));u[0]>l[0]?1===r?(e.push(u),(n+=c)>i&&(o=e,i=n,s=!1)):(e=[l,u],(n=c)>i&&(o=e,i=n,s=!1),r=1):u[0]<l[0]?-1===r?(e.unshift(u),(n+=c)>i&&(o=e,i=n,s=!0)):(e=[u,l],(n=c)>i&&(o=e,i=n,s=!0),r=-1):(-1===r?e.unshift(u):(e.push(u),r=1),(n+=c)>i&&(o=e,i=n,s=-1===r))}return[o,s]},e.discard=function(t,e){if(void 0===e&&(e=null),this.throw_away)return!0;for(var n=0;n<this.obbs.length;n++){var i={aabb:this.aabbs[n],obb:this.obbs[n]};if(qs.prototype.occluded.call(i,t,e))return!0}return!1},e.inTileBounds=function(){for(var t=0;t<this.aabbs.length;t++){var e={aabb:this.aabbs[t]};if(!qs.prototype.inTileBounds.call(e))return!1}return!0},t.createOBB=function(t,e,n,i,r,o,s){var a=t[0],u=t[1];return!o||0===o[0]&&0===o[1]||(a+=(o=Kr.rot(o,r))[0]*s,u-=o[1]*s),new Gs(a,u,-i,e,n)},t}(),Xa=function(t){function e(e,n,i,r){var o;return(o=t.call(this,i)||this).type="straight",o.size=e,o.throw_away=!o.fit(e,n,i,r),o}Pn(e,t);var n=e.prototype;return n.fit=function(t,e,n,i){var r,o=this.unit_scale,s=Za.splitLineByOrientation(e);e=s[0],r=s[1],"number"==typeof n.orientation&&(this.offset[1]+=1.2*(t[1]-n.vertical_buffer),r&&(this.offset[1]*=-1),-1===n.orientation&&(this.offset[1]*=-1));for(var a=Qa(e),u=t[0]*o,l=0;l<e.length-1;l++)for(var c=e[l],h=0,f=0,d=l+1,p=void 0;d<e.length;){var m=e[d-1],_=e[d],v=Ja(m,_);if(d!==l+1&&(h+=tu(v,p)),Math.abs(h)>.1)break;if(Ka(f+=a[d-1],u)<i){var g=Kr.mult(Kr.add(c,_),.5);return this.angle=-v,Math.abs(this.angle-Math.PI/2)<.01&&(this.angle=-Math.PI/2,"number"==typeof n.orientation&&(this.offset[1]*=-1)),this.position=g,this.updateBBoxes(this.position,t,this.angle,this.angle,this.offset),!0}p=v,d++}return!1},n.updateBBoxes=function(t,e,n,i,r){var o=this.unit_scale;this.obbs=[],this.aabbs=[];var s=(e[0]+2*this.layout.buffer[0])*o*qs.epsilon,a=(e[1]+2*this.layout.buffer[1])*o*qs.epsilon,u=Za.createOBB(t,s,a,n,i,r,o),l=u.getExtent();this.obbs.push(u),this.aabbs.push(l),this.inTileBounds&&(this.breach=!this.inTileBounds()),this.mayRepeatAcrossTiles&&(this.may_repeat_across_tiles=this.mayRepeatAcrossTiles())},e}(Za),Ya=function(t){function e(e,n,i){var r;return(r=t.call(this,i)||this).type="curved",r.angles=[],r.pre_angles=[],r.offsets=[],r.num_segments=e.length,r.sizes=e,r.throw_away=!r.fit(r.sizes,n,i),r}Pn(e,t);var n=e.prototype;return n.toJSON=function(){return{id:this.id,type:this.type,obbs:this.obbs.map(function(t){return t.toJSON()}),position:this.position,breach:this.breach,may_repeat_across_tiles:this.may_repeat_across_tiles,layout:Vs(this.layout)}},n.fit=function(t,n,i){var r,o=this.unit_scale,s=Math.max.apply(Math,t.map(function(t){return t[1]})),a=s*o,u=Za.splitLineByOrientation(n);n=u[0],r=u[1],"number"==typeof i.orientation&&(this.offset[1]+=1.2*(s-i.vertical_buffer),r&&(this.offset[1]*=-1),-1===i.orientation&&(this.offset[1]*=-1));var l=Qa(n),c=t.map(function(t){return t[0]*o}),h=l.reduce(function(t,e){return t+e},0),f=c.reduce(function(t,e){return t+e},0);if(f>h)return!1;var d=n.length-1;if(d-0<2)return!1;var p=e.curvaturePlacement(n,h,l,f,0,d),m=n[p];if(-1===p||d-p<2)return!1;this.position=m;for(var _=0;_<c.length;_++){this.offsets[_]=[],this.angles[_]=[],this.pre_angles[_]=[];for(var v=0;v<qa.length;v++){var g=qa[v],y=e.scaleLine(g,n),b=y[0],x=y[1];m=b[p];var w=e.placeAtIndex(p,b,x,c),T=w.positions,A=w.offsets,E=w.angles,S=w.pre_angles,k=A.map(function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])/o});if(0===g){this.angle=1/E.length*E.reduce(function(t,e){return t+e});for(var C=0;C<T.length;C++){var O=T[C],L=S[C],P=c[C],R=L+E[C],M=this.angle,I=Za.createOBB(O,P,a,R,M,this.offset,o),N=I.getExtent();this.obbs.push(I),this.aabbs.push(N)}}this.offsets[_].push(k[_]),this.angles[_].push(E[_]),this.pre_angles[_].push(S[_])}}return!0},e.curvaturePlacement=function(t,e,n,i,r,o){r=r||0,o=o||t.length-1;for(var s=[],a=r+1;a<o;a++){var u=t[a-1],l=t[a],c=t[a+1],h=Kr.perp(l,u),f=Kr.perp(c,l),d=Kr.angleBetween(h,f);d>1&&(d=1/0),s.push(d)}s.push(1/0);for(var p=[],m=[],_=r,v=0,g=0;g<r;g++)v+=n[g];for(;v+i<e;){for(var y=v+i,b=v,x=_,w=0;x<o&&b+n[x]<y&&(w+=s[x])!==1/0;)b+=n[x],x++;if(0===w)return _;var T=w/(x-_);p.push(w),m.push(T),v+=n[_],_++}if(0===p.length)return-1;var A=Math.min.apply(null,p),E=m[p.indexOf(A)];return A<1.3&&E<.4?p.indexOf(A):-1},e.scaleLine=function(t,e){var n=[e[0]],i=[];return e.forEach(function(r,o){if(o!==e.length-1){var s=Kr.sub(e[o+1],e[o]),a=Kr.mult(s,1+t);n.push(Kr.add(n[o],a)),i.push(Kr.length(a))}}),[n,i]},e.placeAtIndex=function(t,n,i,r){var o=n[t],s=e.getIndicesAndOffsets(t,i,r),a=s[0],u=s[1],l=e.getPositionsFromIndicesAndOffsets(n,a,u),c=e.getAnglesFromIndicesAndOffsets(o,a,n,l);return{positions:l,offsets:c[0],angles:c[1],pre_angles:c[2]}},e.getIndicesAndOffsets=function(t,e,n){for(var i=n.length,r=[],o=[],s=0,a=0,u=0;s<i;){for(var l=n[s];s<i&&a+.5*l<=u+e[t];){var c=a-u+.5*l;o.push(c),r.push(t),a+=l,l=n[++s]}u+=e[t],t++}return[r,o]},e.getPositionsFromIndicesAndOffsets=function(t,e,n){for(var i=[],r=0;r<e.length;r++){var o=e[r],s=n[r],a=Ja(t[o],t[o+1]),u=Kr.rot([s,0],a),l=Kr.add(t[o],u);i.push(l)}return i},e.getAnglesFromIndicesAndOffsets=function(t,e,n,i){for(var r=[],o=[],s=[],a=0;a<i.length;a++){var u=i[a],l=e[a],c=Kr.sub(u,t),h=-Kr.angle(c),f=-Ja(n[l],n[l+1])-h;if(a>0){var d=r[a-1],p=o[a-1];Math.abs(h-d)>Math.PI&&(h+=h>d?-2*Math.PI:2*Math.PI),Math.abs(p-f)>Math.PI&&(f+=f>p?-2*Math.PI:2*Math.PI)}r.push(h),o.push(f),s.push(c)}return[s,r,o]},e}(Za);function Ka(t,e){return e/t}function Ja(t,e){var n=Kr.sub(e,t);return Kr.angle(n)}function Qa(t){for(var e=[],n=0;n<t.length-1;n++){var i=t[n],r=t[n+1],o=Math.hypot(i[0]-r[0],i[1]-r[1]);e.push(o)}return e}function tu(t,e){var n,i;for(t>e?(n=e,i=t):(n=t,i=e);i-n>Math.PI;)n+=2*Math.PI;return Math.abs(i-n)}var eu=Object.create(Wa);eu.vertex_layouts={},Object.assign(eu,{name:"text",super:Wa,built_in:!0,init:function(t){void 0===t&&(t={}),fo.init.call(this,t),this.setupDefines(),this.defines.TANGRAM_HAS_SHADER_POINTS=!1,this.defines.TANGRAM_CURVED_LABEL=!0,this.reset()},makeVertexTemplate:function(t,e){this.super.makeVertexTemplate.apply(this,arguments);for(var n=e.vertex_data.vertex_layout.index.a_pre_angles,i=0;i<12;i++)this.vertex_template[n++]=0;return this.vertex_template},reset:function(){this.queues={},this.resetText()},addFeature:function(t,e,n){var i=this,r=n.tile;if(r.generation===this.generation){var o=t.geometry.type;e.can_articulate="LineString"===o||"MultiLineString"===o,e.supersample_text="LineString"===o||"MultiLineString"===o;var s=this.parseTextFeature(t,e,n,r);s&&(s instanceof Array?s.forEach(function(e){e.feature=t,e.context=n,e.layout.vertex=!1,i.queueFeature(e,r)}):(s.feature=t,s.context=n,s.layout.vertex=!1,this.queueFeature(s,r)),Xs.addStyle(this.name,r.id))}},endData:function(t){return new Promise(function(e,n){var i,r,o,s,a,u,l,c;return i=this,r=this.queues[t.id],delete this.queues[t.id],Promise.resolve(this.collideAndRenderTextLabels(t,this.name,r)).then(function(r){try{return s=(o=r).labels,a=o.texts,u=o.textures,s&&a&&(this.texts[t.id]=a,s.forEach(function(e){var n=e.text_settings_key,r=i.texts[t.id][n]&&i.texts[t.id][n][e.text],o=i.feature_style;o.label=e.label,r.text_settings.can_articulate?(o.size={},o.texcoords={},"straight"===e.label.type?(o.size.straight=r.size.logical_size,o.texcoords.straight=r.texcoords.straight,o.label_texture=u[r.texcoords.straight.texture_id]):(o.size.curved=r.segment_sizes.map(function(t){return t.logical_size}),o.texcoords_stroke=r.texcoords_stroke,o.texcoords.curved=r.texcoords.curved,o.label_textures=r.texcoords.curved.map(function(t){return u[t.texture_id]}))):(o.size=r.size.logical_size,o.texcoords=r.align[e.label.align].texcoords,o.label_texture=u[r.align[e.label.align].texture_id]),o.blend_order=e.draw.blend_order,fo.addFeature.call(i,e.feature,e.draw,e.context)})),this.freeText(t),Promise.resolve(fo.endData.call(this,t)).then(function(t){try{if(l=t)for(var i in u&&u.length&&(c=l.textures).push.apply(c,u),l.meshes)l.meshes[i].uniforms.u_apply_color_blocks=!0;return e(l)}catch(t){return n(t)}},n)}catch(t){return n(t)}}.bind(this),n)}.bind(this))},_preprocess:function(t){return t.blend_order=this.getBlendOrderForDraw(t),this.preprocessText(t)},buildTextLabels:function(t,e){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=this.texts[t.id][r.text_settings_key][r.text],s=void 0;if(r.layout.vertical_buffer=o.vertical_buffer,o.text_settings.can_articulate){var a=o.segment_sizes.map(function(t){return t.collision_size});r.layout.no_curving=o.no_curving,s=this.buildLabels(a,r.feature.geometry,r.layout,o.size.collision_size)}else s=this.buildLabels(o.size.collision_size,r.feature.geometry,r.layout);for(var u=0;u<s.length;u++){var l=Object.create(r);l.label=s[u],n.push(l)}}return n},buildLabels:function(t,e,n,i){var r=[];if("LineString"===e.type)Array.prototype.push.apply(r,this.buildLineLabels(e.coordinates,t,n,i));else if("MultiLineString"===e.type)for(var o=e.coordinates,s=0;s<o.length;++s)Array.prototype.push.apply(r,this.buildLineLabels(o[s],t,n,i));else if("Point"===e.type)r.push(new Ys(e.coordinates,t,n));else if("MultiPoint"===e.type)for(var a=e.coordinates,u=0;u<a.length;++u)r.push(new Ys(a[u],t,n));else if("Polygon"===e.type){var l=or.centroid(e.coordinates);l&&r.push(new Ys(l,t,n))}else if("MultiPolygon"===e.type){var c=or.multiCentroid(e.coordinates);c&&r.push(new Ys(c,t,n))}return r},buildLineLabels:function(t,e,n,i){var r=[],o=Math.min(n.subdiv,t.length-1);if(o>1)for(var s=(t.length-1)/o,a=0;a<o;a++){var u=Math.floor(a*s),l=Math.floor((a+1)*s)+1,c=t.slice(u,l),h=Va(e,i,c,n);h&&r.push(h)}if(r.length<o){var f=Va(e,i,t,n);f&&r.push(f)}return r},vertexLayoutForMeshVariant:function(t){if(null==eu.vertex_layouts[t.shader_point]){var e=[{name:"a_position",size:4,type:mo.SHORT,normalized:!1},{name:"a_shape",size:4,type:mo.SHORT,normalized:!1},{name:"a_texcoord",size:2,type:mo.UNSIGNED_SHORT,normalized:!0},{name:"a_offset",size:2,type:mo.SHORT,normalized:!1},{name:"a_color",size:4,type:mo.UNSIGNED_BYTE,normalized:!0},{name:"a_selection_color",size:4,type:mo.UNSIGNED_BYTE,normalized:!0,static:t.selection?null:[0,0,0,0]},{name:"a_pre_angles",size:4,type:mo.BYTE,normalized:!1},{name:"a_angles",size:4,type:mo.SHORT,normalized:!1},{name:"a_offsets",size:4,type:mo.UNSIGNED_SHORT,normalized:!1}];eu.vertex_layouts[t.shader_point]=new wo(e)}return eu.vertex_layouts[t.shader_point]}}),eu.texture_id=0;var nu=Object.create(es);Object.assign(nu,{name:"raster",super:es,built_in:!0,init:function(){this.raster=this.raster||"color",this.super.init.apply(this,arguments),this.selection=!1},_preprocess:function(t){return t.color=t.color||Ir.defaults.color,this.super._preprocess.apply(this,arguments)}});var iu=function(){function t(){this.styles={},this.base_styles={},this.active_styles=[],this.active_blend_orders=[],this.register(Object.create(es)),this.register(Object.create(Ss)),this.register(Object.create(Wa)),this.register(Object.create(eu)),this.register(Object.create(nu))}var e=t.prototype;return e.init=function(){Ki.removeBlock("global"),Ki.removeBlock("setup"),Ki.addBlock("global","#ifdef TANGRAM_VERTEX_SHADER\n\n// Apply layer ordering to avoid z-fighting\nvoid applyLayerOrder (float layer, inout vec4 position) {\n    position.z -= layer * TANGRAM_LAYER_DELTA * position.w;\n}\n\n// Vertex position in model space: [0, 1] range over the local tile\n// Note positions can be outside that range due to unclipped geometry, geometry higher than a unit cube, etc.\nvec4 modelPosition() {\n    return\n        vec4(\n            a_position.xyz / TANGRAM_TILE_SCALE         // scale coords to ~0-1 range\n            * exp2(u_tile_origin.z - u_tile_origin.w),  // adjust for tile overzooming\n        1.)\n        + vec4(0., 1., 0., 0.);\n        // NB: additional offset to account for unusual Tangram JS y coords,\n        // should be refactored to remove\n}\n\n// Position in model space as above, but according to tile coordinate (as opposed to style) zoom\n// e.g. unadjusted for tile overzooming\nvec4 modelPositionBaseZoom() {\n    return\n        vec4(\n            a_position.xyz / TANGRAM_TILE_SCALE,    // scale coords to ~0-1 range\n        1.)\n        + vec4(0., 1., 0., 0.); // see note on offset above\n}\n\n#endif\n\n// Vertex position in world coordinates, useful for 3d procedural textures, etc.\nvec4 worldPosition() {\n    return v_world_position;\n}\n\n// Optionally wrap world coordinates (allows more precision at higher zooms)\n// e.g. at wrap 1000, the world space will wrap every 1000 meters\n#ifdef TANGRAM_VERTEX_SHADER\n\nvec4 wrapWorldPosition(vec4 world_position) {\n    #if defined(TANGRAM_WORLD_POSITION_WRAP)\n    vec2 anchor = u_tile_origin.xy - mod(u_tile_origin.xy, TANGRAM_WORLD_POSITION_WRAP);\n        world_position.xy -= anchor;\n    #endif\n    return world_position;\n}\n\n#endif\n\n// Normal in world space\n#if defined(TANGRAM_VERTEX_SHADER)\n\nvec3 worldNormal() {\n    return TANGRAM_NORMAL;\n}\n\n#elif defined(TANGRAM_FRAGMENT_SHADER)\n\nvec3 worldNormal() {\n    return u_inverseNormalMatrix * TANGRAM_NORMAL;\n}\n\n#endif\n"),Ki.addBlock("global","// Vertex attribute + varying for feature selection\n#if defined(TANGRAM_FEATURE_SELECTION) && defined(TANGRAM_VERTEX_SHADER)\n    attribute vec4 a_selection_color;\n    varying vec4 v_selection_color;\n#endif\n"),Ki.replaceBlock("setup","// Selection pass-specific rendering\n#if defined(TANGRAM_FEATURE_SELECTION) && defined(TANGRAM_VERTEX_SHADER)\n    if (a_selection_color.rgb == vec3(0.)) {\n        // Discard by forcing invalid triangle if we're in the feature\n        // selection pass but have no selection info\n        // TODO: in some cases we may actually want non-selectable features to occlude selectable ones?\n        gl_Position = vec4(0., 0., 0., 1.);\n        return;\n    }\n    v_selection_color = a_selection_color;\n#endif\n"),Ki.defines.TANGRAM_EPSILON=1e-5,Ki.defines.TANGRAM_LAYER_DELTA=1/16384,Ki.defines.TANGRAM_TILE_SCALE="vec3("+or.tile_scale+"., "+or.tile_scale+"., u_meters_per_pixel * "+or.tile_size+".)",Ki.defines.TANGRAM_HEIGHT_SCALE=or.height_scale,Ki.defines.TANGRAM_ALPHA_TEST=.5},e.destroy=function(t){var e=this;Object.keys(this.styles).forEach(function(n){var i=e.styles[n];i.gl===t&&(Kn("trace","StyleManager.destroy: destroying render style "+i.name),i.base&&e.remove(i.name),i.destroy())})},e.register=function(t){this.styles[t.name]=t,this.base_styles[t.name]=t},e.remove=function(t){delete this.styles[t]},e.getActiveStyles=function(){return this.active_styles},e.updateActiveStyles=function(t){return this.active_styles=Object.keys(t.reduce(function(t,e){return Object.keys(e.meshes).forEach(function(e){return t[e]=!0}),t},{})),this.active_styles},e.getActiveBlendOrders=function(){return this.active_blend_orders},e.updateActiveBlendOrders=function(t){var e=[];t.forEach(function(t){Object.entries(t.meshes).forEach(function(t){var n=t[0];t[1].forEach(function(t){var i=t.variant.blend_order,r=e.findIndex(function(t){return t.blend_order===i});r=r>-1?r:e.push({blend_order:i,styles:[]})-1,-1===e[r].styles.indexOf(n)&&e[r].styles.push(n)})})}),this.active_blend_orders=e.sort(function(t,e){return t.blend_order-e.blend_order})},e.mix=function(t,e){if(t.mixed)return t;t.mixed={};var n,i=[];t.mix&&(Array.isArray(t.mix)?(n=i).push.apply(n,t.mix):i.push(t.mix),(i=i.map(function(t){return e[t]}).filter(function(e){return e&&e!==t})).forEach(function(e){return t.mixed[e.name]=!0}));i.push(t),t.animated=i.some(function(t){return t&&t.animated}),t.texcoords=i.some(function(t){return t&&t.texcoords}),t.base=i.map(function(t){return t.base}).filter(function(t){return t}).pop(),t.lighting=i.map(function(t){return t.lighting}).filter(function(t){return null!=t}).pop(),t.texture=i.map(function(t){return t.texture}).filter(function(t){return t}).pop(),t.raster=i.map(function(t){return t.raster}).filter(function(t){return null!=t}).pop(),t.dash=i.map(function(t){return t.dash}).filter(function(t){return null!=t}).pop(),t.dash_background_color=i.map(function(t){return t.dash_background_color}).filter(function(t){return null!=t}).pop(),i.some(function(t){return t.hasOwnProperty("blend")&&t.blend})&&(t.blend=i.map(function(t){return t.hasOwnProperty("blend")&&t.blend}).filter(function(t){return t}).pop()),t.blend_order=i.map(function(t){return t.blend_order}).filter(function(t){return null!=t}).pop(),t.defines=Object.assign.apply(Object,[{}].concat(i.map(function(t){return t.defines}).filter(function(t){return t}))),t.material=Object.assign.apply(Object,[{}].concat(i.map(function(t){return t.material}).filter(function(t){return t})));var r=i.map(function(t){return t.draw}).filter(function(t){return t});return r.length>0&&(t.draw=rr.apply(void 0,[{}].concat(r))),this.mixShaders(t,e,i),t},e.mixShaders=function(t,e,n){var i={},r=n.map(function(t){return t.shaders}).filter(function(t){return t});if(i.defines=Object.assign.apply(Object,[{}].concat(r.map(function(t){return t.defines}).filter(function(t){return t}))),i.uniforms={},i._uniforms=t.shaders&&t.shaders.uniforms||{},i._uniform_scopes={},n.filter(function(t){return t.shaders&&t.shaders.uniforms}).forEach(function(t){var n=function(n){i._uniform_scopes[n]=t.name,Object.defineProperty(i.uniforms,n,{enumerable:!0,configurable:!0,get:function(){return void 0!==i._uniforms[n]?i._uniforms[n]:e[i._uniform_scopes[n]].shaders.uniforms!==i.uniforms?e[i._uniform_scopes[n]].shaders.uniforms[n]:void 0},set:function(t){i._uniforms[n]=t}})};for(var r in t.shaders.uniforms)n(r)}),i.extensions=Object.keys(r.map(function(t){return t.extensions}).filter(function(t){return t}).reduce(function(t,e){return"string"==typeof e?t[e]=!0:e.forEach(function(e){return t[e]=!0}),t},{})||{}),t.shaders&&t.shaders.blocks)for(var o in t.shaders.block_scopes=t.shaders.block_scopes||{},t.shaders.blocks){var s,a=t.shaders.blocks[o];t.shaders.block_scopes[o]=t.shaders.block_scopes[o]||[],Array.isArray(a)?(s=t.shaders.block_scopes[o]).push.apply(s,a.map(function(){return t.name})):t.shaders.block_scopes[o].push(t.name)}var u={};return r.forEach(function(t){if(t.blocks){i.blocks=i.blocks||{},i.block_scopes=i.block_scopes||{};var e={};for(var n in t.blocks){var r=t.blocks[n],o=t.block_scopes[n];i.blocks[n]=i.blocks[n]||[],i.block_scopes[n]=i.block_scopes[n]||[],r=Array.isArray(r)?r:[r],o=Array.isArray(o)?o:[o];for(var s=0;s<r.length;s++)u[o[s]]||(e[o[s]]=!0,i.blocks[n].push(r[s]),i.block_scopes[n].push(o[s]))}Object.assign(u,e)}}),Object.assign(t.mixed,u),t.shaders=i,t},e.create=function(t,e,n){void 0===n&&(n={});var i=rr({},e);return i.name=t,(i=this.mix(i,n)).base&&this.base_styles[i.base]?this.styles[t]=i=Object.assign(Object.create(this.base_styles[i.base]),i):i.base=null,i},e.build=function(t){var e=this;this.styles&&Object.values(this.styles).forEach(function(t){return $n.removeTarget(t.main_thread_target)});var n=Object.keys(t).sort(function(n,i){return e.inheritanceDepth(n,t)-e.inheritanceDepth(i,t)});for(var i in this.styles)this.base_styles[i]?this.styles[i].reset():delete this.styles[i];var r={};return n.forEach(function(n){r[n]=e.create(n,t[n],r)}),this.styles},e.initStyles=function(t){for(var e in void 0===t&&(t={}),this.styles)this.styles[e].init(t)},e.inheritanceDepth=function(t,e){for(var n=this,i=0;;){var r=e[t];if(!r)break;if(!r.mix)break;if(i++,Array.isArray(r.mix)){i+=Math.max.apply(Math,r.mix.map(function(i){if(t!==i)return n.inheritanceDepth(i,e)}));break}if(t===r.mix)break;t=r.mix}return i},t}();function ru(t){return null!=t}function ou(t){return"("+t+")"}function su(t){return"string"==typeof t?'"'+t+'"':t}function au(t){return"$"===t[0]?"context['"+t.substring(1)+"']":"context.feature.properties['"+t+"']"}function uu(t,e){return ou(su(e)+" === "+au(t))}function lu(t,e){return ou("["+e.map(su).join(",")+"].indexOf("+au(t)+") > -1")}function cu(t,e){return ou(t.filter(ru).map(function(t){return ou(t.join(" && "))}).join(" "+e+" "))}function hu(t,e,n){return e&&e.length>0?cu(e.map(function(t){return vu(t,n)}),"||"):"true"}function fu(t,e,n){return e&&e.length>0?cu(e.map(function(t){return vu(t,n)}),"&&"):"true"}function du(t,e,n){return"!"+ou(vu(e,n).join(" && "))}function pu(t,e,n){return"!"+ou(hu(0,e,n))}function mu(t,e){return ou(au(t)+(e?" != ":" == ")+"null")}function _u(t,e,n){var i=[],r=n&&"function"==typeof n.rangeTransform&&n.rangeTransform;if(e.max){var o=r?r(e.max):e.max;i.push(au(t)+" < "+o)}if(e.min){var s=r?s=r(e.min):e.min;i.push(au(t)+" >= "+s)}return ou(i.join(" && "))}function vu(t,e){var n=[];if("function"==typeof t)return[ou(t.toString()+"(context)")];if(Array.isArray(t))return[hu(0,t,e)];if(null==t)return["true"];for(var i=Object.keys(t),r=0;r<i.length;r++){var o=i[r],s=t[o],a=typeof s;if("string"===a||"number"===a)n.push(uu(o,s));else if("boolean"===a)n.push(mu(o,s));else if("not"===o)n.push(du(0,s,e));else if("any"===o)n.push(hu(0,s,e));else if("all"===o)n.push(fu(0,s,e));else if("none"===o)n.push(pu(0,s,e));else if(Array.isArray(s))n.push(lu(o,s));else if("object"===a&&null!=s)(s.max||s.min)&&n.push(_u(o,s,e));else{if(null!=s)throw new Error("Unknown Query syntax: "+s);n.push(" true ")}}return 0===i.length?["true"]:n}function gu(t,e){return null==t?function(){return!0}:new Function("context","return "+ou(vu(t,e).join(" && "))+";")}j(j.S,"Number",{MAX_SAFE_INTEGER:9007199254740991});var yu=["filter","draw","visible","enabled","data","exclusive","priority"],bu={};function xu(t,e){for(var n,i=0,r=0;r<t.length;r++)t[r].length>i&&(i=t[r].length);if(0===i)return null;for(var o={visible:!0},s=function(i){if(n=[],t.forEach(function(t){t[i]&&t[i][e]&&-1===n.indexOf(t[i][e])&&n.push(t[i][e])}),0===n.length)return"continue";rr.apply(void 0,[o].concat(n))},a=0;a<i;a++)s(a);return!1===o.visible?null:o}var wu=["any","all","not","none"],Tu=function(){function t(e){var n=e.layer,i=e.name,r=e.parent,o=e.draw,s=e.visible,a=e.enabled,u=e.filter,l=e.exclusive,c=e.priority,h=e.styles;if(this.id=t.id++,this.config_data=n.data,this.parent=r,this.name=i,this.full_name=this.parent?this.parent.full_name+":"+this.name:this.name,this.draw=o,this.filter=u,this.exclusive=!0===l,this.priority=null!=c?c:Number.MAX_SAFE_INTEGER,this.styles=h,this.is_built=!1,a=void 0===a?s:a,this.enabled=!1!==a,this.draw)for(var f in this.draw)if(this.draw[f]=null==this.draw[f]?{}:this.draw[f],"object"!=typeof this.draw[f]){var d="Draw group '"+f+"' for layer "+this.full_name+" is invalid, must be an object, ";Kn("warn",d+="but was set to `"+f+": "+this.draw[f]+"` instead"),delete this.draw[f]}}var e=t.prototype;return e.build=function(){Kn("trace","Building layer '"+this.full_name+"'"),this.buildFilter(),this.buildDraw(),this.is_built=!0},e.buildDraw=function(){this.draw=Pr(this.draw,Ir.wrapFunction),this.calculatedDraw=function(t){var e=[];if(t.parent){var n=t.parent.calculatedDraw||[];e.push.apply(e,n)}return e.push(t.draw),e}(this)},e.buildFilter=function(){this.filter_original=this.filter,this.filter=Pr(this.filter,Ir.wrapFunction);var t=typeof this.filter;if(null==this.filter||"object"===t||"function"===t)try{this.buildZooms(),this.buildPropMatches(),null!=this.filter&&("function"==typeof this.filter||Object.keys(this.filter).length>0)?this.filter=gu(this.filter,Su):this.filter=null}catch(t){var e="Filter for layer "+this.full_name+" is invalid, `filter: "+JSON.stringify(this.filter)+"` ";Kn("warn",e+="failed with error '"+t.message+"', stack trace: "+t.stack)}else{var n="Filter for layer "+this.full_name+" is invalid, filter value must be an object or function, ";Kn("warn",n+="but was set to `filter: "+this.filter+"` instead")}},e.buildZooms=function(){var t=this.filter&&this.filter.$zoom,e=typeof t;if(null!=t){if(this.zooms={},"number"===e)this.zooms[t]=!0;else if(Array.isArray(t))for(var n=0;n<t.length;n++)this.zooms[t[n]]=!0;else if("object"===e&&(null!=t.min||null!=t.max))for(var i=t.min||0,r=t.max||or.max_style_zoom,o=i;o<r;o++)this.zooms[o]=!0;delete this.filter.$zoom}},e.buildPropMatches=function(){var t=this;this.filter&&!Array.isArray(this.filter)&&"function"!=typeof this.filter&&Object.keys(this.filter).forEach(function(e){if(-1===wu.indexOf(e)){var n=t.filter[e],i=typeof n,r=Array.isArray(n);if(!r&&"string"!==i&&"number"!==i)return;"$"===e[0]?(t.context_prop_matches=t.context_prop_matches||[],t.context_prop_matches.push([e.substring(1),r?n:[n]])):(t.feature_prop_matches=t.feature_prop_matches||[],t.feature_prop_matches.push([e,r?n:[n]])),delete t.filter[e]}})},e.doPropMatches=function(t){if(this.feature_prop_matches)for(var e=0;e<this.feature_prop_matches.length;e++){var n=this.feature_prop_matches[e],i=t.feature.properties[n[0]];if(null==i||-1===n[1].indexOf(i))return!1}if(this.context_prop_matches)for(var r=0;r<this.context_prop_matches.length;r++){var o=this.context_prop_matches[r],s=t[o[0]];if(null==s||-1===o[1].indexOf(s))return!1}return!0},e.doesMatch=function(t){if(!this.enabled)return!1;if(this.is_built||this.build(),null!=this.zooms&&!this.zooms[t.zoom])return!1;if(!this.doPropMatches(t))return!1;var e;if(this.filter instanceof Function)try{e=this.filter(t)}catch(e){var n="Filter for this "+this.full_name+": `filter: "+this.filter_original+"` ";Kn("error",n+="failed with error '"+e.message+"', stack trace: "+e.stack,t.feature)}else e=null==this.filter;return!!e&&(this.children_to_parse&&(function(t,e,n){for(var i in e){var r=e[i];if("object"!=typeof r||Array.isArray(r)){var o="Layer value must be an object: cannot create layer '"+i+": "+JSON.stringify(r)+"'";o+=", under parent layer '"+t.full_name+"'.",n[t.name]&&(o+=" The parent name '"+t.name+"' is also the name of a style, did you mean to create a 'draw' group",t.parent&&(o+=" under '"+t.parent.name+"'"),o+=" instead?"),Kn("warn",o)}else Cu(i,r,t,n)}t.layers.sort(function(t,e){if(t.exclusive<e.exclusive)return 1;if(t.exclusive>e.exclusive)return-1;var n=t.exclusive?1:-1;return t.priority>e.priority?n:t.priority<e.priority?-n:t.full_name<e.full_name?n:t.full_name>e.full_name?-n:void 0})}(this,this.children_to_parse,this.styles),delete this.children_to_parse),!0)},t}();Tu.id=0;var Au=function(t){function e(e){var n;return(n=t.call(this,e)||this).is_leaf=!0,n}return Pn(e,t),e}(Tu),Eu=function(t){function e(e){var n;return(n=t.call(this,e)||this).is_tree=!0,n.layers=e.layers||[],n}Pn(e,t);var n=e.prototype;return n.addLayer=function(t){this.layers.push(t)},n.buildDrawGroups=function(t){var e=[],n=[];if(function t(e,n,i,r){var o=!1;if(0!==n.length){for(var s=0;s<n.length;s++){var a=n[s];if(a.is_leaf){if(a.doesMatch(e)&&(o=!0,i.push(a),r.push(a.id),a.exclusive))break}else if(a.is_tree&&a.doesMatch(e)&&(o=!0,t(e,a.layers,i,r)||(i.push(a),r.push(a.id)),a.exclusive))break}return o}}(t,[this],e,n),e.length>0){var i=function(t){if(t.length>1){for(var e=t[0],n=1;n<t.length;n++)e+="/"+t[n];return e}return t[0]}(n);if(void 0===bu[i]){for(var r=e.map(function(t){return t&&!1!==t.visible&&t.calculatedDraw}),o={},s=0;s<r.length;s++){var a=r[s];if(a)for(var u=0;u<a.length;u++){var l=a[u];for(var c in l)o[c]=!0}}for(var h in o)bu[i]=bu[i]||{},bu[i][h]=xu(r,h),bu[i][h]?(bu[i][h].key=i+"/"+h,bu[i][h].layers=e.map(function(t){return t&&t.full_name}),bu[i][h].group=h):delete bu[i][h];bu[i]&&0===Object.keys(bu[i]).length&&(bu[i]=null)}return bu[i]}},e}(Tu),Su={rangeTransform:function(t){return"string"==typeof t&&"px2"===t.trim().slice(-3)?parseFloat(t)+" * context.meters_per_pixel_sq":t}};function ku(t){return yu.indexOf(t)>-1}function Cu(t,e,n,i){var r,o={name:t,layer:e=null==e?{}:e,parent:n,styles:i},s=function(t){var e={},n={};for(var i in t)ku(i)?e[i]=t[i]:n[i]=t[i];return[e,n]}(e),a=s[0],u=s[1],l=(r=u,0===Object.keys(r).length),c=new(l&&null!=n?Au:Eu)(Object.assign(o,a));return c.enabled&&(n&&n.addLayer(c),c.children_to_parse=l?null:u),c}var Ou=0,Lu=0,Pu=function(){function t(t){var e=t.coords,n=t.style_z,i=t.source,r=t.workers,o=t.view;this.id=Ou++,this.view=o,this.source=i,this.generation=null,this.valid=!0,this.visible=!1,this.proxy_for=null,this.proxied_as=null,this.proxy_level=0,this.proxy_order_offset=0,this.fade_in=!0,this.loading=!1,this.loaded=!1,this.built=!1,this.labeled=!1,this.error=null,this.debug={},this.style_z=n,this.coords=uo.normalizedCoord(e,this.source),this.key=uo.key(this.coords,this.source,this.style_z),this.overzoom=Math.max(this.style_z-this.coords.z,0),this.overzoom2=Math.pow(2,this.overzoom),this.min=or.metersForTile(this.coords),this.max=or.metersForTile({x:this.coords.x+1,y:this.coords.y+1,z:this.coords.z}),this.span={x:this.max.x-this.min.x,y:-(this.max.y-this.min.y)},this.bounds={sw:{x:this.min.x,y:this.max.y},ne:{x:this.max.x,y:this.min.y}},this.meters_per_pixel=or.metersPerPixel(this.style_z),this.meters_per_pixel_sq=this.meters_per_pixel*this.meters_per_pixel,this.units_per_pixel=or.units_per_pixel/this.overzoom2,this.units_per_meter_overzoom=or.unitsPerMeter(this.coords.z)*this.overzoom2,this.preserve_tiles_within_zoom=this.source.preserve_tiles_within_zoom,this.meshes={},this.new_mesh_styles=[],this.pending_label_meshes=null,this.setWorker(r)}var e=t.prototype;return e.freeResources=function(){for(var t in this.meshes)this.meshes[t].forEach(function(t){return t.destroy()});if(this.meshes={},this.pending_label_meshes)for(var e in this.pending_label_meshes)this.pending_label_meshes[e].forEach(function(t){return t.destroy()});this.pending_label_meshes=null},e.destroy=function(){wi.removeForTile(this.id),this.workerMessage("self.removeTile",this.key),this.freeResources(),this.worker=null,this.valid=!1},e.buildAsMessage=function(){return{id:this.id,key:this.key,source:this.source.name,coords:this.coords,min:this.min,max:this.max,units_per_pixel:this.units_per_pixel,meters_per_pixel:this.meters_per_pixel,meters_per_pixel_sq:this.meters_per_pixel_sq,units_per_meter_overzoom:this.units_per_meter_overzoom,style_z:this.style_z,overzoom:this.overzoom,overzoom2:this.overzoom2,generation:this.generation,debug:this.debug}},e.setWorker=function(t){this.source.tiled?this.worker_id=Math.abs(this.coords.x+this.coords.y+this.coords.z)%t.length:this.worker_id=this.source.id%t.length,this.worker=t[this.worker_id]},e.workerMessage=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return $n.postMessage.apply($n,[this.worker].concat(e))},e.build=function(t,e){var n=(void 0===e?{}:e).fade_in,i=void 0===n||n;return this.generation=t,this.fade_in=i,this.loaded||(this.loading=!0,this.built=!1,this.labeled=!1),this.workerMessage("self.buildTile",{tile:this.buildAsMessage()}).catch(function(t){throw t})},t.cancel=function(e){e&&(e.canceled=!0,e.source_data&&e.source_data.request_id&&(ei.cancelRequest(e.source_data.request_id),e.source_data.request_id=null),t.abortBuild(e))},t.buildGeometry=function(e,n){var i=n.scene_id,r=n.layers,o=n.styles,s=n.global,a=e.source_data;for(var u in e.debug.building=+new Date,e.debug.feature_count=0,e.debug.layers=null,Xs.startTile(e.id,{apply_repeat_groups:!0}),r){var l=r[u];if(l&&l.config_data){if(l.config_data.source===e.source)for(var c=t.getDataForSource(a,l.config_data,u),h=0;h<c.length;h++){var f=c[h],d=f.geom;if(d)for(var p=0;p<d.features.length;p++){var m=d.features[p];if(null!=m.geometry){var _=Ir.getFeatureParseContext(m,e,s);_.winding=e.default_winding,_.source=e.source,_.layer=f.layer;var v=l.buildDrawGroups(_,!0);if(v){for(var g in v){var y=v[g],b=y.style||g,x=o[b];x?null!=(y=x.preprocess(y))&&!1!==y.visible&&(_.layers=y.layers,x.addFeature(m,y,_)):Kn("warn","Style '"+b+"' not found, skipping layer '"+u+"':",y,m)}e.debug.feature_count++}}}}}else Kn("warn","Layer "+u+" was defined without a geometry data source and will not be rendered.")}e.debug.building=+new Date-e.debug.building;var w=this.stylesForTile(e,o).map(function(t){return o[t]});t.buildStyleGroups(e,w,i,function(t){return t.collision?"collision":"non-collision"})},t.stylesForTile=function(t,e){var n=[];for(var i in e)e[i].hasDataForTile(t)&&n.push(i);return n},t.buildStyleGroups=function(e,n,i,r){var o=n.reduce(function(t,e){var n=r(e);return t[n]=t[n]||[],t[n].push(e),t},{});if(0===Object.keys(o).length)return $n.postMessage("TileManager_"+i+".buildTileStylesCompleted",$n.withTransferables({tile:t.slice(e),progress:{start:!0,done:!0}})),void Xs.resetTile(e.id);var s={};for(var a in o)t.buildStyleGroup({group_name:a,groups:o,tile:e,progress:s,scene_id:i})},t.buildStyleGroup=function(e){return new Promise(function(n,i){var r,o,s,a,u,l,c;r=e.group_name,o=e.groups,s=e.tile,a=e.progress,u=e.scene_id,l=o[r],c={};var h=function(){try{return n()}catch(t){return i(t)}},f=function(t){try{return Kn("error","Error for style group '"+r+"' for tile "+s.key,t&&t.stack||t),h()}catch(t){return i(t)}};try{return Promise.resolve(Promise.all(l.map(function(t){return new Promise(function(e,n){var i;return Promise.resolve(t.endData(s)).then(function(r){try{return(i=r)&&(c[t.name]=i),e()}catch(t){return n(t)}},n)})}))).then(function(e){try{return Kn("trace","Finished style group '"+r+"' for tile "+s.key),o[r]=null,Object.keys(o).every(function(t){return null==o[t]})&&(a.done=!0),$n.postMessage("TileManager_"+u+".buildTileStylesCompleted",$n.withTransferables({tile:Object.assign({},t.slice(s),{mesh_data:c}),progress:a})),a.done&&Xs.resetTile(s.id),h()}catch(t){return f(t)}},f)}catch(t){f(t)}})},t.getDataForSource=function(t,e,n){var i=[];return null!=e&&null!=t&&null!=t.layers&&(!e.layer&&t.layers._default?i.push({geom:t.layers._default}):!e.layer&&n?i.push({layer:n,geom:t.layers[n]}):"string"==typeof e.layer?i.push({layer:e.layer,geom:t.layers[e.layer]}):Array.isArray(e.layer)&&e.layer.forEach(function(e){t.layers[e]&&t.layers[e].features&&i.push({layer:e,geom:t.layers[e]})})),i},e.buildMeshes=function(t,e){if(!this.error){this.build_id=Lu++,e.start&&(this.debug.geometry_count=0,this.debug.buffer_size=0);var n={},i=this.mesh_data;if(i)for(var r in i){for(var o in i[r].meshes){var s=i[r].meshes[o];if(s.vertex_data){if(!t[r]){Kn("warn","Could not create mesh because style '"+r+"' not found, for tile "+this.key+", aborting tile");break}var a=Object.assign({},i[r]);a.uniforms=Object.assign({},a.uniforms,s.uniforms),a.variant=s.variant,s.labels&&(a.retain=!0);var u=t[r].makeMesh(s.vertex_data,s.vertex_elements,a);u.variant=a.variant,u.labels=s.labels,n[r]=n[r]||[],n[r].push(u),null==u.variant.mesh_order&&(u.variant.mesh_order=n[r].length-1),this.debug.buffer_size+=u.buffer_size,this.debug.geometry_count+=u.geometry_count}}n[r]&&n[r].sort(function(t,e){var n=t.variant.mesh_order,i=e.variant.mesh_order;return null==n?1:null==i?-1:n<i?-1:1})}for(var l in delete this.mesh_data,n)t[l].collision?(this.pending_label_meshes=this.pending_label_meshes||{},this.pending_label_meshes[l]=n[l]):(this.meshes[l]&&this.meshes[l].forEach(function(t){return t.destroy()}),this.meshes[l]=n[l],this.new_mesh_styles.push(l));if(e.done){for(var c in this.meshes)-1!==this.new_mesh_styles.indexOf(c)||this.pending_label_meshes&&null!=this.pending_label_meshes[c]||(this.meshes[c].forEach(function(t){return t.destroy()}),delete this.meshes[c]);this.new_mesh_styles=[],this.debug.geometry_ratio=(this.debug.geometry_count/this.debug.feature_count).toFixed(1)}this.printDebug(e)}},e.pendingLabelStyleCount=function(){return this.pending_label_meshes?Object.keys(this.pending_label_meshes).length:0},e.swapPendingLabels=function(){if(this.labeled=!0,this.pending_label_meshes){for(var t in this.pending_label_meshes)this.meshes[t]&&this.meshes[t].forEach(function(t){return t.destroy()}),this.meshes[t]=this.pending_label_meshes[t];this.pending_label_meshes=null}},t.abortBuild=function(t){if(wi.removeForTile(t.id),Xs.abortTile(t.id),t.mesh_data)for(var e in t.mesh_data){var n=t.mesh_data[e].textures;n&&n.forEach(function(e){var n=Ui.textures[e];n&&(Kn("trace","releasing texture "+e+" for tile "+t.key),n.release())})}},e.setProxyFor=function(t){t?(this.visible=!0,this.proxy_for=this.proxy_for||[],this.proxy_for.push(t),this.proxy_order_offset=1,t.proxied_as=t.style_z>this.style_z?"child":"parent",this.proxy_level=Math.abs(t.style_z-this.style_z)):(this.proxy_for=null,this.proxy_order_offset=0,this.proxy_level=0)},e.isProxy=function(){return null!=this.proxy_for},e.shouldProxyForStyle=function(t){return!this.proxy_for||this.proxy_for.some(function(e){return null==e.meshes[t]})},e.setupProgram=function(t,e){var n=t.model,i=t.model32;e.uniform("4fv","u_tile_origin",[this.min.x,this.min.y,this.style_z,this.coords.z]),e.uniform("1f","u_tile_proxy_order_offset",this.proxy_order_offset),za(n),Ra(n,n,Ca(this.min.x,this.min.y,0)),Ma(n,n,Ca(this.span.x/or.tile_scale,this.span.y/or.tile_scale,1)),Da(i,n),e.uniform("Matrix4fv","u_model",i),e.uniform("1i","u_tile_fade_in",this.fade_in&&"child"!==this.proxied_as)},t.slice=function(t,e){var n=["id","key","loading","loaded","generation","error","debug"];Array.isArray(e)&&n.push.apply(n,e);for(var i={},r=0;r<n.length;r++){var o=n[r];i[o]=t[o]}return i},e.merge=function(t){return this.loading=t.loading,this.loaded=t.loaded,this.generation=t.generation,this.error=t.error,this.mesh_data=t.mesh_data,this.debug=rr(this.debug,t.debug),this},e.printDebug=function(t){var e=["layers"],n={};for(var i in this.debug)-1===e.indexOf(i)&&(n[i]=this.debug[i]);Kn("debug","Tile "+(t.done?"(done)":"")+": debug for "+this.key+": [  "+JSON.stringify(n)+" ]")},t}();Pu.coord_children={};var Ru=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=l}return(d?-1:1)*s*Math.pow(2,o-i)},Mu=function(t,e,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*m},Iu=Nu;function Nu(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function zu(t){return t.type===Nu.Bytes?t.readVarint()+t.pos:t.pos+1}function Du(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function ju(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function Fu(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function Bu(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function Uu(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function Hu(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function $u(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function Wu(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function Gu(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function qu(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function Vu(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function Zu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Xu(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function Yu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}Nu.Varint=0,Nu.Fixed64=1,Nu.Bytes=2,Nu.Fixed32=5,Nu.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,t(r,e,this),this.pos===o&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Zu(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Yu(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Zu(this.buf,this.pos)+4294967296*Zu(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Zu(this.buf,this.pos)+4294967296*Yu(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Ru(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Ru(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,r,o=n.buf;if(i=(112&(r=o[n.pos++]))>>4,r<128)return Du(t,i,e);if(i|=(127&(r=o[n.pos++]))<<3,r<128)return Du(t,i,e);if(i|=(127&(r=o[n.pos++]))<<10,r<128)return Du(t,i,e);if(i|=(127&(r=o[n.pos++]))<<17,r<128)return Du(t,i,e);if(i|=(127&(r=o[n.pos++]))<<24,r<128)return Du(t,i,e);if(i|=(1&(r=o[n.pos++]))<<31,r<128)return Du(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){for(var i="",r=e;r<n;){var o,s,a,u=t[r],l=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[r+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&((l=(15&u)<<12|(63&o)<<6|63&s)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&((l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,i+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),i+=String.fromCharCode(l),r+=c}return i}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=zu(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=zu(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=zu(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=zu(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=zu(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=zu(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=zu(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=zu(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=zu(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Nu.Varint)for(;this.buf[this.pos++]>127;);else if(e===Nu.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Nu.Fixed32)this.pos+=4;else{if(e!==Nu.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Xu(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Xu(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Xu(this.buf,-1&t,this.pos),Xu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Xu(this.buf,-1&t,this.pos),Xu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,r,o=0;o<e.length;o++){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):r=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[n++]=239,t[n++]=191,t[n++]=189,r=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&ju(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Mu(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Mu(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&ju(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,Nu.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,Fu,e)},writePackedSVarint:function(t,e){this.writeMessage(t,Bu,e)},writePackedBoolean:function(t,e){this.writeMessage(t,$u,e)},writePackedFloat:function(t,e){this.writeMessage(t,Uu,e)},writePackedDouble:function(t,e){this.writeMessage(t,Hu,e)},writePackedFixed32:function(t,e){this.writeMessage(t,Wu,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,Gu,e)},writePackedFixed64:function(t,e){this.writeMessage(t,qu,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,Vu,e)},writeBytesField:function(t,e){this.writeTag(t,Nu.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Nu.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Nu.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Nu.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Nu.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Nu.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Nu.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Nu.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Nu.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Nu.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Ku=Ju;function Ju(t,e){this.x=t,this.y=e}Ju.prototype={clone:function(){return new Ju(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=e*this.x-n*this.y,r=n*this.x+e*this.y;return this.x=i,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),i=Math.sin(t),r=e.x+n*(this.x-e.x)-i*(this.y-e.y),o=e.y+i*(this.x-e.x)+n*(this.y-e.y);return this.x=r,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Ju.convert=function(t){return t instanceof Ju?t:Array.isArray(t)?new Ju(t[0],t[1]):t};var Qu=tl;function tl(t,e,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=r,t.readFields(el,this,e)}function el(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[i]=r}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function nl(t){for(var e,n,i=0,r=0,o=t.length,s=o-1;r<o;s=r++)e=t[r],i+=((n=t[s]).x-e.x)*(e.y+n.y);return i}tl.types=["Unknown","Point","LineString","Polygon"],tl.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,r=0,o=0,s=0,a=[];t.pos<n;){if(!r){var u=t.readVarint();i=7&u,r=u>>3}if(r--,1===i||2===i)o+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&a.push(e),e=[]),e.push(new Ku(o,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&a.push(e),a},tl.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,r=0,o=0,s=1/0,a=-1/0,u=1/0,l=-1/0;t.pos<e;){if(!i){var c=t.readVarint();n=7&c,i=c>>3}if(i--,1===n||2===n)(r+=t.readSVarint())<s&&(s=r),r>a&&(a=r),(o+=t.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[s,u,a,l]},tl.prototype.toGeoJSON=function(t,e,n){var i,r,o=this.extent*Math.pow(2,n),s=this.extent*t,a=this.extent*e,u=this.loadGeometry(),l=tl.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e],i=180-360*(n.y+a)/o;t[e]=[360*(n.x+s)/o-180,360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<u.length;i++)h[i]=u[i][0];c(u=h);break;case 2:for(i=0;i<u.length;i++)c(u[i]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var n,i,r=[],o=0;o<e;o++){var s=nl(t[o]);0!==s&&(void 0===i&&(i=s<0),i===s<0?(n&&r.push(n),n=[t[o]]):n.push(t[o]))}return n&&r.push(n),r}(u),i=0;i<u.length;i++)for(r=0;r<u[i].length;r++)c(u[i][r])}1===u.length?u=u[0]:l="Multi"+l;var f={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(f.id=this.id),f};var il=rl;function rl(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(ol,this,e),this.length=this._features.length}function ol(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}(n))}function sl(t,e,n){if(3===t){var i=new il(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}rl.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Qu(this._pbf,e,this.extent,this._keys,this._values)};var al=function(t,e){this.layers=t.readFields(sl,{},e)},ul=Qu,ll=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).response_type="arraybuffer",i}Pn(e,t);var n=e.prototype;return n.parseSourceData=function(t,e,n){var i=new Uint8Array(n),r=new Iu(i);if(e.data=new al(r),e.layers=this.toGeoJSON(e.data),"function"==typeof this.transform){var o={min:Object.assign({},t.min),max:Object.assign({},t.max),coords:Object.assign({},t.coords)};e.layers=this.transform(e.layers,this.extra_data,o)}delete e.data},n.toGeoJSON=function(t){var e={};for(var n in t.layers){for(var i=t.layers[n],r=or.tile_scale/i.extent,o={type:"FeatureCollection",features:[]},s=0;s<i.length;s++){for(var a=i.feature(s),u={type:"Feature",geometry:{},properties:a.properties},l=u.geometry,c=a.loadGeometry(),h=0;h<c.length;h++)for(var f=c[h],d=0;d<f.length;d++)f[d]=[f[d].x*r,f[d].y*r];l.coordinates=c,"Point"===ul.types[a.type]?(l.type="Point",l.coordinates=l.coordinates[0][0]):"LineString"===ul.types[a.type]?1===c.length?(l.type="LineString",l.coordinates=l.coordinates[0]):l.type="MultiLineString":"Polygon"===ul.types[a.type]&&(l=cl(l)),o.features.push(u)}e[n]=o}return e},e}(ao);function cl(t){for(var e,n=[],i=[],r=0;r<t.coordinates.length;r++){var o=t.coordinates[r],s=or.ringWinding(o);null!=s&&(s===(e=e||s)&&i.length>0&&(n.push(i),i=[]),i.push(o))}return i.length>0&&n.push(i),1===n.length?(t.type="Polygon",t.coordinates=n[0]):n.length>1?(t.type="MultiPolygon",t.coordinates=n):t=null,t}ro.register("MVT",function(){return ll});var hl=function(t,e){var n,i,r,o,s=e*e,a=0,u=t.length-1,l=[];for(t[a][2]=1,t[u][2]=1;u;){for(i=0,n=a+1;n<u;n++)(r=fl(t[n],t[a],t[u]))>i&&(o=n,i=r);i>s?(t[o][2]=i,l.push(a),l.push(o),a=o):(u=l.pop(),a=l.pop())}};function fl(t,e,n){var i=e[0],r=e[1],o=n[0],s=n[1],a=t[0],u=t[1],l=o-i,c=s-r;if(0!==l||0!==c){var h=((a-i)*l+(u-r)*c)/(l*l+c*c);h>1?(i=o,r=s):h>0&&(i+=l*h,r+=c*h)}return(l=a-i)*l+(c=u-r)*c}var dl=function(t,e,n,i){var r={id:i||null,type:e,geometry:n,tags:t||null,min:[1/0,1/0],max:[-1/0,-1/0]};return function(t){var e=t.geometry,n=t.min,i=t.max;if(1===t.type)pl(n,i,e);else for(var r=0;r<e.length;r++)pl(n,i,e[r])}(r),r};function pl(t,e,n){for(var i,r=0;r<n.length;r++)i=n[r],t[0]=Math.min(i[0],t[0]),e[0]=Math.max(i[0],e[0]),t[1]=Math.min(i[1],t[1]),e[1]=Math.max(i[1],e[1])}var ml=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var i=0;i<t.features.length;i++)_l(n,t.features[i],e);else"Feature"===t.type?_l(n,t,e):_l(n,{geometry:t},e);return n};function _l(t,e,n){if(null!==e.geometry){var i,r,o,s,a=e.geometry,u=a.type,l=a.coordinates,c=e.properties,h=e.id;if("Point"===u)t.push(dl(c,1,[gl(l)],h));else if("MultiPoint"===u)t.push(dl(c,1,vl(l),h));else if("LineString"===u)t.push(dl(c,2,[vl(l,n)],h));else if("MultiLineString"===u||"Polygon"===u){for(o=[],i=0;i<l.length;i++)s=vl(l[i],n),"Polygon"===u&&(s.outer=0===i),o.push(s);t.push(dl(c,"Polygon"===u?3:2,o,h))}else if("MultiPolygon"===u){for(o=[],i=0;i<l.length;i++)for(r=0;r<l[i].length;r++)(s=vl(l[i][r],n)).outer=0===r,o.push(s);t.push(dl(c,3,o,h))}else{if("GeometryCollection"!==u)throw new Error("Input data is not a valid GeoJSON object.");for(i=0;i<a.geometries.length;i++)_l(t,{geometry:a.geometries[i],properties:c},n)}}}function vl(t,e){for(var n=[],i=0;i<t.length;i++)n.push(gl(t[i]));return e&&(hl(n,e),function(t){for(var e,n,i=0,r=0,o=0;o<t.length-1;o++)e=n||t[o],n=t[o+1],i+=e[0]*n[1]-n[0]*e[1],r+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(i/2),t.dist=r}(n)),n}function gl(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return[n,i=i<0?0:i>1?1:i,0]}function yl(t,e,n,i,r){return[Math.round(e*(t[0]*n-i)),Math.round(e*(t[1]*n-r))]}var bl={tile:function(t,e){if(t.transformed)return t;var n,i,r,o=t.z2,s=t.x,a=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],l=u.geometry;if(1===u.type)for(i=0;i<l.length;i++)l[i]=yl(l[i],e,o,s,a);else for(i=0;i<l.length;i++){var c=l[i];for(r=0;r<c.length;r++)c[r]=yl(c[r],e,o,s,a)}}return t.transformed=!0,t},point:yl},xl=function(t,e,n,i,r,o,s,a){if(i/=e,s>=(n/=e)&&a<=i)return t;if(s>i||a<n)return null;for(var u=[],l=0;l<t.length;l++){var c,h,f=t[l],d=f.geometry,p=f.type;if(c=f.min[r],h=f.max[r],c>=n&&h<=i)u.push(f);else if(!(c>i||h<n)){var m=1===p?wl(d,n,i,r):Tl(d,n,i,r,o,3===p);m.length&&u.push(dl(f.tags,p,m,f.id))}}return u.length?u:null};function wl(t,e,n,i){for(var r=[],o=0;o<t.length;o++){var s=t[o],a=s[i];a>=e&&a<=n&&r.push(s)}return r}function Tl(t,e,n,i,r,o){for(var s=[],a=0;a<t.length;a++){var u,l,c,h=0,f=0,d=null,p=t[a],m=p.area,_=p.dist,v=p.outer,g=p.length,y=[];for(l=0;l<g-1;l++)u=d||p[l],d=p[l+1],h=f||u[i],f=d[i],h<e?f>n?(y.push(r(u,d,e),r(u,d,n)),o||(y=Al(s,y,m,_,v))):f>=e&&y.push(r(u,d,e)):h>n?f<e?(y.push(r(u,d,n),r(u,d,e)),o||(y=Al(s,y,m,_,v))):f<=n&&y.push(r(u,d,n)):(y.push(u),f<e?(y.push(r(u,d,e)),o||(y=Al(s,y,m,_,v))):f>n&&(y.push(r(u,d,n)),o||(y=Al(s,y,m,_,v))));(h=(u=p[g-1])[i])>=e&&h<=n&&y.push(u),c=y[y.length-1],o&&c&&(y[0][0]!==c[0]||y[0][1]!==c[1])&&y.push(y[0]),Al(s,y,m,_,v)}return s}function Al(t,e,n,i,r){return e.length&&(e.area=n,e.dist=i,void 0!==r&&(e.outer=r),t.push(e)),[]}var El=function(t,e,n){var i=t,r=xl(t,1,-1-e,e,0,n,-1,2),o=xl(t,1,1-e,2+e,0,n,-1,2);return(r||o)&&(i=xl(t,1,-e,1+e,0,n,-1,2)||[],r&&(i=Sl(r,1).concat(i)),o&&(i=i.concat(Sl(o,-1)))),i};function Sl(t,e){for(var n=[],i=0;i<t.length;i++){var r,o=t[i],s=o.type;if(1===s)r=kl(o.geometry,e);else{r=[];for(var a=0;a<o.geometry.length;a++)r.push(kl(o.geometry[a],e))}n.push(dl(o.tags,s,r,o.id))}return n}function kl(t,e){var n=[];n.area=t.area,n.dist=t.dist;for(var i=0;i<t.length;i++)n.push([t[i][0]+e,t[i][1],t[i][2]]);return n}var Cl=function(t,e,n,i,r,o){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z2:e,transformed:!1,min:[2,1],max:[-1,0]},a=0;a<t.length;a++){s.numFeatures++,Ol(s,t[a],r,o);var u=t[a].min,l=t[a].max;u[0]<s.min[0]&&(s.min[0]=u[0]),u[1]<s.min[1]&&(s.min[1]=u[1]),l[0]>s.max[0]&&(s.max[0]=l[0]),l[1]>s.max[1]&&(s.max[1]=l[1])}return s};function Ol(t,e,n,i){var r,o,s,a,u=e.geometry,l=e.type,c=[],h=n*n;if(1===l)for(r=0;r<u.length;r++)c.push(u[r]),t.numPoints++,t.numSimplified++;else for(r=0;r<u.length;r++)if(s=u[r],i||!(2===l&&s.dist<n||3===l&&s.area<h)){var f=[];for(o=0;o<s.length;o++)a=s[o],(i||a[2]>h)&&(f.push(a),t.numSimplified++),t.numPoints++;3===l&&Ll(f,s.outer),c.push(f)}else t.numPoints+=s.length;if(c.length){var d={geometry:c,type:l,tags:e.tags||null};null!==e.id&&(d.id=e.id),t.features.push(d)}}function Ll(t,e){(function(t){for(var e,n,i=0,r=0,o=t.length,s=o-1;r<o;s=r++)e=t[r],i+=((n=t[s])[0]-e[0])*(e[1]+n[1]);return i})(t)<0===e&&t.reverse()}var Pl=function(t,e){return new Rl(t,e)};function Rl(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;n&&console.time("preprocess data");var i=1<<e.maxZoom,r=ml(t,e.tolerance/(i*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=El(r,e.buffer/e.extent,Il)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ml(t,e,n){return 32*((1<<t)*n+e)+t}function Il(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function Nl(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function zl(t,e,n){var i=t.source;if(1!==i.length)return!1;var r=i[0];if(3!==r.type||r.geometry.length>1)return!1;var o=r.geometry[0].length;if(5!==o)return!1;for(var s=0;s<o;s++){var a=bl.point(r.geometry[0][s],e,t.z2,t.x,t.y);if(a[0]!==-n&&a[0]!==e+n||a[1]!==-n&&a[1]!==e+n)return!1}return!0}Rl.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},Rl.prototype.splitTile=function(t,e,n,i,r,o,s){for(var a=[t,e,n,i],u=this.options,l=u.debug,c=null;a.length;){i=a.pop(),n=a.pop(),e=a.pop(),t=a.pop();var h=1<<e,f=Ml(e,n,i),d=this.tiles[f],p=e===u.maxZoom?0:u.tolerance/(h*u.extent);if(!d&&(l>1&&console.time("creation"),d=this.tiles[f]=Cl(t,h,n,i,p,e===u.maxZoom),this.tileCoords.push({z:e,x:n,y:i}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,i,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var m="z"+e;this.stats[m]=(this.stats[m]||0)+1,this.total++}if(d.source=t,r){if(e===u.maxZoom||e===r)continue;var _=1<<r-e;if(n!==Math.floor(o/_)||i!==Math.floor(s/_))continue}else if(e===u.indexMaxZoom||d.numPoints<=u.indexMaxPoints)continue;if(u.solidChildren||!zl(d,u.extent,u.buffer)){d.source=null,l>1&&console.time("clipping");var v,g,y,b,x,w,T=.5*u.buffer/u.extent,A=.5-T,E=.5+T,S=1+T;v=g=y=b=null,x=xl(t,h,n-T,n+E,0,Il,d.min[0],d.max[0]),w=xl(t,h,n+A,n+S,0,Il,d.min[0],d.max[0]),x&&(v=xl(x,h,i-T,i+E,1,Nl,d.min[1],d.max[1]),g=xl(x,h,i+A,i+S,1,Nl,d.min[1],d.max[1])),w&&(y=xl(w,h,i-T,i+E,1,Nl,d.min[1],d.max[1]),b=xl(w,h,i+A,i+S,1,Nl,d.min[1],d.max[1])),l>1&&console.timeEnd("clipping"),t.length&&(a.push(v||[],e+1,2*n,2*i),a.push(g||[],e+1,2*n,2*i+1),a.push(y||[],e+1,2*n+1,2*i),a.push(b||[],e+1,2*n+1,2*i+1))}else r&&(c=e)}return c},Rl.prototype.getTile=function(t,e,n){var i=this.options,r=i.extent,o=i.debug,s=1<<t,a=Ml(t,e=(e%s+s)%s,n);if(this.tiles[a])return bl.tile(this.tiles[a],r);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var u,l=t,c=e,h=n;!u&&l>0;)l--,c=Math.floor(c/2),h=Math.floor(h/2),u=this.tiles[Ml(l,c,h)];if(!u||!u.source)return null;if(o>1&&console.log("found parent tile z%d-%d-%d",l,c,h),zl(u,r,i.buffer))return bl.tile(u,r);o>1&&console.time("drilling down");var f=this.splitTile(u.source,l,c,h,t,e,n);if(o>1&&console.timeEnd("drilling down"),null!==f){var d=1<<t-f;a=Ml(f,Math.floor(e/d),Math.floor(n/d))}return this.tiles[a]?bl.tile(this.tiles[a],r):null};var Dl=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).load_data=null,i.tile_indexes={},i.setTileSize(512),i.pad_scale=0,i}Pn(e,t);var n=e.prototype;return n._load=function(e){var n=this;return this.load_data||(this.load_data=t.prototype._load.call(this,{source_data:{layers:{}}}).then(function(t){t.source_data.error&&Kn("warn","data source load error(s) for source '"+n.name+"', URL '"+n.url+"': "+t.source_data.error);var e=t.source_data.layers;for(var i in e)n.tile_indexes[i]=Pl(e[i],{maxZoom:n.max_zoom,tolerance:1.5,extent:or.tile_scale,buffer:1e-4});return n.loaded=!0,t})),this.load_data.then(function(){for(var t in n.tile_indexes)e.source_data.layers[t]=n.getTileFeatures(e,t);return e})},n.getTileFeatures=function(t,e){var n,i=or.wrapTile(t.coords,{x:!0}),r=this.tile_indexes[e].getTile(i.z,i.x,i.y);if(r&&r.features){n={type:"FeatureCollection",features:[]};for(var o=0;o<r.features.length;o++){var s=r.features[o],a={type:"Feature",geometry:{},properties:s.tags};if(1===s.type)a.geometry.coordinates=s.geometry.map(function(t){return[t[0],t[1]]}),a.geometry.type="MultiPoint";else{if(2!==s.type&&3!==s.type)continue;if(a.geometry.coordinates=s.geometry.map(function(t){return t.map(function(t){return[t[0],t[1]]})}),2===s.type)a.geometry.type="MultiLineString";else if(a.geometry=cl(a.geometry),null==a.geometry)continue}n.features.push(a)}}return n},n.formatURL=function(){return this.url},n.parseSourceData=function(t,e,n){var i="string"==typeof n?JSON.parse(n):n,r=this.getLayers(i);e.layers=this.preprocessLayers(r,t)},n.preprocessLayers=function(t,e){for(var n in t){var i=t[n];i.features=this.preprocessFeatures(i.features)}if("function"==typeof this.transform){var r={min:Object.assign({},e.min),max:Object.assign({},e.max),coords:Object.assign({},e.coords)};1===Object.keys(t).length&&t._default?t._default=this.transform(t._default,this.extra_data,r):t=this.transform(t,this.extra_data,r)}return t},n.preprocessFeatures=function(t){if(t=t.filter(function(t){return null!=t.geometry}),this.config.generate_label_centroids){var e=[],n={label_placement:!0};t.forEach(function(t){var i,r;if("Polygon"===t.geometry.type)r=Fl(i=t.geometry.coordinates,t.properties,n),e.push(r);else if("MultiPolygon"===t.geometry.type){i=t.geometry.coordinates;for(var o=-1/0,s=0,a=0;a<i.length;a++){var u=or.polygonArea(i[a]);u>o&&(o=u,s=a)}r=Fl(i[s],t.properties,n),e.push(r)}}),e=e.filter(function(t){return t}),Array.prototype.push.apply(t,e)}return t},n.getLayers=function(t){return"Feature"===t.type?{_default:{type:"FeatureCollection",features:[t]}}:"FeatureCollection"===t.type?{_default:t}:t},e}(so),jl=function(t){function e(e,n){return t.call(this,e,n)||this}Pn(e,t);var n=e.prototype;return n.parseSourceData=function(t,e,n){var i="string"==typeof n?JSON.parse(n):n;this.prepareGeoJSON(i,t,e)},n.prepareGeoJSON=function(t,e,n){if("function"==typeof this.transform){var i={min:Object.assign({},e.min),max:Object.assign({},e.max),coords:Object.assign({},e.coords)};t=this.transform(t,this.extra_data,i)}n.layers=Dl.prototype.getLayers(t);var r={coords:e.coords,min:or.metersForTile(or.wrapTile(e.coords,{x:!0}))};ro.projectData(n),ro.scaleData(n,r)},e}(ao);function Fl(t,e,n){var i=or.centroid(t);if(i){var r={};return Object.assign(r,e,n),{type:"Feature",properties:r,geometry:{type:"Point",coordinates:i}}}}function Bl(t){return t}function Ul(t,e){var n=e.id,i=e.bbox,r=null==e.properties?{}:e.properties,o=function(t,e){var n=function(t){if(null==(e=t.transform))return Bl;var e,n,i,r=e.scale[0],o=e.scale[1],s=e.translate[0],a=e.translate[1];return function(t,e){return e||(n=i=0),t[0]=(n+=t[0])*r+s,t[1]=(i+=t[1])*o+a,t}}(t),i=t.arcs;function r(t,e){e.length&&e.pop();for(var r=i[t<0?~t:t],o=0,s=r.length;o<s;++o)e.push(n(r[o].slice(),o));t<0&&function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}(e,s)}function o(t){return n(t.slice())}function s(t){for(var e=[],n=0,i=t.length;n<i;++n)r(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function a(t){for(var e=s(t);e.length<4;)e.push(e[0].slice());return e}function u(t){return t.map(a)}return function t(e){var n,i=e.type;switch(i){case"GeometryCollection":return{type:i,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=s(e.arcs);break;case"MultiLineString":n=e.arcs.map(s);break;case"Polygon":n=u(e.arcs);break;case"MultiPolygon":n=e.arcs.map(u);break;default:return null}return{type:i,coordinates:n}}(e)}(t,e);return null==n&&null==i?{type:"Feature",properties:r,geometry:o}:null==i?{type:"Feature",id:n,properties:r,geometry:o}:{type:"Feature",id:n,bbox:i,properties:r,geometry:o}}ro.register("GeoJSON",function(t){return jl.urlHasTilePattern(t.url)?jl:Dl});var Hl=function(t){function e(){return t.apply(this,arguments)||this}Pn(e,t);var n=e.prototype;return n.parseSourceData=function(e,n,i){var r="string"==typeof i?JSON.parse(i):i;r=this.toGeoJSON(r);var o=this.getLayers(r);t.prototype.preprocessLayers.call(this,o,e),n.layers=o},n.toGeoJSON=function(t){if(t.objects&&1===Object.keys(t.objects).length){var e=Object.keys(t.objects)[0];t=$l(t,t.objects[e])}else{var n={};for(var i in t.objects)n[i]=$l(t,t.objects[i]);t=n}return t},e}(Dl);function $l(t,e){var n=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return Ul(t,e)})}:Ul(t,e)}(t,e);return"Feature"===n.type&&(n={type:"FeatureCollection",features:[n]}),n}var Wl=function(t){function e(e,n){return t.call(this,e,n)||this}return Pn(e,t),e.prototype.parseSourceData=function(t,e,n){var i="string"==typeof n?JSON.parse(n):n;i=Hl.prototype.toGeoJSON(i),this.prepareGeoJSON(i,t,e)},e}(jl);ro.register("TopoJSON",function(t){return Wl.urlHasTilePattern(t.url)?Wl:Hl}),t.require$$0=u,t.require$$1=n,t.global=i,t.require$$1$1=y,t.getKeys=tt,t.gOPS=Rt,t.require$$0$1=Mt,t.toIObject=P,t.require$$0$2=de,t.require$$0$3=ce,t.require$$0$4=r,t.DESCRIPTORS=f,t.fails=h,t.require$$22=at,t.uid=a,t.redefine=I,t.LIBRARY=!1,t.$export=j,t.require$$17=M,t.isObject=l,t.isArray=he,t.hide=x,t.setToStringTag=ct,t.require$$1$2=me,t.anObject=c,t.require$$16=v,t.require$$9=b,t.createCommonjsModule=e,t.commonjsRequire=function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")},t.Utils=ei,t.isRelativeURL=bi,t.addBaseURL=function(t,e){if(!t||!bi(t))return t;var n,i="/"!==t[0];if(e?(n=document.createElement("a")).href=e:n=window.location,i)t=yi(n.href)+t;else{var r=n.origin;r||(r=n.protocol+"//"+n.host),t=r+t}return t},t.pathForURL=yi,t.extensionForURL=function(t){var e=(t=t.split("/").pop()).lastIndexOf(".");if(e>-1)return t.substring(e+1)},t._inheritsLoose=Pn,t.flattenRelativeURL=function(t){for(var e=(t||"").split("/"),n=1;n<e.length;n++)"."===e[n]?(e.splice(n,1),n--):".."===e[n]&&(n+=0,e.splice(n-1,2),n--);return e.join("/")},t.createObjectURL=function(t){return void 0===vi&&"function"!=typeof(vi=window.URL&&window.URL.createObjectURL||window.webkitURL&&window.webkitURL.createObjectURL)&&(vi=null,Kn("warn","window.URL.createObjectURL (or vendor prefix) not found, unable to create local blob URLs")),vi?vi(t):t},t.isLocalURL=function(t){if("string"==typeof t)return t.search(/^(data|blob):/)>-1},t.subscribeMixin=Ti,t.log=Kn,t.mergeObjects=rr,t.isReserved=ku,t.GLSL=Gi,t.TileID=uo,t.Collision=Xs,t.Geo=or,t.LabelPoint=Ys,t.LabelLineStraight=Xa,t.OBB=Gs,t.Label=qs,t.WorkerBroker=$n,t.Task=wi,t.Tile=Pu,t._createClass=Ln,t.require$$0$5=Bi,t.StyleParser=Ir,t.Texture=Ui,t.debugSettings=ni,t.debugSumLayerStats=function(t){var e={},n={};return t.filter(function(t){return t.debug.layers}).forEach(function(t){Object.keys(t.debug.layers.list).forEach(function(n){var i=t.debug.layers.list[n];po(e,n,i.features,i.geoms,i.styles,i.base)}),function t(e,n){for(var i in e){var r=e[i];po(n,i,r.features,r.geoms,r.styles,r.base),r.layers&&(n[i].layers=n[i].layers||{},t(r.layers,n[i].layers))}}(t.debug.layers.tree,n)}),{list:e,tree:n}},t.ShaderProgram=Ki,t.VertexArrayObject=Ji,t.TextCanvas=Aa,t.DataSource=ro,t.Light=Jr,t.FontManager=sa,t.FeatureSelection=qr,t.View=Ha,t.StyleManager=iu,t.Style=fo,t.sliceObject=Ai,t.Thread=zt,t.mergeDebugSettings=function(t){Object.assign(ti,t)},t.version=Dn,t.Vector=Kr,t.VertexData=xo,t.Material=Yr,t.VertexElements=yo,t.compileFunctionStrings=Pr,t.parseLayers=function(t,e){bu={};var n={};for(var i in t){var r=t[i];r&&(n[i]=Cu(i,r,null,e))}return n},t.buildFilter=gu,t.FilterOptions=Su,t.layerCache=function(){return bu},t.cache=Lr,t.clearFunctionStringCache=function(){Lr.functions={},Lr.num_functions=0,Lr.num_cached=0}}),r(0,function(t){var e=Object.assign(self,{FeatureSelection:t.FeatureSelection,sources:{},styles:{},layers:{},tiles:{},init:function(e,n,i,r,o,s,a){return this.scene_id=e,this._worker_id=n,this.num_workers=i,t.log.setLevel(r),t.Utils.device_pixel_ratio=o,t.VertexElements.setElementIndexUint(s),t.FeatureSelection.setPrefix(this._worker_id),this.style_manager=new t.StyleManager,this.importExternalScripts(a),t.Label.id_prefix=n,t.Label.id_multiplier=i,n},importExternalScripts:function(e){var n=this;if(0!==e.length){t.log("debug","loading custom data source scripts in worker:",e);var i=Object.getOwnPropertyNames(window);importScripts.apply(void 0,e),Object.getOwnPropertyNames(window).forEach(function(t){-1===i.indexOf(t)&&(n[t]=window[t])})}},updateConfig:function(e,n){var i=e.config,r=e.generation,o=e.introspection;return i=JSON.parse(i),t.mergeDebugSettings(n),this.generation=r,this.introspection=o,this.global=t.compileFunctionStrings(i.global),this.createDataSources(i),i.styles=t.compileFunctionStrings(i.styles,t.StyleParser.wrapFunction),this.styles=this.style_manager.build(i.styles),this.style_manager.initStyles({generation:this.generation,styles:this.styles,sources:this.sources,introspection:this.introspection}),this.layers=t.parseLayers(i.layers,this.style_manager.styles),this.syncing_textures=this.syncTextures(i.textures),this.configuring=this.syncing_textures.then(function(){t.log("debug","updated config")}),this.configuring},createDataSources:function(e){var n=this;this.last_config_sources=this.config_sources||{},this.config_sources=e.sources;var i=this.sources,r=[];for(var o in this.sources={},e.sources)if(JSON.stringify(this.last_config_sources[o])!==JSON.stringify(e.sources[o])){e.sources[o]=t.compileFunctionStrings(e.sources[o]);var s=void 0;try{s=t.DataSource.create(Object.assign({},e.sources[o],{name:o}),this.sources)}catch(t){continue}s&&(this.sources[o]=s,r.push(o))}else this.sources[o]=i[o];r.forEach(function(t){for(var e in n.tiles)n.tiles[e].source===t&&delete n.tiles[e]})},awaitConfiguration:function(){return this.configuring},buildTile:function(e){var n=this,i=e.tile;if(null==this.getTile(i.key)||!0!==this.getTile(i.key).loading)return i=this.tiles[i.key]=Object.assign(this.getTile(i.key)||{},i),this.awaitConfiguration().then(function(){if(!0!==i.loaded)i.loading=!0,i.loaded=!1,i.error=null,n.loadTileSourceData(i).then(function(){n.getTile(i.key)?(i.source_data.error&&t.log("warn","tile load error(s) for "+i.key+": "+i.source_data.error),i.loading=!1,i.loaded=!0,t.Tile.buildGeometry(i,n)):t.log("trace","stop tile build after data source load because tile was removed: "+i.key)}).catch(function(e){i.loading=!1,i.loaded=!1,i.error=e.stack,t.log("error","tile load error for "+i.key+": "+i.error),t.WorkerBroker.postMessage("TileManager_"+n.scene_id+".buildTileError",t.Tile.slice(i))});else{t.log("trace","used worker cache for tile "+i.key);try{t.Tile.buildGeometry(i,n)}catch(e){i.error=e.toString(),t.WorkerBroker.postMessage("TileManager_"+n.scene_id+".buildTileError",t.Tile.slice(i))}}})},loadTileSourceData:function(t){var e=this.sources[t.source];if(e){for(var n in this.tiles){var i=this.tiles[n];if(i.source===t.source&&i.coords.key===t.coords.key&&i.loaded)return Promise.resolve(e.copyTileData(i,t))}return e.load(t)}return t.source_data={},Promise.resolve(t)},getTile:function(t){return this.tiles[t]},removeTile:function(e){var n=this.tiles[e];null!=n&&(!0===n.loading&&(t.log("trace","cancel tile load for "+e),n.loading=!1,t.Tile.cancel(n)),t.FeatureSelection.clearTile(e),delete this.tiles[e],t.log("trace","remove tile from cache for "+e))},queryFeatures:function(e){var n=this,i=e.filter,r=e.visible,o=e.geometry,s=e.tile_keys,a=[],u=s.map(function(t){return n.tiles[t]}).filter(function(t){return t&&t.loaded});return null!=i&&(i=["{","["].indexOf(i[0])>-1?JSON.parse(i):i,i=t.compileFunctionStrings(i,t.StyleParser.wrapFunction)),i=t.buildFilter(i,t.FilterOptions),u.forEach(function(e){var s=function(s){e.source_data.layers[s].features.forEach(function(u){var l=u.generation===n.generation;if(!(!0===r&&!l||!1===r&&l)){var c=t.StyleParser.getFeatureParseContext(u,e,n.global);if(c.source=e.source,c.layer=s,i(c)){var h={type:u.type,properties:Object.assign({},u.properties,{$source:c.source,$layer:c.layer,$geometry:c.geometry,$visible:l})};!0===o&&(h.geometry=t.Geo.copyGeometry(u.geometry),t.Geo.tileSpaceToLatlng(h.geometry,e.coords.z,e.min)),a.push(h)}}})};for(var u in e.source_data.layers)s(u)}),a},getFeatureSelection:function(e){var n=void 0===e?{}:e,i=n.id,r=n.key,o=t.FeatureSelection.map[r];return{id:i,feature:o&&o.feature}},resetFeatureSelection:function(e){void 0===e&&(e=null),t.FeatureSelection.reset(e)},getFeatureSelectionMapSize:function(){return t.FeatureSelection.getMapSize()},syncTextures:function(e){var n=[];return e&&n.push.apply(n,Object.keys(e)),t.log("trace","sync textures to worker:",n),n.length>0?t.Texture.syncTexturesToWorker(n):Promise.resolve()},updateDevicePixelRatio:function(e){t.Utils.device_pixel_ratio=e},clearFunctionStringCache:function(){t.clearFunctionStringCache()},profile:function(t){console.profile("worker "+this._worker_id+": "+t)},profileEnd:function(t){console.profileEnd("worker "+this._worker_id+": "+t)},debug:{debugSettings:t.debugSettings,layerCache:t.layerCache,functionStringCache:t.cache}});t.WorkerBroker.addTarget("self",e)}),r(0,function(t){var n={f:t.require$$0},r=t.require$$1$1.f,o=function(e){var i=t.require$$1.Symbol||(t.require$$1.Symbol=t.global.Symbol||{});"_"==e.charAt(0)||e in i||r(i,e,{value:n.f(e)})};o("asyncIterator");var s,a=t.require$$0$2.f,u={}.toString,l="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c={f:function(e){return l&&"[object Window]"==u.call(e)?function(t){try{return a(t)}catch(t){return l.slice()}}(e):a(t.toIObject(e))}},h=t.require$$0$3.KEY,f=t.require$$1$2.f,d=t.require$$1$1.f,p=c.f,m=t.global.Symbol,_=t.global.JSON,v=_&&_.stringify,g=t.require$$0("_hidden"),y=t.require$$0("toPrimitive"),b={}.propertyIsEnumerable,x=t.require$$0$4("symbol-registry"),w=t.require$$0$4("symbols"),T=t.require$$0$4("op-symbols"),A=Object.prototype,E="function"==typeof m,S=t.global.QObject,k=!S||!S.prototype||!S.prototype.findChild,C=t.DESCRIPTORS&&t.fails(function(){return 7!=t.require$$22(d({},"a",{get:function(){return d(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=f(A,e);i&&delete A[e],d(t,e,n),i&&t!==A&&d(A,e,i)}:d,O=function(e){var n=w[e]=t.require$$22(m.prototype);return n._k=e,n},L=E&&"symbol"==typeof m.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof m},P=function(e,n,i){return e===A&&P(T,n,i),t.anObject(e),n=t.require$$16(n,!0),t.anObject(i),t.require$$17(w,n)?(i.enumerable?(t.require$$17(e,g)&&e[g][n]&&(e[g][n]=!1),i=t.require$$22(i,{enumerable:t.require$$9(0,!1)})):(t.require$$17(e,g)||d(e,g,t.require$$9(1,{})),e[g][n]=!0),C(e,n,i)):d(e,n,i)},R=function(e,n){t.anObject(e);for(var i,r=function(e){var n=t.getKeys(e),i=t.gOPS.f;if(i)for(var r,o=i(e),s=t.require$$0$1.f,a=0;o.length>a;)s.call(e,r=o[a++])&&n.push(r);return n}(n=t.toIObject(n)),o=0,s=r.length;s>o;)P(e,i=r[o++],n[i]);return e},M=function(e){var n=b.call(this,e=t.require$$16(e,!0));return!(this===A&&t.require$$17(w,e)&&!t.require$$17(T,e))&&(!(n||!t.require$$17(this,e)||!t.require$$17(w,e)||t.require$$17(this,g)&&this[g][e])||n)},I=function(e,n){if(e=t.toIObject(e),n=t.require$$16(n,!0),e!==A||!t.require$$17(w,n)||t.require$$17(T,n)){var i=f(e,n);return!i||!t.require$$17(w,n)||t.require$$17(e,g)&&e[g][n]||(i.enumerable=!0),i}},N=function(e){for(var n,i=p(t.toIObject(e)),r=[],o=0;i.length>o;)t.require$$17(w,n=i[o++])||n==g||n==h||r.push(n);return r},z=function(e){for(var n,i=e===A,r=p(i?T:t.toIObject(e)),o=[],s=0;r.length>s;)!t.require$$17(w,n=r[s++])||i&&!t.require$$17(A,n)||o.push(w[n]);return o};E||(m=function(){if(this instanceof m)throw TypeError("Symbol is not a constructor!");var e=t.uid(arguments.length>0?arguments[0]:void 0),n=function(i){this===A&&n.call(T,i),t.require$$17(this,g)&&t.require$$17(this[g],e)&&(this[g][e]=!1),C(this,e,t.require$$9(1,i))};return t.DESCRIPTORS&&k&&C(A,e,{configurable:!0,set:n}),O(e)},t.redefine(m.prototype,"toString",function(){return this._k}),t.require$$1$2.f=I,t.require$$1$1.f=P,t.require$$0$2.f=c.f=N,t.require$$0$1.f=M,t.gOPS.f=z,t.DESCRIPTORS&&!t.LIBRARY&&t.redefine(A,"propertyIsEnumerable",M,!0),n.f=function(e){return O(t.require$$0(e))}),t.$export(t.$export.G+t.$export.W+t.$export.F*!E,{Symbol:m});for(var D="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;D.length>j;)t.require$$0(D[j++]);for(var F=t.getKeys(t.require$$0.store),B=0;F.length>B;)o(F[B++]);t.$export(t.$export.S+t.$export.F*!E,"Symbol",{for:function(e){return t.require$$17(x,e+="")?x[e]:x[e]=m(e)},keyFor:function(t){if(!L(t))throw TypeError(t+" is not a symbol!");for(var e in x)if(x[e]===t)return e},useSetter:function(){k=!0},useSimple:function(){k=!1}}),t.$export(t.$export.S+t.$export.F*!E,"Object",{create:function(e,n){return void 0===n?t.require$$22(e):R(t.require$$22(e),n)},defineProperty:P,defineProperties:R,getOwnPropertyDescriptor:I,getOwnPropertyNames:N,getOwnPropertySymbols:z}),_&&t.$export(t.$export.S+t.$export.F*(!E||t.fails(function(){var t=m();return"[null]"!=v([t])||"{}"!=v({a:t})||"{}"!=v(Object(t))})),"JSON",{stringify:function(e){for(var n,i,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=n=r[1],(t.isObject(n)||void 0!==e)&&!L(e))return t.isArray(n)||(n=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!L(e))return e}),r[1]=n,v.apply(_,r)}}),m.prototype[y]||t.hide(m.prototype,y,m.prototype.valueOf),t.setToStringTag(m,"Symbol"),t.setToStringTag(Math,"Math",!0),t.setToStringTag(t.global.JSON,"JSON",!0);var U=s={},H=0;s.getContext=function(t,e){var n=!1;null==t&&((t=document.createElement("canvas")).style.position="absolute",t.style.top=0,t.style.left=0,t.style.zIndex=-1,document.body.appendChild(t),n=!0);var i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!i)throw new Error("Couldn't create WebGL context.");return i._tangram_id=H++,n?(s.resize(i,window.innerWidth,window.innerHeight,e.device_pixel_ratio),window.addEventListener("resize",function(){s.resize(i,window.innerWidth,window.innerHeight,e.device_pixel_ratio)})):s.resize(i,parseFloat(t.style.width),parseFloat(t.style.height),e.device_pixel_ratio),i},s.resize=function(t,e,n,i){i=i||window.devicePixelRatio||1,t.canvas.style.width=e+"px",t.canvas.style.height=n+"px",t.canvas.width=Math.round(e*i),t.canvas.height=Math.round(n*i),t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,t.canvas.width,t.canvas.height)};var $=void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},W=[],G=[],q="undefined"!=typeof Uint8Array?Uint8Array:Array,V=!1;function Z(){V=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)W[e]=t[e],G[t.charCodeAt(e)]=e;G["-".charCodeAt(0)]=62,G["_".charCodeAt(0)]=63}function X(t,e,n){for(var i,r,o=[],s=e;s<n;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(W[(r=i)>>18&63]+W[r>>12&63]+W[r>>6&63]+W[63&r]);return o.join("")}function Y(t){var e;V||Z();for(var n=t.length,i=n%3,r="",o=[],s=0,a=n-i;s<a;s+=16383)o.push(X(t,s,s+16383>a?a:s+16383));return 1===i?(e=t[n-1],r+=W[e>>2],r+=W[e<<4&63],r+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],r+=W[e>>10],r+=W[e>>4&63],r+=W[e<<2&63],r+="="),o.push(r),o.join("")}function K(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=l}return(d?-1:1)*s*Math.pow(2,o-i)}function J(t,e,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*m}var Q={}.toString,tt=Array.isArray||function(t){return"[object Array]"==Q.call(t)};rt.TYPED_ARRAY_SUPPORT=void 0===$.TYPED_ARRAY_SUPPORT||$.TYPED_ARRAY_SUPPORT;var et=nt();function nt(){return rt.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function it(t,e){if(nt()<e)throw new RangeError("Invalid typed array length");return rt.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=rt.prototype:(null===t&&(t=new rt(e)),t.length=e),t}function rt(t,e,n){if(!(rt.TYPED_ARRAY_SUPPORT||this instanceof rt))return new rt(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return at(this,t)}return ot(this,t,e,n)}function ot(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),rt.TYPED_ARRAY_SUPPORT?(t=e).__proto__=rt.prototype:t=ut(t,e),t}(t,e,n,i):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!rt.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|ht(e,n),r=(t=it(t,i)).write(e,n);return r!==i&&(t=t.slice(0,r)),t}(t,e,n):function(t,e){if(ct(e)){var n=0|lt(e.length);return 0===(t=it(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?it(t,0):ut(t,e);if("Buffer"===e.type&&tt(e.data))return ut(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function st(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function at(t,e){if(st(e),t=it(t,e<0?0:0|lt(e)),!rt.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function ut(t,e){var n=e.length<0?0:0|lt(e.length);t=it(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function lt(t){if(t>=nt())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+nt().toString(16)+" bytes");return 0|t}function ct(t){return!(null==t||!t._isBuffer)}function ht(t,e){if(ct(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Dt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return jt(t).length;default:if(i)return Dt(t).length;e=(""+e).toLowerCase(),i=!0}}function ft(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function dt(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=rt.from(e,i)),ct(e))return 0===e.length?-1:pt(t,e,n,i,r);if("number"==typeof e)return e&=255,rt.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):pt(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function pt(t,e,n,i,r){var o,s=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var c=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function mt(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function _t(t,e,n,i){return Ft(Dt(e,t.length-n),t,n,i)}function vt(t,e,n,i){return Ft(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function gt(t,e,n,i){return vt(t,e,n,i)}function yt(t,e,n,i){return Ft(jt(e),t,n,i)}function bt(t,e,n,i){return Ft(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)i=(n=t.charCodeAt(s))>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function xt(t,e,n){return 0===e&&n===t.length?Y(t):Y(t.slice(e,n))}function wt(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,u,l=t[r],c=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[r+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return function(t){var e=t.length;if(e<=Tt)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=Tt));return n}(i)}rt.poolSize=8192,rt._augment=function(t){return t.__proto__=rt.prototype,t},rt.from=function(t,e,n){return ot(null,t,e,n)},rt.TYPED_ARRAY_SUPPORT&&(rt.prototype.__proto__=Uint8Array.prototype,rt.__proto__=Uint8Array),rt.alloc=function(t,e,n){return function(t,e,n,i){return st(e),e<=0?it(t,e):void 0!==n?"string"==typeof i?it(t,e).fill(n,i):it(t,e).fill(n):it(t,e)}(null,t,e,n)},rt.allocUnsafe=function(t){return at(null,t)},rt.allocUnsafeSlow=function(t){return at(null,t)},rt.isBuffer=Bt,rt.compare=function(t,e){if(!ct(t)||!ct(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},rt.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},rt.concat=function(t,e){if(!tt(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return rt.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=rt.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var o=t[n];if(!ct(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},rt.byteLength=ht,rt.prototype._isBuffer=!0,rt.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)ft(this,e,e+1);return this},rt.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)ft(this,e,e+3),ft(this,e+1,e+2);return this},rt.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)ft(this,e,e+7),ft(this,e+1,e+6),ft(this,e+2,e+5),ft(this,e+3,e+4);return this},rt.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?wt(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return St(this,e,n);case"utf8":case"utf-8":return wt(this,e,n);case"ascii":return At(this,e,n);case"latin1":case"binary":return Et(this,e,n);case"base64":return xt(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kt(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},rt.prototype.equals=function(t){if(!ct(t))throw new TypeError("Argument must be a Buffer");return this===t||0===rt.compare(this,t)},rt.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},rt.prototype.compare=function(t,e,n,i,r){if(!ct(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(i,r),l=t.slice(e,n),c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},rt.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},rt.prototype.indexOf=function(t,e,n){return dt(this,t,e,n,!0)},rt.prototype.lastIndexOf=function(t,e,n){return dt(this,t,e,n,!1)},rt.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return mt(this,t,e,n);case"utf8":case"utf-8":return _t(this,t,e,n);case"ascii":return vt(this,t,e,n);case"latin1":case"binary":return gt(this,t,e,n);case"base64":return yt(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},rt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Tt=4096;function At(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function Et(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function St(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=zt(t[o]);return r}function kt(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function Ct(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function Ot(t,e,n,i,r,o){if(!ct(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function Lt(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function Pt(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function Rt(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Mt(t,e,n,i,r){return r||Rt(t,0,n,4),J(t,e,n,i,23,4),n+4}function It(t,e,n,i,r){return r||Rt(t,0,n,8),J(t,e,n,i,52,8),n+8}rt.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),rt.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=rt.prototype;else{var r=e-t;n=new rt(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},rt.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||Ct(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},rt.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||Ct(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},rt.prototype.readUInt8=function(t,e){return e||Ct(t,1,this.length),this[t]},rt.prototype.readUInt16LE=function(t,e){return e||Ct(t,2,this.length),this[t]|this[t+1]<<8},rt.prototype.readUInt16BE=function(t,e){return e||Ct(t,2,this.length),this[t]<<8|this[t+1]},rt.prototype.readUInt32LE=function(t,e){return e||Ct(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},rt.prototype.readUInt32BE=function(t,e){return e||Ct(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},rt.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||Ct(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},rt.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||Ct(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},rt.prototype.readInt8=function(t,e){return e||Ct(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},rt.prototype.readInt16LE=function(t,e){e||Ct(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},rt.prototype.readInt16BE=function(t,e){e||Ct(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},rt.prototype.readInt32LE=function(t,e){return e||Ct(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},rt.prototype.readInt32BE=function(t,e){return e||Ct(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},rt.prototype.readFloatLE=function(t,e){return e||Ct(t,4,this.length),K(this,t,!0,23,4)},rt.prototype.readFloatBE=function(t,e){return e||Ct(t,4,this.length),K(this,t,!1,23,4)},rt.prototype.readDoubleLE=function(t,e){return e||Ct(t,8,this.length),K(this,t,!0,52,8)},rt.prototype.readDoubleBE=function(t,e){return e||Ct(t,8,this.length),K(this,t,!1,52,8)},rt.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||Ot(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},rt.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||Ot(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},rt.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||Ot(this,t,e,1,255,0),rt.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},rt.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||Ot(this,t,e,2,65535,0),rt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Lt(this,t,e,!0),e+2},rt.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||Ot(this,t,e,2,65535,0),rt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Lt(this,t,e,!1),e+2},rt.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||Ot(this,t,e,4,4294967295,0),rt.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Pt(this,t,e,!0),e+4},rt.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||Ot(this,t,e,4,4294967295,0),rt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Pt(this,t,e,!1),e+4},rt.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);Ot(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},rt.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);Ot(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},rt.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||Ot(this,t,e,1,127,-128),rt.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},rt.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||Ot(this,t,e,2,32767,-32768),rt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Lt(this,t,e,!0),e+2},rt.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||Ot(this,t,e,2,32767,-32768),rt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Lt(this,t,e,!1),e+2},rt.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||Ot(this,t,e,4,2147483647,-2147483648),rt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Pt(this,t,e,!0),e+4},rt.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||Ot(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),rt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Pt(this,t,e,!1),e+4},rt.prototype.writeFloatLE=function(t,e,n){return Mt(this,t,e,!0,n)},rt.prototype.writeFloatBE=function(t,e,n){return Mt(this,t,e,!1,n)},rt.prototype.writeDoubleLE=function(t,e,n){return It(this,t,e,!0,n)},rt.prototype.writeDoubleBE=function(t,e,n){return It(this,t,e,!1,n)},rt.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!rt.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},rt.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!rt.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=ct(t)?t:Dt(new rt(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var Nt=/[^+\/0-9A-Za-z-_]/g;function zt(t){return t<16?"0"+t.toString(16):t.toString(16)}function Dt(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function jt(t){return function(t){var e,n,i,r,o,s;V||Z();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,s=new q(3*a/4-o),i=o>0?a-4:a;var u=0;for(e=0,n=0;e<i;e+=4,n+=3)r=G[t.charCodeAt(e)]<<18|G[t.charCodeAt(e+1)]<<12|G[t.charCodeAt(e+2)]<<6|G[t.charCodeAt(e+3)],s[u++]=r>>16&255,s[u++]=r>>8&255,s[u++]=255&r;return 2===o?(r=G[t.charCodeAt(e)]<<2|G[t.charCodeAt(e+1)]>>4,s[u++]=255&r):1===o&&(r=G[t.charCodeAt(e)]<<10|G[t.charCodeAt(e+1)]<<4|G[t.charCodeAt(e+2)]>>2,s[u++]=r>>8&255,s[u++]=255&r),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Nt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Ft(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function Bt(t){return null!=t&&(!!t._isBuffer||Ut(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Ut(t.slice(0,0))}(t))}function Ut(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Ht=Object.freeze({INSPECT_MAX_BYTES:50,kMaxLength:et,Buffer:rt,SlowBuffer:function(t){return+t!=t&&(t=0),rt.alloc(+t)},isBuffer:Bt});function $t(){}function Wt(){Wt.init.call(this)}function Gt(t){return void 0===t._maxListeners?Wt.defaultMaxListeners:t._maxListeners}function qt(t,e,n,i){var r,o,s,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]):(o=t._events=new $t,t._eventsCount=0),s){if("function"==typeof s?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),!s.warned&&(r=Gt(t))&&r>0&&s.length>r){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=o[e]=n,++t._eventsCount;return t}function Vt(t,e,n){var i=!1;function r(){t.removeListener(e,r),i||(i=!0,n.apply(t,arguments))}return r.listener=n,r}function Zt(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Xt(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}function Yt(){throw new Error("setTimeout has not been defined")}function Kt(){throw new Error("clearTimeout has not been defined")}$t.prototype=Object.create(null),Wt.EventEmitter=Wt,Wt.usingDomains=!1,Wt.prototype.domain=void 0,Wt.prototype._events=void 0,Wt.prototype._maxListeners=void 0,Wt.defaultMaxListeners=10,Wt.init=function(){this.domain=null,Wt.usingDomains&&(void 0).active&&(void 0).Domain,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new $t,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Wt.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Wt.prototype.getMaxListeners=function(){return Gt(this)},Wt.prototype.emit=function(t){var e,n,i,r,o,s,a,u="error"===t;if(s=this._events)u=u&&null==s.error;else if(!u)return!1;if(a=this.domain,u){if(e=arguments[1],!a){if(e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(n=s[t]))return!1;var c="function"==typeof n;switch(i=arguments.length){case 1:!function(t,e,n){if(c)t.call(n);else for(var i=t.length,r=Xt(t,i),o=0;o<i;++o)r[o].call(n)}(n,0,this);break;case 2:!function(t,e,n,i){if(e)t.call(n,i);else for(var r=t.length,o=Xt(t,r),s=0;s<r;++s)o[s].call(n,i)}(n,c,this,arguments[1]);break;case 3:!function(t,e,n,i,r){if(e)t.call(n,i,r);else for(var o=t.length,s=Xt(t,o),a=0;a<o;++a)s[a].call(n,i,r)}(n,c,this,arguments[1],arguments[2]);break;case 4:!function(t,e,n,i,r,o){if(e)t.call(n,i,r,o);else for(var s=t.length,a=Xt(t,s),u=0;u<s;++u)a[u].call(n,i,r,o)}(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(i-1),o=1;o<i;o++)r[o-1]=arguments[o];!function(t,e,n,i){if(c)t.apply(n,i);else for(var r=t.length,o=Xt(t,r),s=0;s<r;++s)o[s].apply(n,i)}(n,0,this,r)}return!0},Wt.prototype.addListener=function(t,e){return qt(this,t,e,!1)},Wt.prototype.on=Wt.prototype.addListener,Wt.prototype.prependListener=function(t,e){return qt(this,t,e,!0)},Wt.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,Vt(this,t,e)),this},Wt.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Vt(this,t,e)),this},Wt.prototype.removeListener=function(t,e){var n,i,r,o,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[t]))return this;if(n===e||n.listener&&n.listener===e)0==--this._eventsCount?this._events=new $t:(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new $t,this;delete i[t]}else!function(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}(n,r);i.removeListener&&this.emit("removeListener",t,s||e)}return this},Wt.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new $t,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new $t:delete n[t]),this;if(0===arguments.length){for(var i,r=Object.keys(n),o=0;o<r.length;++o)"removeListener"!==(i=r[o])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=new $t,this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},Wt.prototype.listeners=function(t){var e,n=this._events;return n&&(e=n[t])?"function"==typeof e?[e.listener||e]:function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(e):[]},Wt.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Zt.call(t,e)},Wt.prototype.listenerCount=Zt,Wt.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Jt=Yt,Qt=Kt;function te(t){if(Jt===setTimeout)return setTimeout(t,0);if((Jt===Yt||!Jt)&&setTimeout)return Jt=setTimeout,setTimeout(t,0);try{return Jt(t,0)}catch(e){try{return Jt.call(null,t,0)}catch(e){return Jt.call(this,t,0)}}}"function"==typeof $.setTimeout&&(Jt=setTimeout),"function"==typeof $.clearTimeout&&(Qt=clearTimeout);var ee,ne=[],ie=!1,re=-1;function oe(){ie&&ee&&(ie=!1,ee.length?ne=ee.concat(ne):re=-1,ne.length&&se())}function se(){if(!ie){var t=te(oe);ie=!0;for(var e=ne.length;e;){for(ee=ne,ne=[];++re<e;)ee&&ee[re].run();re=-1,e=ne.length}ee=null,ie=!1,function(t){if(Qt===clearTimeout)return clearTimeout(t);if((Qt===Kt||!Qt)&&clearTimeout)return Qt=clearTimeout,clearTimeout(t);try{Qt(t)}catch(e){try{return Qt.call(null,t)}catch(e){return Qt.call(this,t)}}}(t)}}function ae(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ne.push(new ue(t,e)),1!==ne.length||ie||te(se)}function ue(t,e){this.fun=t,this.array=e}function le(){}ue.prototype.run=function(){this.fun.apply(null,this.array)};var ce=le,he=le,fe=le,de=le,pe=le,me=le,_e=le,ve=$.performance||{},ge=ve.now||ve.mozNow||ve.msNow||ve.oNow||ve.webkitNow||function(){return(new Date).getTime()},ye=new Date,be={nextTick:ae,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ce,addListener:he,once:fe,off:de,removeListener:pe,removeAllListeners:me,emit:_e,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*ge.call(ve),n=Math.floor(e),i=Math.floor(e%1*1e9);return t&&(n-=t[0],(i-=t[1])<0&&(n--,i+=1e9)),[n,i]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-ye)/1e3}},xe=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8},we=t.createCommonjsModule(function(t){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}),Te=t.createCommonjsModule(function(t,e){var n=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(o(arguments[i]));return e.join(" ")}i=1;for(var r=arguments,s=r.length,a=String(t).replace(n,function(t){if("%%"===t)return"%";if(i>=s)return t;switch(t){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch(t){return"[Circular]"}default:return t}}),u=r[i];i<s;u=r[++i])d(u)||!g(u)?a+=" "+u:a+=" "+o(u);return a},e.deprecate=function(t,n){if(_($.process))return function(){return e.deprecate(t,n).apply(this,arguments)};var i=!1;return function(){return i||(console.error(n),i=!0),t.apply(this,arguments)}};var i,r={};function o(t,n){var i={seen:[],stylize:a};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),f(n)?i.showHidden=n:n&&e._extend(i,n),_(i.showHidden)&&(i.showHidden=!1),_(i.depth)&&(i.depth=2),_(i.colors)&&(i.colors=!1),_(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=s),u(i,t,i.depth)}function s(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function a(t,e){return t}function u(t,n,i){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return m(r)||(r=u(t,r,i)),r}var o=function(t,e){if(_(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return p(e)?t.stylize(""+e,"number"):f(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return s.forEach(function(t,n){e[t]=!0}),e}();if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),b(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(n);if(0===s.length){if(x(n)){var g=n.name?": "+n.name:"";return t.stylize("[Function"+g+"]","special")}if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(y(n))return t.stylize(Date.prototype.toString.call(n),"date");if(b(n))return l(n)}var w,T="",A=!1,S=["{","}"];return h(n)&&(A=!0,S=["[","]"]),x(n)&&(T=" [Function"+(n.name?": "+n.name:"")+"]"),v(n)&&(T=" "+RegExp.prototype.toString.call(n)),y(n)&&(T=" "+Date.prototype.toUTCString.call(n)),b(n)&&(T=" "+l(n)),0!==s.length||A&&0!=n.length?i<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),w=A?function(t,e,n,i,r){for(var o=[],s=0,a=e.length;s<a;++s)E(e,String(s))?o.push(c(t,e,n,i,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(c(t,e,n,i,r,!0))}),o}(t,n,i,a,s):s.map(function(e){return c(t,n,i,a,e,A)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(w,T,S)):S[0]+T+S[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function c(t,e,n,i,r,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),E(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(l.value)<0?(a=d(n)?u(t,l.value,null):u(t,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),_(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function h(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function d(t){return null===t}function p(t){return"number"==typeof t}function m(t){return"string"==typeof t}function _(t){return void 0===t}function v(t){return g(t)&&"[object RegExp]"===w(t)}function g(t){return"object"==typeof t&&null!==t}function y(t){return g(t)&&"[object Date]"===w(t)}function b(t){return g(t)&&("[object Error]"===w(t)||t instanceof Error)}function x(t){return"function"==typeof t}function w(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(_(i)&&(i=be.env.NODE_DEBUG||""),t=t.toUpperCase(),!r[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=be.pid;r[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else r[t]=function(){};return r[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=f,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=p,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=_,e.isRegExp=v,e.isObject=g,e.isDate=y,e.isError=b,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=xe;var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(n=[T((t=new Date).getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":"),[t.getDate(),A[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=we,e._extend=function(t,e){if(!e||!g(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}),Ae=(Te.format,Te.deprecate),Ee=Te.debuglog,Se=(Te.inspect,Te.isArray,Te.isBoolean,Te.isNull,Te.isNullOrUndefined,Te.isNumber,Te.isString,Te.isSymbol,Te.isUndefined,Te.isRegExp,Te.isObject,Te.isDate,Te.isError,Te.isFunction,Te.isPrimitive,Te.isBuffer,Te.log,Te.inherits);function ke(){this.head=null,this.tail=null,this.length=0}Te._extend,ke.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},ke.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},ke.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},ke.prototype.clear=function(){this.head=this.tail=null,this.length=0},ke.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},ke.prototype.concat=function(t){if(0===this.length)return rt.alloc(0);if(1===this.length)return this.head.data;for(var e=rt.allocUnsafe(t>>>0),n=this.head,i=0;n;)n.data.copy(e,i),i+=n.data.length,n=n.next;return e};var Ce=t.createCommonjsModule(function(t,e){var n=Ht.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function r(t,e,i){return n(t,e,i)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=Ht:(i(Ht,e),e.Buffer=r),i(n,r),r.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,i)},r.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=n(t);return void 0!==e?"string"==typeof i?r.fill(e,i):r.fill(e):r.fill(0),r},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return Ht.SlowBuffer(t)}}),Oe=(Ce.Buffer,Ce.Buffer),Le=Oe.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Pe=Re;function Re(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(Oe.isEncoding===Le||!Le(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=Ne,this.end=ze,e=4;break;case"utf8":this.fillLast=Ie,e=4;break;case"base64":this.text=De,this.end=je,e=3;break;default:return this.write=Fe,void(this.end=Be)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Oe.allocUnsafe(e)}function Me(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function Ie(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�".repeat(n);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�".repeat(n+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�".repeat(n+2)}}(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function Ne(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function ze(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function De(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function je(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Fe(t){return t.toString(this.encoding)}function Be(t){return t&&t.length?this.write(t):""}Re.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},Re.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�".repeat(this.lastTotal-this.lastNeed):e},Re.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=Me(e[i]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--i<n?0:(r=Me(e[i]))>=0?(r>0&&(t.lastNeed=r-2),r):--i<n?0:(r=Me(e[i]))>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},Re.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},$e.ReadableState=He;var Ue=Ee("stream");function He(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof gn&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.buffer=new ke,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new Pe(t.encoding),this.encoding=t.encoding)}function $e(t){if(!(this instanceof $e))return new $e(t);this._readableState=new He(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),Wt.call(this)}function We(t,e,n,i,r){var o=function(t,e){var n=null;return Bt(e)||"string"==typeof e||null==e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(e,n);if(o)t.emit("error",o);else if(null===n)e.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,Ve(t)}}(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!r){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&r){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else{var u;!e.decoder||r||i||(n=e.decoder.write(n),u=!e.objectMode&&0===n.length),r||(e.reading=!1),u||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&Ve(t))),function(t,e){e.readingMore||(e.readingMore=!0,ae(Xe,t,e))}(t,e)}else r||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}Se($e,Wt),$e.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=rt.from(t,e),e=""),We(this,n,t,e,!1)},$e.prototype.unshift=function(t){return We(this,this._readableState,t,"",!0)},$e.prototype.isPaused=function(){return!1===this._readableState.flowing},$e.prototype.setEncoding=function(t){return this._readableState.decoder=new Pe(t),this._readableState.encoding=t,this};var Ge=8388608;function qe(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=Ge?t=Ge:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function Ve(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ue("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?ae(Ze,t):Ze(t))}function Ze(t){Ue("emit readable"),t.emit("readable"),Je(t)}function Xe(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ue("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function Ye(t){Ue("readable nexttick read 0"),t.read(0)}function Ke(t,e){e.reading||(Ue("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Je(t),e.flowing&&!e.reading&&t.read(0)}function Je(t){var e=t._readableState;for(Ue("flow",e.flowing);e.flowing&&null!==t.read(););}function Qe(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,r=n.data;for(t-=r.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?r+=o:r+=o.slice(0,t),0==(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e):function(t,e){var n=rt.allocUnsafe(t),i=e.head,r=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var o=i.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0==(t-=s)){s===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(s));break}++r}return e.length-=r,n}(t,e),i}(t,e.buffer,e.decoder),n);var n}function tn(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,ae(en,e,t))}function en(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function nn(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function rn(){}function on(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function sn(t,e){Object.defineProperty(this,"buffer",{get:Ae(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof gn&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=!1===t.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?ae(r,i):r(i),t._writableState.errorEmitted=!0,t.emit("error",i)}(t,n,i,e,r);else{var o=hn(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||cn(t,n),i?ae(ln,t,n,o,r):ln(t,n,o,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new pn(this)}function an(t){if(!(this instanceof an||this instanceof gn))return new an(t);this._writableState=new sn(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),Wt.call(this)}function un(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function ln(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),dn(t,e)}function cn(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0;n;)r[s]=n,n=n.next,s+=1;un(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new pn(e)}else{for(;n;){var a=n.chunk,u=n.encoding,l=n.callback;if(un(t,e,!1,e.objectMode?1:a.length,a,u,l),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function hn(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function fn(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function dn(t,e){var n=hn(e);return n&&(0===e.pendingcb?(fn(t,e),e.finished=!0,t.emit("finish")):fn(t,e)),n}function pn(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}$e.prototype.read=function(t){Ue("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ue("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?tn(this):Ve(this),null;if(0===(t=qe(t,e))&&e.ended)return 0===e.length&&tn(this),null;var i,r=e.needReadable;return Ue("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&Ue("length less than watermark",r=!0),e.ended||e.reading?Ue("reading or ended",r=!1):r&&(Ue("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=qe(n,e))),null===(i=t>0?Qe(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&tn(this)),null!==i&&this.emit("data",i),i},$e.prototype._read=function(t){this.emit("error",new Error("not implemented"))},$e.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,Ue("pipe count=%d opts=%j",i.pipesCount,e);var r=e&&!1===e.end?l:s;function o(t){Ue("onunpipe"),t===n&&l()}function s(){Ue("onend"),t.end()}i.endEmitted?ae(r):n.once("end",r),t.on("unpipe",o);var a=function(t){return function(){var e=t._readableState;Ue("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,Je(t))}}(n);t.on("drain",a);var u=!1;function l(){Ue("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",a),t.removeListener("error",f),t.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",l),n.removeListener("data",h),u=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||a()}var c=!1;function h(e){Ue("ondata"),c=!1,!1!==t.write(e)||c||((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==nn(i.pipes,t))&&!u&&(Ue("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,c=!0),n.pause())}function f(e){Ue("onerror",e),m(),t.removeListener("error",f),0===("error",t.listeners("error").length)&&t.emit("error",e)}function d(){t.removeListener("finish",p),m()}function p(){Ue("onfinish"),t.removeListener("close",d),m()}function m(){Ue("unpipe"),n.unpipe(t)}return n.on("data",h),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",f),t.once("close",d),t.once("finish",p),t.emit("pipe",n),i.flowing||(Ue("pipe resume"),n.resume()),t},$e.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this);return this}var o=nn(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},$e.prototype.on=function(t,e){var n=Wt.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&Ve(this):ae(Ye,this))}return n},$e.prototype.addListener=$e.prototype.on,$e.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ue("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,ae(Ke,t,e))}(this,t)),this},$e.prototype.pause=function(){return Ue("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Ue("pause"),this._readableState.flowing=!1,this.emit("pause")),this},$e.prototype.wrap=function(t){var e=this._readableState,n=!1,i=this;for(var r in t.on("end",function(){if(Ue("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&i.push(t)}i.push(null)}),t.on("data",function(r){Ue("wrapped data"),e.decoder&&(r=e.decoder.write(r)),e.objectMode&&null==r||(e.objectMode||r&&r.length)&&(i.push(r)||(n=!0,t.pause()))}),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));return function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n])}(["error","close","destroy","pause","resume"],function(e){t.on(e,i.emit.bind(i,e))}),i._read=function(e){Ue("wrapped _read",e),n&&(n=!1,t.resume())},i},$e._fromList=Qe,an.WritableState=sn,Se(an,Wt),sn.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},an.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},an.prototype.write=function(t,e,n){var i=this._writableState,r=!1;return"function"==typeof e&&(n=e,e=null),rt.isBuffer(t)?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=rn),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),ae(e,n)}(this,n):function(t,e,n,i){var r=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):rt.isBuffer(n)||"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),ae(i,o),r=!1),r}(this,i,t,n)&&(i.pendingcb++,r=function(t,e,n,i,r){n=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=rt.from(e,n)),e}(e,n,i),rt.isBuffer(n)&&(i="buffer");var o=e.objectMode?1:n.length;e.length+=o;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var a=e.lastBufferedRequest;e.lastBufferedRequest=new on(n,i,r),a?a.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else un(t,e,!1,o,n,i,r);return s}(this,i,t,e,n)),r},an.prototype.cork=function(){this._writableState.corked++},an.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||cn(this,t))},an.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},an.prototype._write=function(t,e,n){n(new Error("not implemented"))},an.prototype._writev=null,an.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,dn(t,e),n&&(e.finished?ae(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,i,n)},Se(gn,$e);for(var mn=Object.keys(an.prototype),_n=0;_n<mn.length;_n++){var vn=mn[_n];gn.prototype[vn]||(gn.prototype[vn]=an.prototype[vn])}function gn(t){if(!(this instanceof gn))return new gn(t);$e.call(this,t),an.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",yn)}function yn(){this.allowHalfOpen||this._writableState.ended||ae(bn,this)}function bn(t){t.end()}function xn(t){this.afterTransform=function(e,n){return function(t,e,n){var i=t._transformState;i.transforming=!1;var r=i.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,null!=n&&t.push(n),r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function wn(t){if(!(this instanceof wn))return new wn(t);gn.call(this,t),this._transformState=new xn(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){Tn(e,t)}):Tn(e)})}function Tn(t,e){if(e)return t.emit("error",e);var n=t._writableState,i=t._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}function An(t){if(!(this instanceof An))return new An(t);wn.call(this,t)}function En(){Wt.call(this)}Se(wn,gn),wn.prototype.push=function(t,e){return this._transformState.needTransform=!1,gn.prototype.push.call(this,t,e)},wn.prototype._transform=function(t,e,n){throw new Error("Not implemented")},wn.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},wn.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},Se(An,wn),An.prototype._transform=function(t,e,n){n(null,t)},Se(En,Wt),En.Readable=$e,En.Writable=an,En.Duplex=gn,En.Transform=wn,En.PassThrough=An,En.Stream=En,En.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",r),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",a));var o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(l(),0===Wt.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",i),t.removeListener("drain",r),n.removeListener("end",s),n.removeListener("close",a),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",u),t.on("error",u),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t};var Sn=En,kn=t.createCommonjsModule(function(t,e){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=!0,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var n=new ArrayBuffer(0);try{e.blob=0===new Blob([n],{type:"application/zip"}).size}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),e.blob=0===i.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!Sn.Readable}catch(t){e.nodestream=!1}}),Cn=(kn.base64,kn.array,kn.string,kn.arraybuffer,kn.nodebuffer,kn.uint8array,kn.blob,kn.nodestream,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),On={encode:function(t){for(var e,n,i,r,o,s,a,u=[],l=0,c=t.length,h=c,f="string"!==Ii.getTypeOf(t);l<t.length;)h=c-l,f?(e=t[l++],n=l<c?t[l++]:0,i=l<c?t[l++]:0):(e=t.charCodeAt(l++),n=l<c?t.charCodeAt(l++):0,i=l<c?t.charCodeAt(l++):0),r=e>>2,o=(3&e)<<4|n>>4,s=h>1?(15&n)<<2|i>>6:64,a=h>2?63&i:64,u.push(Cn.charAt(r)+Cn.charAt(o)+Cn.charAt(s)+Cn.charAt(a));return u.join("")},decode:function(t){var e,n,i,r,o,s,a=0,u=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var l,c=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===Cn.charAt(64)&&c--,t.charAt(t.length-2)===Cn.charAt(64)&&c--,c%1!=0)throw new Error("Invalid base64 input, bad content length.");for(l=kn.uint8array?new Uint8Array(0|c):new Array(0|c);a<t.length;)e=Cn.indexOf(t.charAt(a++))<<2|(r=Cn.indexOf(t.charAt(a++)))>>4,n=(15&r)<<4|(o=Cn.indexOf(t.charAt(a++)))>>2,i=(3&o)<<6|(s=Cn.indexOf(t.charAt(a++))),l[u++]=e,64!==o&&(l[u++]=n),64!==s&&(l[u++]=i);return l}},Ln=function(t,e){return new rt(t,e)},Pn=function(t){return rt.alloc?rt.alloc(t):new rt(t)},Rn=function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume},Mn=t.createCommonjsModule(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),In=t.createCommonjsModule(function(t){var e=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=e)}),Nn=(In.version,function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}),zn=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Dn=function(t){if(!zn(t))throw TypeError(t+" is not an object!");return t},jn=function(t){try{return!!t()}catch(t){return!0}},Fn=!jn(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Bn=Mn.document,Un=zn(Bn)&&zn(Bn.createElement),Hn=function(t){return Un?Bn.createElement(t):{}},$n=!Fn&&!jn(function(){return 7!=Object.defineProperty(Hn("div"),"a",{get:function(){return 7}}).a}),Wn=Object.defineProperty,Gn={f:Fn?Object.defineProperty:function(t,e,n){if(Dn(t),e=function(t,e){if(!zn(t))return t;var n,i;if("function"==typeof(n=t.toString)&&!zn(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!zn(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e),Dn(n),$n)try{return Wn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},qn=Fn?function(t,e,n){return Gn.f(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}:function(t,e,n){return t[e]=n,t},Vn=function(t,e,n){var i,r,o,s=t&Vn.F,a=t&Vn.G,u=t&Vn.S,l=t&Vn.P,c=t&Vn.B,h=t&Vn.W,f=a?In:In[e]||(In[e]={}),d=f.prototype,p=a?Mn:u?Mn[e]:(Mn[e]||{}).prototype;for(i in a&&(n=e),n)(r=!s&&p&&void 0!==p[i])&&i in f||(o=r?p[i]:n[i],f[i]=a&&"function"!=typeof p[i]?n[i]:c&&r?Nn(o,Mn):h&&p[i]==o?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(o):l&&"function"==typeof o?Nn(Function.call,o):o,l&&((f.virtual||(f.virtual={}))[i]=o,t&Vn.R&&d&&!d[i]&&qn(d,i,o)))};Vn.F=1,Vn.G=2,Vn.S=4,Vn.P=8,Vn.B=16,Vn.W=32,Vn.U=64,Vn.R=128;var Zn,Xn,Yn,Kn,Jn=Vn,Qn=Mn.document&&document.documentElement,ti={}.toString,ei=Mn.process,ni=Mn.setImmediate,ii=Mn.clearImmediate,ri=Mn.MessageChannel,oi=0,si={},ai=function(){var t=+this;if(si.hasOwnProperty(t)){var e=si[t];delete si[t],e()}},ui=function(t){ai.call(t.data)};ni&&ii||(ni=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return si[++oi]=function(){!function(t,e,n){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3])}t.apply(n,e)}("function"==typeof t?t:Function(t),e)},Zn(oi),oi},ii=function(t){delete si[t]},"process"==(Kn=ei,ti.call(Kn).slice(8,-1))?Zn=function(t){ei.nextTick(Nn(ai,t,1))}:ri?(Yn=(Xn=new ri).port2,Xn.port1.onmessage=ui,Zn=Nn(Yn.postMessage,Yn,1)):Mn.addEventListener&&"function"==typeof postMessage&&!Mn.importScripts?(Zn=function(t){Mn.postMessage(t+"","*")},Mn.addEventListener("message",ui,!1)):Zn="onreadystatechange"in Hn("script")?function(t){Qn.appendChild(Hn("script")).onreadystatechange=function(){Qn.removeChild(this),ai.call(t)}}:function(t){setTimeout(Nn(ai,t,1),0)});var li={set:ni,clear:ii};Jn(Jn.G+Jn.B,{setImmediate:li.set,clearImmediate:li.clear});var ci,hi,fi=In.setImmediate,di=$.MutationObserver||$.WebKitMutationObserver;if(di){var pi=0,mi=new di(yi),_i=$.document.createTextNode("");mi.observe(_i,{characterData:!0}),ci=function(){_i.data=pi=++pi%2}}else if($.setImmediate||void 0===$.MessageChannel)ci="document"in $&&"onreadystatechange"in $.document.createElement("script")?function(){var t=$.document.createElement("script");t.onreadystatechange=function(){yi(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},$.document.documentElement.appendChild(t)}:function(){setTimeout(yi,0)};else{var vi=new $.MessageChannel;vi.port1.onmessage=yi,ci=function(){vi.port2.postMessage(0)}}var gi=[];function yi(){var t,e;hi=!0;for(var n=gi.length;n;){for(e=gi,gi=[],t=-1;++t<n;)e[t]();n=gi.length}hi=!1}var bi=function(t){1!==gi.push(t)||hi||ci()};function xi(){}var wi={},Ti=["REJECTED"],Ai=["FULFILLED"],Ei=["PENDING"],Si=ki;function ki(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=Ei,this.queue=[],this.outcome=void 0,t!==xi&&Pi(this,t)}function Ci(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function Oi(t,e,n){bi(function(){var i;try{i=e(n)}catch(e){return wi.reject(t,e)}i===t?wi.reject(t,new TypeError("Cannot resolve promise with itself")):wi.resolve(t,i)})}function Li(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function Pi(t,e){var n=!1;function i(e){n||(n=!0,wi.reject(t,e))}function r(e){n||(n=!0,wi.resolve(t,e))}var o=Ri(function(){e(r,i)});"error"===o.status&&i(o.value)}function Ri(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}ki.prototype.catch=function(t){return this.then(null,t)},ki.prototype.then=function(t,e){if("function"!=typeof t&&this.state===Ai||"function"!=typeof e&&this.state===Ti)return this;var n=new this.constructor(xi);return this.state!==Ei?Oi(n,this.state===Ai?t:e,this.outcome):this.queue.push(new Ci(n,t,e)),n},Ci.prototype.callFulfilled=function(t){wi.resolve(this.promise,t)},Ci.prototype.otherCallFulfilled=function(t){Oi(this.promise,this.onFulfilled,t)},Ci.prototype.callRejected=function(t){wi.reject(this.promise,t)},Ci.prototype.otherCallRejected=function(t){Oi(this.promise,this.onRejected,t)},wi.resolve=function(t,e){var n=Ri(Li,e);if("error"===n.status)return wi.reject(t,n.value);var i=n.value;if(i)Pi(t,i);else{t.state=Ai,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},wi.reject=function(t,e){t.state=Ti,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},ki.resolve=function(t){return t instanceof this?t:wi.resolve(new this(xi),t)},ki.reject=function(t){var e=new this(xi);return wi.reject(e,t)},ki.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var r=new Array(n),o=0,s=-1,a=new this(xi);++s<n;)u(t[s],s);return a;function u(t,s){e.resolve(t).then(function(t){r[s]=t,++o!==n||i||(i=!0,wi.resolve(a,r))},function(t){i||(i=!0,wi.reject(a,t))})}},ki.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var i,r=-1,o=new this(xi);++r<e;)i=t[r],this.resolve(i).then(function(t){n||(n=!0,wi.resolve(o,t))},function(t){n||(n=!0,wi.reject(o,t))});return o};var Mi={Promise:"undefined"!=typeof Promise?Promise:Si},Ii=t.createCommonjsModule(function(t,e){function n(t){return t}function i(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}e.newBlob=function(t,n){e.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var r={stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;r<o;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return kn.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return kn.nodebuffer&&1===String.fromCharCode.apply(null,Pn(1)).length}catch(t){return!1}}()}};function o(t){var n=65536,i=e.getTypeOf(t),o=!0;if("uint8array"===i?o=r.applyCanBeUsed.uint8array:"nodebuffer"===i&&(o=r.applyCanBeUsed.nodebuffer),o)for(;n>1;)try{return r.stringifyByChunk(t,i,n)}catch(t){n=Math.floor(n/2)}return r.stringifyByChar(t)}function s(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}e.applyFromCharCode=o;var a={};a.string={string:n,array:function(t){return i(t,new Array(t.length))},arraybuffer:function(t){return a.string.uint8array(t).buffer},uint8array:function(t){return i(t,new Uint8Array(t.length))},nodebuffer:function(t){return i(t,Pn(t.length))}},a.array={string:o,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return Ln(t)}},a.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return s(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return Ln(new Uint8Array(t))}},a.uint8array={string:o,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return Ln(t)}},a.nodebuffer={string:o,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return a.nodebuffer.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:n},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var i=e.getTypeOf(n);return a[i][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":kn.nodebuffer&&function(t){return Bt(t)}(t)?"nodebuffer":kn.uint8array&&t instanceof Uint8Array?"uint8array":kn.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!kn[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},e.delay=function(t,e,n){fi(function(){t.apply(n||null,e||[])})},e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},e.prepareContent=function(t,n,r,o,s){return Mi.Promise.resolve(n).then(function(t){return kn.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new Mi.Promise(function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)}):t}).then(function(n){var a,u=e.getTypeOf(n);return u?("arraybuffer"===u?n=e.transformTo("uint8array",n):"string"===u&&(s?n=On.decode(n):r&&!0!==o&&(n=i(a=n,kn.uint8array?new Uint8Array(a.length):new Array(a.length)))),n):Mi.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}});function Ni(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}Ii.newBlob,Ii.applyFromCharCode,Ii.transformTo,Ii.getTypeOf,Ii.checkSupport,Ii.MAX_VALUE_16BITS,Ii.MAX_VALUE_32BITS,Ii.pretty,Ii.delay,Ii.inherits,Ii.extend,Ii.prepareContent,Ni.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}};var zi=Ni,Di=t.createCommonjsModule(function(t,e){for(var n=new Array(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;function r(){zi.call(this,"utf-8 decode"),this.leftOver=null}function o(){zi.call(this,"utf-8 encode")}n[254]=n[254]=1,e.utf8encode=function(t){return kn.nodebuffer?Ln(t,"utf-8"):function(t){var e,n,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=kn.uint8array?new Uint8Array(a):new Array(a),o=0,r=0;o<a;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e}(t)},e.utf8decode=function(t){return kn.nodebuffer?Ii.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,i,r,o,s=t.length,a=new Array(2*s);for(i=0,e=0;e<s;)if((r=t[e++])<128)a[i++]=r;else if((o=n[r])>4)a[i++]=65533,e+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&e<s;)r=r<<6|63&t[e++],o--;o>1?a[i++]=65533:r<65536?a[i++]=r:(r-=65536,a[i++]=55296|r>>10&1023,a[i++]=56320|1023&r)}return a.length!==i&&(a.subarray?a=a.subarray(0,i):a.length=i),Ii.applyFromCharCode(a)}(t=Ii.transformTo(kn.uint8array?"uint8array":"array",t))},Ii.inherits(r,zi),r.prototype.processChunk=function(t){var i=Ii.transformTo(kn.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(kn.uint8array){var r=i;(i=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),i.set(r,this.leftOver.length)}else i=this.leftOver.concat(i);this.leftOver=null}var o=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+n[t[i]]>e?i:e}(i),s=i;o!==i.length&&(kn.uint8array?(s=i.subarray(0,o),this.leftOver=i.subarray(o,i.length)):(s=i.slice(0,o),this.leftOver=i.slice(o,i.length))),this.push({data:e.utf8decode(s),meta:t.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=r,Ii.inherits(o,zi),o.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=o});function ji(t){zi.call(this,"ConvertWorker to "+t),this.destType=t}Di.utf8encode,Di.utf8decode,Di.Utf8DecodeWorker,Di.Utf8EncodeWorker,Ii.inherits(ji,zi),ji.prototype.processChunk=function(t){this.push({data:Ii.transformTo(this.destType,t.data),meta:t.meta})};var Fi=ji,Bi=Sn.Readable;function Ui(t,e,n){Bi.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),n&&n(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}Ii.inherits(Ui,Bi),Ui.prototype._read=function(){this._helper.resume()};var Hi=Ui,$i=null;if(kn.nodestream)try{$i=Hi}catch(t){}function Wi(t,e,n){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=n,Ii.checkSupport(i),this._worker=t.pipe(new Fi(i)),t.lock()}catch(t){this._worker=new zi("error"),this._worker.error(t)}}Wi.prototype={accumulate:function(t){return function(t,e){return new Mi.Promise(function(n,i){var r=[],o=t._internalType,s=t._outputType,a=t._mimeType;t.on("data",function(t,n){r.push(t),e&&e(n)}).on("error",function(t){r=[],i(t)}).on("end",function(){try{var t=function(t,e,n){switch(t){case"blob":return Ii.newBlob(Ii.transformTo("arraybuffer",e),n);case"base64":return On.encode(e);default:return Ii.transformTo(t,e)}}(s,function(t,e){var n,i=0,r=null,o=0;for(n=0;n<e.length;n++)o+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(r=new Uint8Array(o),n=0;n<e.length;n++)r.set(e[n],i),i+=e[n].length;return r;case"nodebuffer":return rt.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(o,r),a);n(t)}catch(t){i(t)}r=[]}).resume()})}(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){Ii.delay(e,arguments,n)}),this},resume:function(){return Ii.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(Ii.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new $i(this,{objectMode:"nodebuffer"!==this._outputType},t)}};var Gi=Wi,qi={base64:!1,binary:!1,dir:!1,createFolders:!0,date:null,compression:null,compressionOptions:null,comment:null,unixPermissions:null,dosPermissions:null};function Vi(t){zi.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=Ii.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}Ii.inherits(Vi,zi),Vi.prototype.cleanUp=function(){zi.prototype.cleanUp.call(this),this.data=null},Vi.prototype.resume=function(){return!!zi.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,Ii.delay(this._tickAndRepeat,[],this)),!0)},Vi.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(Ii.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},Vi.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})};var Zi=Vi;function Xi(t){zi.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}Ii.inherits(Xi,zi),Xi.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}zi.prototype.processChunk.call(this,t)};var Yi=Xi,Ki=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}(),Ji=function(t,e){return void 0!==t&&t.length?"string"!==Ii.getTypeOf(t)?function(t,e,n,i){var r=Ki,o=0+n;t^=-1;for(var s=0;s<o;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}(0|e,t,t.length):function(t,e,n,i){var r=Ki,o=0+n;t^=-1;for(var s=0;s<o;s++)t=t>>>8^r[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length):0};function Qi(){zi.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}Ii.inherits(Qi,zi),Qi.prototype.processChunk=function(t){this.streamInfo.crc32=Ji(t.data,this.streamInfo.crc32||0),this.push(t)};var tr=Qi;function er(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}er.prototype={getContentWorker:function(){var t=new Zi(Mi.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Yi("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new Zi(Mi.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},er.createWorkerFrom=function(t,e,n){return t.pipe(new tr).pipe(new Yi("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new Yi("compressedSize")).withStreamInfo("compression",e)};var nr=er,ir=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};ir.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var r=!this._dataBinary;r&&!i&&(e=e.pipe(new Di.Utf8EncodeWorker)),!r&&i&&(e=e.pipe(new Di.Utf8DecodeWorker))}catch(t){(e=new zi("error")).error(t)}return new Gi(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof nr&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new Di.Utf8EncodeWorker)),nr.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof nr?this._data.getContentWorker():this._data instanceof zi?this._data:new Zi(this._data)}};for(var rr=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],or=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},sr=0;sr<rr.length;sr++)ir.prototype[rr[sr]]=or;var ar=ir,ur=t.createCommonjsModule(function(t,e){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,s;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(s=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,r),r+=o.length;return s}},o={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(n)}),lr=(ur.assign,ur.shrinkBuf,ur.setTyped,ur.Buf8,ur.Buf16,ur.Buf32,4);function cr(t){for(var e=t.length;--e>=0;)t[e]=0}var hr=0,fr=256,dr=fr+1+29,pr=30,mr=19,_r=2*dr+1,vr=15,gr=16,yr=256,br=16,xr=17,wr=18,Tr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ar=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Er=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Sr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],kr=new Array(2*(dr+2));cr(kr);var Cr=new Array(2*pr);cr(Cr);var Or=new Array(512);cr(Or);var Lr=new Array(256);cr(Lr);var Pr=new Array(29);cr(Pr);var Rr,Mr,Ir,Nr=new Array(pr);function zr(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function Dr(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function jr(t){return t<256?Or[t]:Or[256+(t>>>7)]}function Fr(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function Br(t,e,n){t.bi_valid>gr-n?(t.bi_buf|=e<<t.bi_valid&65535,Fr(t,t.bi_buf),t.bi_buf=e>>gr-t.bi_valid,t.bi_valid+=n-gr):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function Ur(t,e,n){Br(t,n[2*e],n[2*e+1])}function Hr(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function $r(t,e,n){var i,r,o=new Array(vr+1),s=0;for(i=1;i<=vr;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=Hr(o[a]++,a))}}function Wr(t){var e;for(e=0;e<dr;e++)t.dyn_ltree[2*e]=0;for(e=0;e<pr;e++)t.dyn_dtree[2*e]=0;for(e=0;e<mr;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*yr]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Gr(t){t.bi_valid>8?Fr(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function qr(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function Vr(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&qr(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!qr(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function Zr(t,e,n){var i,r,o,s,a=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],r=t.pending_buf[t.l_buf+a],a++,0===i?Ur(t,r,e):(Ur(t,(o=Lr[r])+fr+1,e),0!==(s=Tr[o])&&Br(t,r-=Pr[o],s),Ur(t,o=jr(--i),n),0!==(s=Ar[o])&&Br(t,i-=Nr[o],s))}while(a<t.last_lit);Ur(t,yr,e)}function Xr(t,e){var n,i,r,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=_r,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=s[2*r+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)Vr(t,o,n);r=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Vr(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,Vr(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,s,a,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=vr;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<_r;n++)(o=u[2*u[2*(i=t.heap[n])+1]+1]+1)>p&&(o=p,m++),u[2*i+1]=o,i>l||(t.bl_count[o]++,s=0,i>=d&&(s=f[i-d]),a=u[2*i],t.opt_len+=a*(o+s),h&&(t.static_len+=a*(c[2*i+1]+s)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>l||(u[2*r+1]!==o&&(t.opt_len+=(o-u[2*r+1])*u[2*r],u[2*r+1]=o),i--)}}(t,e),$r(o,l,t.bl_count)}function Yr(t,e,n){var i,r,o=-1,s=e[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<u&&r===s||(a<l?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*br]++):a<=10?t.bl_tree[2*xr]++:t.bl_tree[2*wr]++,a=0,o=r,0===s?(u=138,l=3):r===s?(u=6,l=3):(u=7,l=4))}function Kr(t,e,n){var i,r,o=-1,s=e[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<u&&r===s)){if(a<l)do{Ur(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(Ur(t,r,t.bl_tree),a--),Ur(t,br,t.bl_tree),Br(t,a-3,2)):a<=10?(Ur(t,xr,t.bl_tree),Br(t,a-3,3)):(Ur(t,wr,t.bl_tree),Br(t,a-11,7));a=0,o=r,0===s?(u=138,l=3):r===s?(u=6,l=3):(u=7,l=4)}}cr(Nr);var Jr=!1;function Qr(t,e,n,i){Br(t,(hr<<1)+(i?1:0),3),function(t,e,n,i){Gr(t),Fr(t,n),Fr(t,~n),ur.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}var to,eo={_tr_init:function(t){Jr||(function(){var t,e,n,i,r,o=new Array(vr+1);for(n=0,i=0;i<28;i++)for(Pr[i]=n,t=0;t<1<<Tr[i];t++)Lr[n++]=i;for(Lr[n-1]=i,r=0,i=0;i<16;i++)for(Nr[i]=r,t=0;t<1<<Ar[i];t++)Or[r++]=i;for(r>>=7;i<pr;i++)for(Nr[i]=r<<7,t=0;t<1<<Ar[i]-7;t++)Or[256+r++]=i;for(e=0;e<=vr;e++)o[e]=0;for(t=0;t<=143;)kr[2*t+1]=8,t++,o[8]++;for(;t<=255;)kr[2*t+1]=9,t++,o[9]++;for(;t<=279;)kr[2*t+1]=7,t++,o[7]++;for(;t<=287;)kr[2*t+1]=8,t++,o[8]++;for($r(kr,dr+1,o),t=0;t<pr;t++)Cr[2*t+1]=5,Cr[2*t]=Hr(t,5);Rr=new zr(kr,Tr,fr+1,dr,vr),Mr=new zr(Cr,Ar,0,pr,vr),Ir=new zr(new Array(0),Er,0,mr,7)}(),Jr=!0),t.l_desc=new Dr(t.dyn_ltree,Rr),t.d_desc=new Dr(t.dyn_dtree,Mr),t.bl_desc=new Dr(t.bl_tree,Ir),t.bi_buf=0,t.bi_valid=0,Wr(t)},_tr_stored_block:Qr,_tr_flush_block:function(t,e,n,i){var r,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<fr;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),Xr(t,t.l_desc),Xr(t,t.d_desc),s=function(t){var e;for(Yr(t,t.dyn_ltree,t.l_desc.max_code),Yr(t,t.dyn_dtree,t.d_desc.max_code),Xr(t,t.bl_desc),e=mr-1;e>=3&&0===t.bl_tree[2*Sr[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?Qr(t,e,n,i):t.strategy===lr||o===r?(Br(t,2+(i?1:0),3),Zr(t,kr,Cr)):(Br(t,4+(i?1:0),3),function(t,e,n,i){var r;for(Br(t,e-257,5),Br(t,n-1,5),Br(t,i-4,4),r=0;r<i;r++)Br(t,t.bl_tree[2*Sr[r]+1],3);Kr(t,t.dyn_ltree,e-1),Kr(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),Zr(t,t.dyn_ltree,t.dyn_dtree)),Wr(t),i&&Gr(t)},_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(Lr[n]+fr+1)]++,t.dyn_dtree[2*jr(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){Br(t,2,3),Ur(t,yr,kr),function(t){16===t.bi_valid?(Fr(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},no=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0},io=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}(),ro=function(t,e,n,i){var r=io,o=i+n;t^=-1;for(var s=i;s<o;s++)t=t>>>8^r[255&(t^e[s])];return-1^t},oo={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},so=0,ao=4,uo=0,lo=-2,co=-1,ho=1,fo=4,po=2,mo=8,_o=9,vo=286,go=30,yo=19,bo=2*vo+1,xo=15,wo=3,To=258,Ao=To+wo+1,Eo=42,So=113,ko=1,Co=2,Oo=3,Lo=4;function Po(t,e){return t.msg=oo[e],e}function Ro(t){return(t<<1)-(t>4?9:0)}function Mo(t){for(var e=t.length;--e>=0;)t[e]=0}function Io(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(ur.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function No(t,e){eo._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Io(t.strm)}function zo(t,e){t.pending_buf[t.pending++]=e}function Do(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function jo(t,e){var n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-Ao?t.strstart-(t.w_size-Ao):0,l=t.window,c=t.w_mask,h=t.prev,f=t.strstart+To,d=l[o+s-1],p=l[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(l[(n=e)+s]===p&&l[n+s-1]===d&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(i=To-(f-o),o=f-To,i>s){if(t.match_start=e,s=i,i>=a)break;d=l[o+s-1],p=l[o+s]}}}while((e=h[e&c])>u&&0!=--r);return s<=t.lookahead?s:t.lookahead}function Fo(t){var e,n,i,r,o,s,a,u,l,c,h=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-Ao)){ur.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=h?i-h:0}while(--n);e=n=h;do{i=t.prev[--e],t.prev[e]=i>=h?i-h:0}while(--n);r+=h}if(0===t.strm.avail_in)break;if(s=t.strm,a=t.window,u=t.strstart+t.lookahead,l=r,c=void 0,(c=s.avail_in)>l&&(c=l),n=0===c?0:(s.avail_in-=c,ur.arraySet(a,s.input,s.next_in,c,u),1===s.state.wrap?s.adler=no(s.adler,a,c,u):2===s.state.wrap&&(s.adler=ro(s.adler,a,c,u)),s.next_in+=c,s.total_in+=c,c),t.lookahead+=n,t.lookahead+t.insert>=wo)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+wo-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<wo)););}while(t.lookahead<Ao&&0!==t.strm.avail_in)}function Bo(t,e){for(var n,i;;){if(t.lookahead<Ao){if(Fo(t),t.lookahead<Ao&&e===so)return ko;if(0===t.lookahead)break}if(n=0,t.lookahead>=wo&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+wo-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Ao&&(t.match_length=jo(t,n)),t.match_length>=wo)if(i=eo._tr_tally(t,t.strstart-t.match_start,t.match_length-wo),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=wo){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+wo-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=eo._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(No(t,!1),0===t.strm.avail_out))return ko}return t.insert=t.strstart<wo-1?t.strstart:wo-1,e===ao?(No(t,!0),0===t.strm.avail_out?Oo:Lo):t.last_lit&&(No(t,!1),0===t.strm.avail_out)?ko:Co}function Uo(t,e){for(var n,i,r;;){if(t.lookahead<Ao){if(Fo(t),t.lookahead<Ao&&e===so)return ko;if(0===t.lookahead)break}if(n=0,t.lookahead>=wo&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+wo-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=wo-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ao&&(t.match_length=jo(t,n),t.match_length<=5&&(t.strategy===ho||t.match_length===wo&&t.strstart-t.match_start>4096)&&(t.match_length=wo-1)),t.prev_length>=wo&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-wo,i=eo._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-wo),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+wo-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=wo-1,t.strstart++,i&&(No(t,!1),0===t.strm.avail_out))return ko}else if(t.match_available){if((i=eo._tr_tally(t,0,t.window[t.strstart-1]))&&No(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return ko}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=eo._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<wo-1?t.strstart:wo-1,e===ao?(No(t,!0),0===t.strm.avail_out?Oo:Lo):t.last_lit&&(No(t,!1),0===t.strm.avail_out)?ko:Co}function Ho(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function $o(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mo,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ur.Buf16(2*bo),this.dyn_dtree=new ur.Buf16(2*(2*go+1)),this.bl_tree=new ur.Buf16(2*(2*yo+1)),Mo(this.dyn_ltree),Mo(this.dyn_dtree),Mo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ur.Buf16(xo+1),this.heap=new ur.Buf16(2*vo+1),Mo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ur.Buf16(2*vo+1),Mo(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Wo(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=po,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Eo:So,t.adler=2===e.wrap?0:1,e.last_flush=so,eo._tr_init(e),uo):Po(t,lo)}function Go(t){var e,n=Wo(t);return n===uo&&((e=t.state).window_size=2*e.w_size,Mo(e.head),e.max_lazy_match=to[e.level].max_lazy,e.good_match=to[e.level].good_length,e.nice_match=to[e.level].nice_length,e.max_chain_length=to[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=wo-1,e.match_available=0,e.ins_h=0),n}function qo(t,e,n,i,r,o){if(!t)return lo;var s=1;if(e===co&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>_o||n!==mo||i<8||i>15||e<0||e>9||o<0||o>fo)return Po(t,lo);8===i&&(i=9);var a=new $o;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+wo-1)/wo),a.window=new ur.Buf8(2*a.w_size),a.head=new ur.Buf16(a.hash_size),a.prev=new ur.Buf16(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new ur.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=o,a.method=n,Go(t)}to=[new Ho(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Fo(t),0===t.lookahead&&e===so)return ko;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,No(t,!1),0===t.strm.avail_out))return ko;if(t.strstart-t.block_start>=t.w_size-Ao&&(No(t,!1),0===t.strm.avail_out))return ko}return t.insert=0,e===ao?(No(t,!0),0===t.strm.avail_out?Oo:Lo):(t.strstart>t.block_start&&(No(t,!1),t.strm.avail_out),ko)}),new Ho(4,4,8,4,Bo),new Ho(4,5,16,8,Bo),new Ho(4,6,32,32,Bo),new Ho(4,4,16,16,Uo),new Ho(8,16,32,32,Uo),new Ho(8,16,128,128,Uo),new Ho(8,32,128,256,Uo),new Ho(32,128,258,1024,Uo),new Ho(32,258,258,4096,Uo)];var Vo={deflateInit:function(t,e){return qo(t,e,mo,15,8,0)},deflateInit2:qo,deflateReset:Go,deflateResetKeep:Wo,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?lo:(t.state.gzhead=e,uo):lo},deflate:function(t,e){var n,i,r,o;if(!t||!t.state||e>5||e<0)return t?Po(t,lo):lo;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==ao)return Po(t,0===t.avail_out?-5:lo);if(i.strm=t,n=i.last_flush,i.last_flush=e,i.status===Eo)if(2===i.wrap)t.adler=0,zo(i,31),zo(i,139),zo(i,8),i.gzhead?(zo(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),zo(i,255&i.gzhead.time),zo(i,i.gzhead.time>>8&255),zo(i,i.gzhead.time>>16&255),zo(i,i.gzhead.time>>24&255),zo(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),zo(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(zo(i,255&i.gzhead.extra.length),zo(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=ro(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(zo(i,0),zo(i,0),zo(i,0),zo(i,0),zo(i,0),zo(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),zo(i,3),i.status=So);else{var s=mo+(i.w_bits-8<<4)<<8;s|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(s|=32),s+=31-s%31,i.status=So,Do(i,s),0!==i.strstart&&(Do(i,t.adler>>>16),Do(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=ro(t.adler,i.pending_buf,i.pending-r,r)),Io(t),r=i.pending,i.pending!==i.pending_buf_size));)zo(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=ro(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=ro(t.adler,i.pending_buf,i.pending-r,r)),Io(t),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}o=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,zo(i,o)}while(0!==o);i.gzhead.hcrc&&i.pending>r&&(t.adler=ro(t.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=ro(t.adler,i.pending_buf,i.pending-r,r)),Io(t),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}o=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,zo(i,o)}while(0!==o);i.gzhead.hcrc&&i.pending>r&&(t.adler=ro(t.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Io(t),i.pending+2<=i.pending_buf_size&&(zo(i,255&t.adler),zo(i,t.adler>>8&255),t.adler=0,i.status=So)):i.status=So),0!==i.pending){if(Io(t),0===t.avail_out)return i.last_flush=-1,uo}else if(0===t.avail_in&&Ro(e)<=Ro(n)&&e!==ao)return Po(t,-5);if(666===i.status&&0!==t.avail_in)return Po(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==so&&666!==i.status){var a=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(Fo(t),0===t.lookahead)){if(e===so)return ko;break}if(t.match_length=0,n=eo._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(No(t,!1),0===t.strm.avail_out))return ko}return t.insert=0,e===ao?(No(t,!0),0===t.strm.avail_out?Oo:Lo):t.last_lit&&(No(t,!1),0===t.strm.avail_out)?ko:Co}(i,e):3===i.strategy?function(t,e){for(var n,i,r,o,s=t.window;;){if(t.lookahead<=To){if(Fo(t),t.lookahead<=To&&e===so)return ko;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=wo&&t.strstart>0&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){o=t.strstart+To;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=To-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=wo?(n=eo._tr_tally(t,1,t.match_length-wo),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=eo._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(No(t,!1),0===t.strm.avail_out))return ko}return t.insert=0,e===ao?(No(t,!0),0===t.strm.avail_out?Oo:Lo):t.last_lit&&(No(t,!1),0===t.strm.avail_out)?ko:Co}(i,e):to[i.level].func(i,e);if(a!==Oo&&a!==Lo||(i.status=666),a===ko||a===Oo)return 0===t.avail_out&&(i.last_flush=-1),uo;if(a===Co&&(1===e?eo._tr_align(i):5!==e&&(eo._tr_stored_block(i,0,0,!1),3===e&&(Mo(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Io(t),0===t.avail_out))return i.last_flush=-1,uo}return e!==ao?uo:i.wrap<=0?1:(2===i.wrap?(zo(i,255&t.adler),zo(i,t.adler>>8&255),zo(i,t.adler>>16&255),zo(i,t.adler>>24&255),zo(i,255&t.total_in),zo(i,t.total_in>>8&255),zo(i,t.total_in>>16&255),zo(i,t.total_in>>24&255)):(Do(i,t.adler>>>16),Do(i,65535&t.adler)),Io(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?uo:1)},deflateEnd:function(t){var e;return t&&t.state?(e=t.state.status)!==Eo&&69!==e&&73!==e&&91!==e&&103!==e&&e!==So&&666!==e?Po(t,lo):(t.state=null,e===So?Po(t,-3):uo):lo},deflateSetDictionary:function(t,e){var n,i,r,o,s,a,u,l,c=e.length;if(!t||!t.state)return lo;if(2===(o=(n=t.state).wrap)||1===o&&n.status!==Eo||n.lookahead)return lo;for(1===o&&(t.adler=no(t.adler,e,c,0)),n.wrap=0,c>=n.w_size&&(0===o&&(Mo(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new ur.Buf8(n.w_size),ur.arraySet(l,e,c-n.w_size,n.w_size,0),e=l,c=n.w_size),s=t.avail_in,a=t.next_in,u=t.input,t.avail_in=c,t.next_in=0,t.input=e,Fo(n);n.lookahead>=wo;){i=n.strstart,r=n.lookahead-(wo-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+wo-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--r);n.strstart=i,n.lookahead=wo-1,Fo(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=wo-1,n.match_available=0,t.next_in=a,t.input=u,t.avail_in=s,n.wrap=o,uo},deflateInfo:"pako deflate (from Nodeca project)"},Zo=!0,Xo=!0;try{String.fromCharCode.apply(null,[0])}catch(t){Zo=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Xo=!1}for(var Yo=new ur.Buf8(256),Ko=0;Ko<256;Ko++)Yo[Ko]=Ko>=252?6:Ko>=248?5:Ko>=240?4:Ko>=224?3:Ko>=192?2:1;function Jo(t,e){if(e<65537&&(t.subarray&&Xo||!t.subarray&&Zo))return String.fromCharCode.apply(null,ur.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}Yo[254]=Yo[254]=1;var Qo={string2buf:function(t){var e,n,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new ur.Buf8(a),o=0,r=0;o<a;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},buf2binstring:function(t){return Jo(t,t.length)},binstring2buf:function(t){for(var e=new ur.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},buf2string:function(t,e){var n,i,r,o,s=e||t.length,a=new Array(2*s);for(i=0,n=0;n<s;)if((r=t[n++])<128)a[i++]=r;else if((o=Yo[r])>4)a[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&t[n++],o--;o>1?a[i++]=65533:r<65536?a[i++]=r:(r-=65536,a[i++]=55296|r>>10&1023,a[i++]=56320|1023&r)}return Jo(a,i)},utf8border:function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+Yo[t[n]]>e?n:e}},ts=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},es=Object.prototype.toString,ns=0,is=-1,rs=0,os=8;function ss(t){if(!(this instanceof ss))return new ss(t);this.options=ur.assign({level:is,method:os,chunkSize:16384,windowBits:15,memLevel:8,strategy:rs,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ts,this.strm.avail_out=0;var n=Vo.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==ns)throw new Error(oo[n]);if(e.header&&Vo.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?Qo.string2buf(e.dictionary):"[object ArrayBuffer]"===es.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=Vo.deflateSetDictionary(this.strm,i))!==ns)throw new Error(oo[n]);this._dict_set=!0}}function as(t,e){var n=new ss(e);if(n.push(t,!0),n.err)throw n.msg||oo[n.err];return n.result}ss.prototype.push=function(t,e){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=Qo.string2buf(t):"[object ArrayBuffer]"===es.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new ur.Buf8(o),r.next_out=0,r.avail_out=o),1!==(n=Vo.deflate(r,i))&&n!==ns)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(Qo.buf2binstring(ur.shrinkBuf(r.output,r.next_out))):this.onData(ur.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==n);return 4===i?(n=Vo.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===ns):2!==i||(this.onEnd(ns),r.avail_out=0,!0)},ss.prototype.onData=function(t){this.chunks.push(t)},ss.prototype.onEnd=function(t){t===ns&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ur.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var us={Deflate:ss,deflate:as,deflateRaw:function(t,e){return(e=e||{}).raw=!0,as(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,as(t,e)}},ls=function(t,e){var n,i,r,o,s,a,u,l,c,h,f,d,p,m,_,v,g,y,b,x,w,T,A,E,S;n=t.state,i=t.next_in,E=t.input,r=i+(t.avail_in-5),o=t.next_out,S=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,m=n.lencode,_=n.distcode,v=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;t:do{p<15&&(d+=E[i++]<<p,p+=8,d+=E[i++]<<p,p+=8),y=m[d&v];e:for(;;){if(d>>>=b=y>>>24,p-=b,0==(b=y>>>16&255))S[o++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=m[(65535&y)+(d&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&y,(b&=15)&&(p<b&&(d+=E[i++]<<p,p+=8),x+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=E[i++]<<p,p+=8,d+=E[i++]<<p,p+=8),y=_[d&g];n:for(;;){if(d>>>=b=y>>>24,p-=b,!(16&(b=y>>>16&255))){if(0==(64&b)){y=_[(65535&y)+(d&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&y,p<(b&=15)&&(d+=E[i++]<<p,(p+=8)<b&&(d+=E[i++]<<p,p+=8)),(w+=d&(1<<b)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=b,p-=b,w>(b=o-s)){if((b=w-b)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(T=0,A=f,0===h){if(T+=l-b,b<x){x-=b;do{S[o++]=f[T++]}while(--b);T=o-w,A=S}}else if(h<b){if(T+=l+h-b,(b-=h)<x){x-=b;do{S[o++]=f[T++]}while(--b);if(T=0,h<x){x-=b=h;do{S[o++]=f[T++]}while(--b);T=o-w,A=S}}}else if(T+=h-b,b<x){x-=b;do{S[o++]=f[T++]}while(--b);T=o-w,A=S}for(;x>2;)S[o++]=A[T++],S[o++]=A[T++],S[o++]=A[T++],x-=3;x&&(S[o++]=A[T++],x>1&&(S[o++]=A[T++]))}else{T=o-w;do{S[o++]=S[T++],S[o++]=S[T++],S[o++]=S[T++],x-=3}while(x>2);x&&(S[o++]=S[T++],x>1&&(S[o++]=S[T++]))}break}}break}}while(i<r&&o<a);i-=x=p>>3,d&=(1<<(p-=x<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=p},cs=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],hs=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],fs=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ds=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],ps=function(t,e,n,i,r,o,s,a){var u,l,c,h,f,d,p,m,_,v=a.bits,g=0,y=0,b=0,x=0,w=0,T=0,A=0,E=0,S=0,k=0,C=null,O=0,L=new ur.Buf16(16),P=new ur.Buf16(16),R=null,M=0;for(g=0;g<=15;g++)L[g]=0;for(y=0;y<i;y++)L[e[n+y]]++;for(w=v,x=15;x>=1&&0===L[x];x--);if(w>x&&(w=x),0===x)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(b=1;b<x&&0===L[b];b++);for(w<b&&(w=b),E=1,g=1;g<=15;g++)if(E<<=1,(E-=L[g])<0)return-1;if(E>0&&(0===t||1!==x))return-1;for(P[1]=0,g=1;g<15;g++)P[g+1]=P[g]+L[g];for(y=0;y<i;y++)0!==e[n+y]&&(s[P[e[n+y]]++]=y);if(0===t?(C=R=s,d=19):1===t?(C=cs,O-=257,R=hs,M-=257,d=256):(C=fs,R=ds,d=-1),k=0,y=0,g=b,f=o,T=w,A=0,c=-1,h=(S=1<<w)-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){p=g-A,s[y]<d?(m=0,_=s[y]):s[y]>d?(m=R[M+s[y]],_=C[O+s[y]]):(m=96,_=0),u=1<<g-A,b=l=1<<T;do{r[f+(k>>A)+(l-=u)]=p<<24|m<<16|_|0}while(0!==l);for(u=1<<g-1;k&u;)u>>=1;if(0!==u?(k&=u-1,k+=u):k=0,y++,0==--L[g]){if(g===x)break;g=e[n+s[y]]}if(g>w&&(k&h)!==c){for(0===A&&(A=w),f+=b,E=1<<(T=g-A);T+A<x&&!((E-=L[T+A])<=0);)T++,E<<=1;if(S+=1<<T,1===t&&S>852||2===t&&S>592)return 1;r[c=k&h]=w<<24|T<<16|f-o|0}}return 0!==k&&(r[f+k]=g-A<<24|64<<16|0),a.bits=w,0},ms=1,_s=2,vs=0,gs=-2,ys=1,bs=852,xs=592;function ws(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function Ts(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ur.Buf16(320),this.work=new ur.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function As(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=ys,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new ur.Buf32(bs),e.distcode=e.distdyn=new ur.Buf32(xs),e.sane=1,e.back=-1,vs):gs}function Es(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,As(t)):gs}function Ss(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?gs:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,Es(t))):gs}function ks(t,e){var n,i;return t?(i=new Ts,t.state=i,i.window=null,(n=Ss(t,e))!==vs&&(t.state=null),n):gs}var Cs,Os,Ls=!0;function Ps(t){if(Ls){var e;for(Cs=new ur.Buf32(512),Os=new ur.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ps(ms,t.lens,0,288,Cs,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ps(_s,t.lens,0,32,Os,0,t.work,{bits:5}),Ls=!1}t.lencode=Cs,t.lenbits=9,t.distcode=Os,t.distbits=5}function Rs(t,e,n,i){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new ur.Buf8(o.wsize)),i>=o.wsize?(ur.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),ur.arraySet(o.window,e,n-i,r,o.wnext),(i-=r)?(ur.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}var Ms={inflateReset:Es,inflateReset2:Ss,inflateResetKeep:As,inflateInit:function(t){return ks(t,15)},inflateInit2:ks,inflate:function(t,e){var n,i,r,o,s,a,u,l,c,h,f,d,p,m,_,v,g,y,b,x,w,T,A,E,S=0,k=new ur.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return gs;12===(n=t.state).mode&&(n.mode=13),s=t.next_out,r=t.output,u=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,l=n.hold,c=n.bits,h=a,f=u,T=vs;t:for(;;)switch(n.mode){case ys:if(0===n.wrap){n.mode=13;break}for(;c<16;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}if(2&n.wrap&&35615===l){n.check=0,k[0]=255&l,k[1]=l>>>8&255,n.check=ro(n.check,k,2,0),l=0,c=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&l)){t.msg="unknown compression method",n.mode=30;break}if(c-=4,w=8+(15&(l>>>=4)),0===n.wbits)n.wbits=w;else if(w>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<w,t.adler=n.check=1,n.mode=512&l?10:12,l=0,c=0;break;case 2:for(;c<16;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}if(n.flags=l,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&(k[0]=255&l,k[1]=l>>>8&255,n.check=ro(n.check,k,2,0)),l=0,c=0,n.mode=3;case 3:for(;c<32;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}n.head&&(n.head.time=l),512&n.flags&&(k[0]=255&l,k[1]=l>>>8&255,k[2]=l>>>16&255,k[3]=l>>>24&255,n.check=ro(n.check,k,4,0)),l=0,c=0,n.mode=4;case 4:for(;c<16;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&(k[0]=255&l,k[1]=l>>>8&255,n.check=ro(n.check,k,2,0)),l=0,c=0,n.mode=5;case 5:if(1024&n.flags){for(;c<16;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&(k[0]=255&l,k[1]=l>>>8&255,n.check=ro(n.check,k,2,0)),l=0,c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((d=n.length)>a&&(d=a),d&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),ur.arraySet(n.head.extra,i,o,d,w)),512&n.flags&&(n.check=ro(n.check,i,d,o)),a-=d,o+=d,n.length-=d),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===a)break t;d=0;do{w=i[o+d++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w))}while(w&&d<a);if(512&n.flags&&(n.check=ro(n.check,i,d,o)),a-=d,o+=d,w)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===a)break t;d=0;do{w=i[o+d++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w))}while(w&&d<a);if(512&n.flags&&(n.check=ro(n.check,i,d,o)),a-=d,o+=d,w)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;c<16;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}if(l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}l=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;c<32;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}t.adler=n.check=ws(l),l=0,c=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=c,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){l>>>=7&c,c-=7&c,n.mode=27;break}for(;c<3;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}switch(n.last=1&l,c-=1,3&(l>>>=1)){case 0:n.mode=14;break;case 1:if(Ps(n),n.mode=20,6===e){l>>>=2,c-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}l>>>=2,c-=2;break;case 14:for(l>>>=7&c,c-=7&c;c<32;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&l,l=0,c=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(d=n.length){if(d>a&&(d=a),d>u&&(d=u),0===d)break t;ur.arraySet(r,i,o,d,s),a-=d,o+=d,u-=d,s+=d,n.length-=d;break}n.mode=12;break;case 17:for(;c<14;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}if(n.nlen=257+(31&l),l>>>=5,c-=5,n.ndist=1+(31&l),l>>>=5,c-=5,n.ncode=4+(15&l),l>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;c<3;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}n.lens[C[n.have++]]=7&l,l>>>=3,c-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},T=ps(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,T){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(S=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,g=65535&S,!((_=S>>>24)<=c);){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}if(g<16)l>>>=_,c-=_,n.lens[n.have++]=g;else{if(16===g){for(E=_+2;c<E;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}if(l>>>=_,c-=_,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}w=n.lens[n.have-1],d=3+(3&l),l>>>=2,c-=2}else if(17===g){for(E=_+3;c<E;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}c-=_,w=0,d=3+(7&(l>>>=_)),l>>>=3,c-=3}else{for(E=_+7;c<E;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}c-=_,w=0,d=11+(127&(l>>>=_)),l>>>=7,c-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;d--;)n.lens[n.have++]=w}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,A={bits:n.lenbits},T=ps(ms,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,T){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},T=ps(_s,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,T){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(a>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=c,ls(t,f),s=t.next_out,r=t.output,u=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,l=n.hold,c=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;v=(S=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,g=65535&S,!((_=S>>>24)<=c);){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}if(v&&0==(240&v)){for(y=_,b=v,x=g;v=(S=n.lencode[x+((l&(1<<y+b)-1)>>y)])>>>16&255,g=65535&S,!(y+(_=S>>>24)<=c);){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}l>>>=y,c-=y,n.back+=y}if(l>>>=_,c-=_,n.back+=_,n.length=g,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=12;break}if(64&v){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(E=n.extra;c<E;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(S=n.distcode[l&(1<<n.distbits)-1])>>>16&255,g=65535&S,!((_=S>>>24)<=c);){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}if(0==(240&v)){for(y=_,b=v,x=g;v=(S=n.distcode[x+((l&(1<<y+b)-1)>>y)])>>>16&255,g=65535&S,!(y+(_=S>>>24)<=c);){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}l>>>=y,c-=y,n.back+=y}if(l>>>=_,c-=_,n.back+=_,64&v){t.msg="invalid distance code",n.mode=30;break}n.offset=g,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(E=n.extra;c<E;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===u)break t;if(d=f-u,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),m=n.window}else m=r,p=s-n.offset,d=n.length;d>u&&(d=u),u-=d,n.length-=d;do{r[s++]=m[p++]}while(--d);0===n.length&&(n.mode=21);break;case 26:if(0===u)break t;r[s++]=n.length,u--,n.mode=21;break;case 27:if(n.wrap){for(;c<32;){if(0===a)break t;a--,l|=i[o++]<<c,c+=8}if(f-=u,t.total_out+=f,n.total+=f,f&&(t.adler=n.check=n.flags?ro(n.check,r,f,s-f):no(n.check,r,f,s-f)),f=u,(n.flags?l:ws(l))!==n.check){t.msg="incorrect data check",n.mode=30;break}l=0,c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;c<32;){if(0===a)break t;a--,l+=i[o++]<<c,c+=8}if(l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}l=0,c=0}n.mode=29;case 29:T=1;break t;case 30:T=-3;break t;case 31:return-4;case 32:default:return gs}return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=c,(n.wsize||f!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&Rs(t,t.output,t.next_out,f-t.avail_out),h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,n.total+=f,n.wrap&&f&&(t.adler=n.check=n.flags?ro(n.check,r,f,t.next_out-f):no(n.check,r,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===h&&0===f||4===e)&&T===vs&&(T=-5),T},inflateEnd:function(t){if(!t||!t.state)return gs;var e=t.state;return e.window&&(e.window=null),t.state=null,vs},inflateGetHeader:function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?gs:(n.head=e,e.done=!1,vs):gs},inflateSetDictionary:function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?gs:11===n.mode&&no(1,e,i,0)!==n.check?-3:Rs(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,vs):gs},inflateInfo:"pako inflate (from Nodeca project)"},Is={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Ns=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},zs=Object.prototype.toString;function Ds(t){if(!(this instanceof Ds))return new Ds(t);this.options=ur.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ts,this.strm.avail_out=0;var n=Ms.inflateInit2(this.strm,e.windowBits);if(n!==Is.Z_OK)throw new Error(oo[n]);this.header=new Ns,Ms.inflateGetHeader(this.strm,this.header)}function js(t,e){var n=new Ds(e);if(n.push(t,!0),n.err)throw n.msg||oo[n.err];return n.result}Ds.prototype.push=function(t,e){var n,i,r,o,s,a,u=this.strm,l=this.options.chunkSize,c=this.options.dictionary,h=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?Is.Z_FINISH:Is.Z_NO_FLUSH,"string"==typeof t?u.input=Qo.binstring2buf(t):"[object ArrayBuffer]"===zs.call(t)?u.input=new Uint8Array(t):u.input=t,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new ur.Buf8(l),u.next_out=0,u.avail_out=l),(n=Ms.inflate(u,Is.Z_NO_FLUSH))===Is.Z_NEED_DICT&&c&&(a="string"==typeof c?Qo.string2buf(c):"[object ArrayBuffer]"===zs.call(c)?new Uint8Array(c):c,n=Ms.inflateSetDictionary(this.strm,a)),n===Is.Z_BUF_ERROR&&!0===h&&(n=Is.Z_OK,h=!1),n!==Is.Z_STREAM_END&&n!==Is.Z_OK)return this.onEnd(n),this.ended=!0,!1;u.next_out&&(0!==u.avail_out&&n!==Is.Z_STREAM_END&&(0!==u.avail_in||i!==Is.Z_FINISH&&i!==Is.Z_SYNC_FLUSH)||("string"===this.options.to?(r=Qo.utf8border(u.output,u.next_out),o=u.next_out-r,s=Qo.buf2string(u.output,r),u.next_out=o,u.avail_out=l-o,o&&ur.arraySet(u.output,u.output,r,o,0),this.onData(s)):this.onData(ur.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(h=!0)}while((u.avail_in>0||0===u.avail_out)&&n!==Is.Z_STREAM_END);return n===Is.Z_STREAM_END&&(i=Is.Z_FINISH),i===Is.Z_FINISH?(n=Ms.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Is.Z_OK):i!==Is.Z_SYNC_FLUSH||(this.onEnd(Is.Z_OK),u.avail_out=0,!0)},Ds.prototype.onData=function(t){this.chunks.push(t)},Ds.prototype.onEnd=function(t){t===Is.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ur.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Fs={Inflate:Ds,inflate:js,inflateRaw:function(t,e){return(e=e||{}).raw=!0,js(t,e)},ungzip:js},Bs={};(0,ur.assign)(Bs,us,Fs,Is);var Us=Bs,Hs="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array?"uint8array":"array";function $s(t,e){zi.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}Ii.inherits($s,zi),$s.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(Ii.transformTo(Hs,t.data),!1)},$s.prototype.flush=function(){zi.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},$s.prototype.cleanUp=function(){zi.prototype.cleanUp.call(this),this._pako=null},$s.prototype._createPako=function(){this._pako=new Us[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}};var Ws={STORE:{magic:"\0\0",compressWorker:function(t){return new zi("STORE compression")},uncompressWorker:function(){return new zi("STORE decompression")}},DEFLATE:{magic:"\b\0",compressWorker:function(t){return new $s("Deflate",t)},uncompressWorker:function(){return new $s("Inflate",{})}}},Gs="PK",qs="PK",Vs="PK",Zs="PK",Xs=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},Ys=function(t,e,n,i,r,o){var s,a,u=t.file,l=t.compression,c=o!==Di.utf8encode,h=Ii.transformTo("string",o(u.name)),f=Ii.transformTo("string",Di.utf8encode(u.name)),d=u.comment,p=Ii.transformTo("string",o(d)),m=Ii.transformTo("string",Di.utf8encode(d)),_=f.length!==u.name.length,v=m.length!==d.length,g="",y="",b="",x=u.dir,w=u.date,T={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(T.crc32=t.crc32,T.compressedSize=t.compressedSize,T.uncompressedSize=t.uncompressedSize);var A=0;e&&(A|=8),c||!_&&!v||(A|=2048);var E,S,k=0,C=0;x&&(k|=16),"UNIX"===r?(C=798,k|=(S=E=u.unixPermissions,E||(S=x?16893:33204),(65535&S)<<16)):(C=20,k|=63&(u.dosPermissions||0)),s=w.getUTCHours(),s<<=6,s|=w.getUTCMinutes(),s<<=5,s|=w.getUTCSeconds()/2,a=w.getUTCFullYear()-1980,a<<=4,a|=w.getUTCMonth()+1,a<<=5,a|=w.getUTCDate(),_&&(y=Xs(1,1)+Xs(Ji(h),4)+f,g+="up"+Xs(y.length,2)+y),v&&(b=Xs(1,1)+Xs(Ji(p),4)+m,g+="uc"+Xs(b.length,2)+b);var O="";return O+="\n\0",O+=Xs(A,2),O+=l.magic,O+=Xs(s,2),O+=Xs(a,2),O+=Xs(T.crc32,4),O+=Xs(T.compressedSize,4),O+=Xs(T.uncompressedSize,4),O+=Xs(h.length,2),O+=Xs(g.length,2),{fileRecord:Gs+O+h+g,dirRecord:qs+Xs(C,2)+O+Xs(p.length,2)+"\0\0\0\0"+Xs(k,4)+Xs(i,4)+h+g+p}},Ks=function(t){return"PK\b"+Xs(t.crc32,4)+Xs(t.compressedSize,4)+Xs(t.uncompressedSize,4)};function Js(t,e,n,i){zi.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}Ii.inherits(Js,zi),Js.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,zi.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},Js.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=Ys(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Js.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=Ys(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:Ks(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Js.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,i=function(t,e,n,i,r){var o=Ii.transformTo("string",r(i));return Vs+"\0\0\0\0"+Xs(t,2)+Xs(t,2)+Xs(e,4)+Xs(n,4)+Xs(o.length,2)+o}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},Js.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Js.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},Js.prototype.resume=function(){return!!zi.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Js.prototype.error=function(t){var e=this._sources;if(!zi.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},Js.prototype.lock=function(){zi.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()};var Qs=Js;function ta(t,e){zi.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}Ii.inherits(ta,zi),ta.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},ta.prototype.pause=function(){return!!zi.prototype.pause.call(this)&&(this._stream.pause(),!0)},ta.prototype.resume=function(){return!!zi.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)};var ea=ta,na=function(t,e,n){var i,r=Ii.getTypeOf(e),o=Ii.extend(n||{},qi);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(t=ra(t)),o.createFolders&&(i=ia(t))&&oa.call(this,i,!0);var s="string"===r&&!1===o.binary&&!1===o.base64;n&&void 0!==n.binary||(o.binary=!s),(e instanceof nr&&0===e.uncompressedSize||o.dir||!e||0===e.length)&&(o.base64=!1,o.binary=!0,e="",o.compression="STORE",r="string");var a;a=e instanceof nr||e instanceof zi?e:Rn(e)?new ea(t,e):Ii.prepareContent(t,e,o.binary,o.optimizedBinaryString,o.base64);var u=new ar(t,a,o);this.files[t]=u},ia=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},ra=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},oa=function(t,e){return e=void 0!==e?e:qi.createFolders,t=ra(t),this.files[t]||na.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function sa(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var aa={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach(function(n,i){t(n,i)&&e.push(i)}),e},file:function(t,e,n){if(1===arguments.length){if(sa(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var r=this.files[this.root+t];return r&&!r.dir?r:null}return t=this.root+t,na.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(sa(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=oa.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=Ii.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:Di.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");Ii.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS"),e=function(t,e,n){var i=new Qs(e.streamFiles,n,e.platform,e.encodeFileName),r=0;try{t.forEach(function(t,n){r++;var o=function(t,e){var n=t||e,i=Ws[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},a=n.dir,u=n.date;n._compressWorker(o,s).withStreamInfo("file",{name:t,dir:a,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)}),i.entriesCount=r}catch(t){i.error(t)}return i}(this,n,n.comment||this.comment||"")}catch(t){(e=new zi("error")).error(t)}return new Gi(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};function ua(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}ua.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return Ii.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}};var la=ua;function ca(t){la.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}Ii.inherits(ca,la),ca.prototype.byteAt=function(t){return this.data[this.zero+t]},ca.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},ca.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},ca.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};var ha=ca;function fa(t){la.call(this,t)}Ii.inherits(fa,la),fa.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},fa.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},fa.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},fa.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};var da=fa;function pa(t){ha.call(this,t)}Ii.inherits(pa,ha),pa.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};var ma=pa;function _a(t){ma.call(this,t)}Ii.inherits(_a,ma),_a.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};var va=_a,ga=function(t){var e=Ii.getTypeOf(t);return Ii.checkSupport(e),"string"!==e||kn.uint8array?"nodebuffer"===e?new va(t):kn.uint8array?new ma(Ii.transformTo("uint8array",t)):new ha(Ii.transformTo("array",t)):new da(t)};function ya(t,e){this.options=t,this.loadOptions=e}ya.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in Ws)if(Ws.hasOwnProperty(e)&&Ws[e].magic===t)return Ws[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+Ii.pretty(this.compressionMethod)+" unknown (inner file : "+Ii.transformTo("string",this.fileName)+")");this.decompressed=new nr(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=ga(this.extraFields[1].value);this.uncompressedSize===Ii.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===Ii.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===Ii.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===Ii.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=kn.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Di.utf8decode(this.fileName),this.fileCommentStr=Di.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=Ii.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=Ii.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=ga(t.value);return 1!==e.readInt(1)?null:Ji(this.fileName)!==e.readInt(4)?null:Di.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=ga(t.value);return 1!==e.readInt(1)?null:Ji(this.fileComment)!==e.readInt(4)?null:Di.utf8decode(e.readData(t.length-5))}return null}};var ba=ya;function xa(t){this.files=[],this.loadOptions=t}xa.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+Ii.pretty(e)+", expected "+Ii.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=kn.uint8array?"uint8array":"array",n=Ii.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(Gs),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(qs);)(t=new ba({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(Vs);if(t<0)throw this.isSignature(0,Gs)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(Vs),this.readBlockEndOfCentral(),this.diskNumber===Ii.MAX_VALUE_16BITS||this.diskWithCentralDirStart===Ii.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===Ii.MAX_VALUE_16BITS||this.centralDirRecords===Ii.MAX_VALUE_16BITS||this.centralDirSize===Ii.MAX_VALUE_32BITS||this.centralDirOffset===Ii.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature("PK"))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature("PK"),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Zs)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Zs),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Zs),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(i>0)this.isSignature(e,qs)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=ga(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};var wa=xa;function Ta(t){return new Mi.Promise(function(e,n){var i=t.decompressed.getContentWorker().pipe(new tr);i.on("error",function(t){n(t)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}function Aa(){if(!(this instanceof Aa))return new Aa;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new Aa;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}Aa.prototype=aa,Aa.prototype.loadAsync=function(t,e){var n=this;return e=Ii.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:Di.utf8decode}),Rn(t)?Mi.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):Ii.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var n=new wa(e);return n.load(t),n}).then(function(t){var n=[Mi.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var r=0;r<i.length;r++)n.push(Ta(i[r]));return Mi.Promise.all(n)}).then(function(t){for(var i=t.shift(),r=i.files,o=0;o<r.length;o++){var s=r[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})},Aa.support=kn,Aa.defaults=qi,Aa.version="3.1.5",Aa.loadAsync=function(t,e){return(new Aa).loadAsync(t,e)},Aa.external=Mi;var Ea=Aa;function Sa(t){return null==t}var ka={isNothing:Sa,isObject:function(t){return"object"==typeof t&&null!==t},toArray:function(t){return Array.isArray(t)?t:Sa(t)?[]:[t]},repeat:function(t,e){var n,i="";for(n=0;n<e;n+=1)i+=t;return i},isNegativeZero:function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},extend:function(t,e){var n,i,r,o;if(e)for(n=0,i=(o=Object.keys(e)).length;n<i;n+=1)t[r=o[n]]=e[r];return t}};function Ca(t,e){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name="YAMLException",this.reason=t,this.mark=e,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"")}Ca.prototype=Object.create(Error.prototype),Ca.prototype.constructor=Ca,Ca.prototype.toString=function(t){var e=this.name+": ";return e+=this.reason||"(unknown reason)",!t&&this.mark&&(e+=" "+this.mark.toString()),e};var Oa=Ca;function La(t,e,n,i,r){this.name=t,this.buffer=e,this.position=n,this.line=i,this.column=r}La.prototype.getSnippet=function(t,e){var n,i,r,o,s;if(!this.buffer)return null;for(t=t||4,e=e||75,n="",i=this.position;i>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>e/2-1){n=" ... ",i+=5;break}for(r="",o=this.position;o<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(o));)if((o+=1)-this.position>e/2-1){r=" ... ",o-=5;break}return s=this.buffer.slice(i,o),ka.repeat(" ",t)+n+s+r+"\n"+ka.repeat(" ",t+this.position-i+n.length)+"^"},La.prototype.toString=function(t){var e,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(e=this.getSnippet())&&(n+=":\n"+e),n};var Pa=La,Ra=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],Ma=["scalar","sequence","mapping"],Ia=function(t,e){var n,i;if(e=e||{},Object.keys(e).forEach(function(e){if(-1===Ra.indexOf(e))throw new Oa('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=(n=e.styleAliases||null,i={},null!==n&&Object.keys(n).forEach(function(t){n[t].forEach(function(e){i[String(e)]=t})}),i),-1===Ma.indexOf(this.kind))throw new Oa('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')};function Na(t,e,n){var i=[];return t.include.forEach(function(t){n=Na(t,e,n)}),t[e].forEach(function(t){n.forEach(function(e,n){e.tag===t.tag&&i.push(n)}),n.push(t)}),n.filter(function(t,e){return-1===i.indexOf(e)})}function za(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&"scalar"!==t.loadKind)throw new Oa("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=Na(this,"implicit",[]),this.compiledExplicit=Na(this,"explicit",[]),this.compiledTypeMap=function(){var t,e,n={};function i(t){n[t.tag]=t}for(t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(i);return n}(this.compiledImplicit,this.compiledExplicit)}za.DEFAULT=null,za.create=function(){var t,e;switch(arguments.length){case 1:t=za.DEFAULT,e=arguments[0];break;case 2:t=arguments[0],e=arguments[1];break;default:throw new Oa("Wrong number of arguments for Schema.create function")}if(t=ka.toArray(t),e=ka.toArray(e),!t.every(function(t){return t instanceof za}))throw new Oa("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!e.every(function(t){return t instanceof Ia}))throw new Oa("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new za({include:t,explicit:e})};var Da=za,ja=new Da({explicit:[new Ia("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}}),new Ia("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}}),new Ia("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})]}),Fa=new Ia("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),Ba=new Ia("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function Ua(t){return 48<=t&&t<=55}function Ha(t){return 48<=t&&t<=57}var $a,Wa=new Ia("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,i=t.length,r=0,o=!1;if(!i)return!1;if("-"!==(e=t[r])&&"+"!==e||(e=t[++r]),"0"===e){if(r+1===i)return!0;if("b"===(e=t[++r])){for(r++;r<i;r++)if("_"!==(e=t[r])){if("0"!==e&&"1"!==e)return!1;o=!0}return o}if("x"===e){for(r++;r<i;r++)if("_"!==(e=t[r])){if(!(48<=(n=t.charCodeAt(r))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;o=!0}return o}for(;r<i;r++)if("_"!==(e=t[r])){if(!Ua(t.charCodeAt(r)))return!1;o=!0}return o}for(;r<i;r++)if("_"!==(e=t[r])){if(":"===e)break;if(!Ha(t.charCodeAt(r)))return!1;o=!0}return!!o&&(":"!==e||/^(:[0-5]?[0-9])+$/.test(t.slice(r)))},construct:function(t){var e,n,i=t,r=1,o=[];return-1!==i.indexOf("_")&&(i=i.replace(/_/g,"")),"-"!==(e=i[0])&&"+"!==e||("-"===e&&(r=-1),e=(i=i.slice(1))[0]),"0"===i?0:"0"===e?"b"===i[1]?r*parseInt(i.slice(2),2):"x"===i[1]?r*parseInt(i,16):r*parseInt(i,8):-1!==i.indexOf(":")?(i.split(":").forEach(function(t){o.unshift(parseInt(t,10))}),i=0,n=1,o.forEach(function(t){i+=t*n,n*=60}),r*i):r*parseInt(i,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!ka.isNegativeZero(t)},represent:{binary:function(t){return"0b"+t.toString(2)},octal:function(t){return"0"+t.toString(8)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return"0x"+t.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ga=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),qa=/^[-+]?[0-9]+e/,Va=new Da({include:[ja],implicit:[Fa,Ba,Wa,new Ia("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return null!==t&&!!Ga.test(t)},construct:function(t){var e,n,i,r;return n="-"===(e=t.replace(/_/g,"").toLowerCase())[0]?-1:1,r=[],"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:e.indexOf(":")>=0?(e.split(":").forEach(function(t){r.unshift(parseFloat(t,10))}),e=0,i=1,r.forEach(function(t){e+=t*i,i*=60}),n*e):n*parseFloat(e,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||ka.isNegativeZero(t))},represent:function(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ka.isNegativeZero(t))return"-0.0";return n=t.toString(10),qa.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})]}),Za=new Da({include:[Va]}),Xa=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$"),Ya=new Ia("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&null!==Xa.exec(t)},construct:function(t){var e,n,i,r,o,s,a,u,l=0,c=null;if(null===(e=Xa.exec(t)))throw new Error("Date resolve error");if(n=+e[1],i=+e[2]-1,r=+e[3],!e[4])return new Date(Date.UTC(n,i,r));if(o=+e[4],s=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=6e4*(60*+e[10]+ +(e[11]||0)),"-"===e[9]&&(c=-c)),u=new Date(Date.UTC(n,i,r,o,s,a,l)),c&&u.setTime(u.getTime()-c),u},instanceOf:Date,represent:function(t){return t.toISOString()}}),Ka=new Ia("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}}),Ja={}.Buffer,Qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",tu=new Ia("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,i=0,r=t.length,o=Qa;for(n=0;n<r;n++)if(!((e=o.indexOf(t.charAt(n)))>64)){if(e<0)return!1;i+=6}return i%8==0},construct:function(t){var e,n,i=t.replace(/[\r\n=]/g,""),r=i.length,o=Qa,s=0,a=[];for(e=0;e<r;e++)e%4==0&&e&&(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)),s=s<<6|o.indexOf(i.charAt(e));return 0==(n=r%4*6)?(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)):18===n?(a.push(s>>10&255),a.push(s>>2&255)):12===n&&a.push(s>>4&255),a},predicate:function(t){return Ja&&Ja.isBuffer(t)},represent:function(t){var e,n,i="",r=0,o=t.length,s=Qa;for(e=0;e<o;e++)e%3==0&&e&&(i+=s[r>>18&63],i+=s[r>>12&63],i+=s[r>>6&63],i+=s[63&r]),r=(r<<8)+t[e];return 0==(n=o%3)?(i+=s[r>>18&63],i+=s[r>>12&63],i+=s[r>>6&63],i+=s[63&r]):2===n?(i+=s[r>>10&63],i+=s[r>>4&63],i+=s[r<<2&63],i+=s[64]):1===n&&(i+=s[r>>2&63],i+=s[r<<4&63],i+=s[64],i+=s[64]),i}}),eu=Object.prototype.hasOwnProperty,nu=Object.prototype.toString,iu=new Ia("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,i,r,o,s=[],a=t;for(e=0,n=a.length;e<n;e+=1){if(i=a[e],o=!1,"[object Object]"!==nu.call(i))return!1;for(r in i)if(eu.call(i,r)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==s.indexOf(r))return!1;s.push(r)}return!0},construct:function(t){return null!==t?t:[]}}),ru=Object.prototype.toString,ou=new Ia("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,i,r,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1){if(i=s[e],"[object Object]"!==ru.call(i))return!1;if(1!==(r=Object.keys(i)).length)return!1;o[e]=[r[0],i[r[0]]]}return!0},construct:function(t){if(null===t)return[];var e,n,i,r,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1)i=s[e],r=Object.keys(i),o[e]=[r[0],i[r[0]]];return o}}),su=Object.prototype.hasOwnProperty,au=new Da({include:[Za],implicit:[Ya,Ka],explicit:[tu,iu,ou,new Ia("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){if(null===t)return!0;var e,n=t;for(e in n)if(su.call(n,e)&&null!==n[e])return!1;return!0},construct:function(t){return null!==t?t:{}}})]}),uu=new Ia("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(t){return void 0===t},represent:function(){return""}}),lu=new Ia("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(t){if(null===t)return!1;if(0===t.length)return!1;var e=t,n=/\/([gim]*)$/.exec(t),i="";if("/"===e[0]){if(n&&(i=n[1]),i.length>3)return!1;if("/"!==e[e.length-i.length-1])return!1}return!0},construct:function(t){var e=t,n=/\/([gim]*)$/.exec(t),i="";return"/"===e[0]&&(n&&(i=n[1]),e=e.slice(1,e.length-i.length-1)),new RegExp(e,i)},predicate:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},represent:function(t){var e="/"+t.source+"/";return t.global&&(e+="g"),t.multiline&&(e+="m"),t.ignoreCase&&(e+="i"),e}});try{var cu=t.commonjsRequire;$a=cu("esprima")}catch(t){"undefined"!=typeof window&&($a=window.esprima)}var hu=new Ia("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(t){if(null===t)return!1;try{var e="("+t+")",n=$a.parse(e,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&"FunctionExpression"===n.body[0].expression.type}catch(t){return!1}},construct:function(t){var e,n="("+t+")",i=$a.parse(n,{range:!0}),r=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(t){r.push(t.name)}),e=i.body[0].expression.body.range,new Function(r,n.slice(e[0]+1,e[1]-1))},predicate:function(t){return"[object Function]"===Object.prototype.toString.call(t)},represent:function(t){return t.toString()}}),fu=Da.DEFAULT=new Da({include:[au],explicit:[uu,lu,hu]}),du=Object.prototype.hasOwnProperty,pu=1,mu=2,_u=3,vu=4,gu=1,yu=2,bu=3,xu=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,wu=/[\x85\u2028\u2029]/,Tu=/[,\[\]\{\}]/,Au=/^(?:!|!!|![a-z\-]+!)$/i,Eu=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Su(t){return 10===t||13===t}function ku(t){return 9===t||32===t}function Cu(t){return 9===t||32===t||10===t||13===t}function Ou(t){return 44===t||91===t||93===t||123===t||125===t}function Lu(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function Pu(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t?"\t":9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"":95===t?" ":76===t?"\u2028":80===t?"\u2029":""}function Ru(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var Mu=new Array(256),Iu=new Array(256),Nu=0;Nu<256;Nu++)Mu[Nu]=Pu(Nu)?1:0,Iu[Nu]=Pu(Nu);function zu(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||fu,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function Du(t,e){return new Oa(e,new Pa(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function ju(t,e){throw Du(t,e)}function Fu(t,e){t.onWarning&&t.onWarning.call(null,Du(t,e))}var Bu={YAML:function(t,e,n){var i,r,o;null!==t.version&&ju(t,"duplication of %YAML directive"),1!==n.length&&ju(t,"YAML directive accepts exactly one argument"),null===(i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&ju(t,"ill-formed argument of the YAML directive"),r=parseInt(i[1],10),o=parseInt(i[2],10),1!==r&&ju(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,1!==o&&2!==o&&Fu(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var i,r;2!==n.length&&ju(t,"TAG directive accepts exactly two arguments"),i=n[0],r=n[1],Au.test(i)||ju(t,"ill-formed tag handle (first argument) of the TAG directive"),du.call(t.tagMap,i)&&ju(t,'there is a previously declared suffix for "'+i+'" tag handle'),Eu.test(r)||ju(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[i]=r}};function Uu(t,e,n,i){var r,o,s,a;if(e<n){if(a=t.input.slice(e,n),i)for(r=0,o=a.length;r<o;r+=1)9===(s=a.charCodeAt(r))||32<=s&&s<=1114111||ju(t,"expected valid JSON character");else xu.test(a)&&ju(t,"the stream contains non-printable characters");t.result+=a}}function Hu(t,e,n,i){var r,o,s,a;for(ka.isObject(n)||ju(t,"cannot merge mappings; the provided source object is unacceptable"),s=0,a=(r=Object.keys(n)).length;s<a;s+=1)o=r[s],du.call(e,o)||(e[o]=n[o],i[o]=!0)}function $u(t,e,n,i,r,o){var s,a;if(r=String(r),null===e&&(e={}),"tag:yaml.org,2002:merge"===i)if(Array.isArray(o))for(s=0,a=o.length;s<a;s+=1)Hu(t,e,o[s],n);else Hu(t,e,o,n);else t.json||du.call(n,r)||!du.call(e,r)||ju(t,"duplicated mapping key"),e[r]=o,delete n[r];return e}function Wu(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):ju(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function Gu(t,e,n){for(var i=0,r=t.input.charCodeAt(t.position);0!==r;){for(;ku(r);)r=t.input.charCodeAt(++t.position);if(e&&35===r)do{r=t.input.charCodeAt(++t.position)}while(10!==r&&13!==r&&0!==r);if(!Su(r))break;for(Wu(t),r=t.input.charCodeAt(t.position),i++,t.lineIndent=0;32===r;)t.lineIndent++,r=t.input.charCodeAt(++t.position)}return-1!==n&&0!==i&&t.lineIndent<n&&Fu(t,"deficient indentation"),i}function qu(t){var e,n=t.position;return!(45!==(e=t.input.charCodeAt(n))&&46!==e||e!==t.input.charCodeAt(n+1)||e!==t.input.charCodeAt(n+2)||(n+=3,0!==(e=t.input.charCodeAt(n))&&!Cu(e)))}function Vu(t,e){1===e?t.result+=" ":e>1&&(t.result+=ka.repeat("\n",e-1))}function Zu(t,e){var n,i,r=t.tag,o=t.anchor,s=[],a=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=s),i=t.input.charCodeAt(t.position);0!==i&&45===i&&Cu(t.input.charCodeAt(t.position+1));)if(a=!0,t.position++,Gu(t,!0,-1)&&t.lineIndent<=e)s.push(null),i=t.input.charCodeAt(t.position);else if(n=t.line,Ku(t,e,_u,!1,!0),s.push(t.result),Gu(t,!0,-1),i=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==i)ju(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!a&&(t.tag=r,t.anchor=o,t.kind="sequence",t.result=s,!0)}function Xu(t){var e,n,i,r,o=!1,s=!1;if(33!==(r=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&ju(t,"duplication of a tag property"),60===(r=t.input.charCodeAt(++t.position))?(o=!0,r=t.input.charCodeAt(++t.position)):33===r?(s=!0,n="!!",r=t.input.charCodeAt(++t.position)):n="!",e=t.position,o){do{r=t.input.charCodeAt(++t.position)}while(0!==r&&62!==r);t.position<t.length?(i=t.input.slice(e,t.position),r=t.input.charCodeAt(++t.position)):ju(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==r&&!Cu(r);)33===r&&(s?ju(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),Au.test(n)||ju(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),r=t.input.charCodeAt(++t.position);i=t.input.slice(e,t.position),Tu.test(i)&&ju(t,"tag suffix cannot contain flow indicator characters")}return i&&!Eu.test(i)&&ju(t,"tag name cannot contain such characters: "+i),o?t.tag=i:du.call(t.tagMap,n)?t.tag=t.tagMap[n]+i:"!"===n?t.tag="!"+i:"!!"===n?t.tag="tag:yaml.org,2002:"+i:ju(t,'undeclared tag handle "'+n+'"'),!0}function Yu(t){var e,n;if(38!==(n=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&ju(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!Cu(n)&&!Ou(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&ju(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function Ku(t,e,n,i,r){var o,s,a,u,l,c,h,f,d=1,p=!1,m=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=s=a=vu===n||_u===n,i&&Gu(t,!0,-1)&&(p=!0,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)),1===d)for(;Xu(t)||Yu(t);)Gu(t,!0,-1)?(p=!0,a=o,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)):a=!1;if(a&&(a=p||r),1!==d&&vu!==n||(h=pu===n||mu===n?e:e+1,f=t.position-t.lineStart,1===d?a&&(Zu(t,f)||function(t,e,n){var i,r,o,s,a=t.tag,u=t.anchor,l={},c={},h=null,f=null,d=null,p=!1,m=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=l),s=t.input.charCodeAt(t.position);0!==s;){if(i=t.input.charCodeAt(t.position+1),o=t.line,63!==s&&58!==s||!Cu(i)){if(!Ku(t,n,mu,!1,!0))break;if(t.line===o){for(s=t.input.charCodeAt(t.position);ku(s);)s=t.input.charCodeAt(++t.position);if(58===s)Cu(s=t.input.charCodeAt(++t.position))||ju(t,"a whitespace character is expected after the key-value separator within a block mapping"),p&&($u(t,l,c,h,f,null),h=f=d=null),m=!0,p=!1,r=!1,h=t.tag,f=t.result;else{if(!m)return t.tag=a,t.anchor=u,!0;ju(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!m)return t.tag=a,t.anchor=u,!0;ju(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===s?(p&&($u(t,l,c,h,f,null),h=f=d=null),m=!0,p=!0,r=!0):p?(p=!1,r=!0):ju(t,"incomplete explicit mapping pair; a key node is missed"),t.position+=1,s=i;if((t.line===o||t.lineIndent>e)&&(Ku(t,e,vu,!0,r)&&(p?f=t.result:d=t.result),p||($u(t,l,c,h,f,d),h=f=d=null),Gu(t,!0,-1),s=t.input.charCodeAt(t.position)),t.lineIndent>e&&0!==s)ju(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return p&&$u(t,l,c,h,f,null),m&&(t.tag=a,t.anchor=u,t.kind="mapping",t.result=l),m}(t,f,h))||function(t,e){var n,i,r,o,s,a,u,l,c,h,f=!0,d=t.tag,p=t.anchor,m={};if(91===(h=t.input.charCodeAt(t.position)))r=93,a=!1,i=[];else{if(123!==h)return!1;r=125,a=!0,i={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=i),h=t.input.charCodeAt(++t.position);0!==h;){if(Gu(t,!0,e),(h=t.input.charCodeAt(t.position))===r)return t.position++,t.tag=d,t.anchor=p,t.kind=a?"mapping":"sequence",t.result=i,!0;f||ju(t,"missed comma between flow collection entries"),c=null,o=s=!1,63===h&&Cu(t.input.charCodeAt(t.position+1))&&(o=s=!0,t.position++,Gu(t,!0,e)),n=t.line,Ku(t,e,pu,!1,!0),l=t.tag,u=t.result,Gu(t,!0,e),h=t.input.charCodeAt(t.position),!s&&t.line!==n||58!==h||(o=!0,h=t.input.charCodeAt(++t.position),Gu(t,!0,e),Ku(t,e,pu,!1,!0),c=t.result),a?$u(t,i,m,l,u,c):o?i.push($u(t,null,m,l,u,c)):i.push(u),Gu(t,!0,e),44===(h=t.input.charCodeAt(t.position))?(f=!0,h=t.input.charCodeAt(++t.position)):f=!1}ju(t,"unexpected end of the stream within a flow collection")}(t,h)?m=!0:(s&&function(t,e){var n,i,r,o,s,a=gu,u=!1,l=e,c=0,h=!1;if(124===(o=t.input.charCodeAt(t.position)))i=!1;else{if(62!==o)return!1;i=!0}for(t.kind="scalar",t.result="";0!==o;)if(43===(o=t.input.charCodeAt(++t.position))||45===o)gu===a?a=43===o?bu:yu:ju(t,"repeat of a chomping mode identifier");else{if(!((r=48<=(s=o)&&s<=57?s-48:-1)>=0))break;0===r?ju(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?ju(t,"repeat of an indentation width identifier"):(l=e+r-1,u=!0)}if(ku(o)){do{o=t.input.charCodeAt(++t.position)}while(ku(o));if(35===o)do{o=t.input.charCodeAt(++t.position)}while(!Su(o)&&0!==o)}for(;0!==o;){for(Wu(t),t.lineIndent=0,o=t.input.charCodeAt(t.position);(!u||t.lineIndent<l)&&32===o;)t.lineIndent++,o=t.input.charCodeAt(++t.position);if(!u&&t.lineIndent>l&&(l=t.lineIndent),Su(o))c++;else{if(t.lineIndent<l){a===bu?t.result+=ka.repeat("\n",c):a===gu&&u&&(t.result+="\n");break}for(i?ku(o)?(h=!0,t.result+=ka.repeat("\n",c+1)):h?(h=!1,t.result+=ka.repeat("\n",c+1)):0===c?u&&(t.result+=" "):t.result+=ka.repeat("\n",c):t.result+=u?ka.repeat("\n",c+1):ka.repeat("\n",c),u=!0,c=0,n=t.position;!Su(o)&&0!==o;)o=t.input.charCodeAt(++t.position);Uu(t,n,t.position,!1)}}return!0}(t,h)||function(t,e){var n,i,r;if(39!==(n=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(Uu(t,i,t.position,!0),39!==(n=t.input.charCodeAt(++t.position)))return!0;i=r=t.position,t.position++}else Su(n)?(Uu(t,i,r,!0),Vu(t,Gu(t,!1,e)),i=r=t.position):t.position===t.lineStart&&qu(t)?ju(t,"unexpected end of the document within a single quoted scalar"):(t.position++,r=t.position);ju(t,"unexpected end of the stream within a single quoted scalar")}(t,h)||function(t,e){var n,i,r,o,s,a,u;if(34!==(a=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;0!==(a=t.input.charCodeAt(t.position));){if(34===a)return Uu(t,n,t.position,!0),t.position++,!0;if(92===a){if(Uu(t,n,t.position,!0),Su(a=t.input.charCodeAt(++t.position)))Gu(t,!1,e);else if(a<256&&Mu[a])t.result+=Iu[a],t.position++;else if((s=120===(u=a)?2:117===u?4:85===u?8:0)>0){for(r=s,o=0;r>0;r--)(s=Lu(a=t.input.charCodeAt(++t.position)))>=0?o=(o<<4)+s:ju(t,"expected hexadecimal character");t.result+=Ru(o),t.position++}else ju(t,"unknown escape sequence");n=i=t.position}else Su(a)?(Uu(t,n,i,!0),Vu(t,Gu(t,!1,e)),n=i=t.position):t.position===t.lineStart&&qu(t)?ju(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}ju(t,"unexpected end of the stream within a double quoted scalar")}(t,h)?m=!0:function(t){var e,n,i;if(42!==(i=t.input.charCodeAt(t.position)))return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;0!==i&&!Cu(i)&&!Ou(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&ju(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),t.anchorMap.hasOwnProperty(n)||ju(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Gu(t,!0,-1),!0}(t)?(m=!0,null===t.tag&&null===t.anchor||ju(t,"alias node should not have any properties")):function(t,e,n){var i,r,o,s,a,u,l,c,h=t.kind,f=t.result;if(Cu(c=t.input.charCodeAt(t.position))||Ou(c)||35===c||38===c||42===c||33===c||124===c||62===c||39===c||34===c||37===c||64===c||96===c)return!1;if((63===c||45===c)&&(Cu(i=t.input.charCodeAt(t.position+1))||n&&Ou(i)))return!1;for(t.kind="scalar",t.result="",r=o=t.position,s=!1;0!==c;){if(58===c){if(Cu(i=t.input.charCodeAt(t.position+1))||n&&Ou(i))break}else if(35===c){if(Cu(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&qu(t)||n&&Ou(c))break;if(Su(c)){if(a=t.line,u=t.lineStart,l=t.lineIndent,Gu(t,!1,-1),t.lineIndent>=e){s=!0,c=t.input.charCodeAt(t.position);continue}t.position=o,t.line=a,t.lineStart=u,t.lineIndent=l;break}}s&&(Uu(t,r,o,!1),Vu(t,t.line-a),r=o=t.position,s=!1),ku(c)||(o=t.position+1),c=t.input.charCodeAt(++t.position)}return Uu(t,r,o,!1),!!t.result||(t.kind=h,t.result=f,!1)}(t,h,pu===n)&&(m=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===d&&(m=a&&Zu(t,f))),null!==t.tag&&"!"!==t.tag)if("?"===t.tag){for(u=0,l=t.implicitTypes.length;u<l;u+=1)if((c=t.implicitTypes[u]).resolve(t.result)){t.result=c.construct(t.result),t.tag=c.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else du.call(t.typeMap,t.tag)?(c=t.typeMap[t.tag],null!==t.result&&c.kind!==t.kind&&ju(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+c.kind+'", not "'+t.kind+'"'),c.resolve(t.result)?(t.result=c.construct(t.result),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):ju(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):ju(t,"unknown tag !<"+t.tag+">");return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||m}function Ju(t){var e,n,i,r,o=t.position,s=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};0!==(r=t.input.charCodeAt(t.position))&&(Gu(t,!0,-1),r=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==r));){for(s=!0,r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!Cu(r);)r=t.input.charCodeAt(++t.position);for(i=[],(n=t.input.slice(e,t.position)).length<1&&ju(t,"directive name must not be less than one character in length");0!==r;){for(;ku(r);)r=t.input.charCodeAt(++t.position);if(35===r){do{r=t.input.charCodeAt(++t.position)}while(0!==r&&!Su(r));break}if(Su(r))break;for(e=t.position;0!==r&&!Cu(r);)r=t.input.charCodeAt(++t.position);i.push(t.input.slice(e,t.position))}0!==r&&Wu(t),du.call(Bu,n)?Bu[n](t,n,i):Fu(t,'unknown document directive "'+n+'"')}Gu(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,Gu(t,!0,-1)):s&&ju(t,"directives end mark is expected"),Ku(t,t.lineIndent-1,vu,!1,!0),Gu(t,!0,-1),t.checkLineBreaks&&wu.test(t.input.slice(o,t.position))&&Fu(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&qu(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,Gu(t,!0,-1)):t.position<t.length-1&&ju(t,"end of the stream or a document separator is expected")}function Qu(t,e){e=e||{},0!==(t=String(t)).length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new zu(t,e);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Ju(n);return n.documents}function tl(t,e,n){var i,r,o=Qu(t,n);for(i=0,r=o.length;i<r;i+=1)e(o[i])}function el(t,e){var n=Qu(t,e);if(0!==n.length){if(1===n.length)return n[0];throw new Oa("expected a single document in the stream, but found more")}}var nl={loadAll:tl,load:el,safeLoadAll:function(t,e,n){tl(t,e,ka.extend({schema:au},n))},safeLoad:function(t,e){return el(t,ka.extend({schema:au},e))}};function il(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}var rl,ol={Type:Ia,Schema:Da,FAILSAFE_SCHEMA:ja,JSON_SCHEMA:Va,CORE_SCHEMA:Za,DEFAULT_SAFE_SCHEMA:au,DEFAULT_FULL_SCHEMA:fu,load:nl.load,loadAll:nl.loadAll,safeLoad:nl.safeLoad,safeLoadAll:nl.safeLoadAll,YAMLException:Oa,MINIMAL_SCHEMA:ja,SAFE_SCHEMA:au,DEFAULT_SCHEMA:fu,scan:il("scan"),parse:il("parse"),compose:il("compose"),addConstructor:il("addConstructor")},sl=function(){function e(e,n,i){void 0===i&&(i=null),this.url=e,!n||t.isRelativeURL(n)&&!t.isRelativeURL(this.url)?this.path=t.pathForURL(this.url):this.path=n,this.path_for_parent=n||this.path,this.parent=i,this.container=null,this.parent&&(this.parent.container?this.container=this.parent.container:this.parent.isContainer()&&(this.container=this.parent))}var n=e.prototype;return n.load=function(){return ll(this.url)},n.resourceFor=function(t){return{url:this.urlFor(t),path:this.pathFor(t),type:this.typeFor(t)}},n.urlFor=function(e){return ul(e)?e:t.isRelativeURL(e)&&this.container?this.parent.urlFor(this.path_for_parent+e):t.addBaseURL(e,this.path)},n.pathFor=function(e){return t.pathForURL(e)},n.typeFor=function(e){return t.extensionForURL(e)},n.isContainer=function(){return!1},e}(),al=function(e){function n(t,n,i){var r;return(r=e.call(this,t,n,i)||this).zip=null,r.files={},r.root=null,r.path="",r}t._inheritsLoose(n,e);var i=n.prototype;return i.isContainer=function(){return!0},i.load=function(){return new Promise(function(e,n){var i;return this.zip=new Ea,"string"==typeof this.url?Promise.resolve(t.Utils.io(this.url,6e4,"arraybuffer")).then(function(t){try{return i=t,Promise.resolve(this.zip.loadAsync(i)).then(function(t){try{return Promise.resolve(this.parseZipFiles()).then(function(t){try{return e(this.loadRoot())}catch(t){return n(t)}}.bind(this),n)}catch(t){return n(t)}}.bind(this),n)}catch(t){return n(t)}}.bind(this),n):e(this)}.bind(this))},i.urlFor=function(n){return ul(n)?n:t.isRelativeURL(n)?this.urlForZipFile(t.flattenRelativeURL(n)):e.prototype.urlFor.call(this,n)},i.typeFor=function(n){return t.isRelativeURL(n)?this.typeForZipFile(n):e.prototype.typeFor.call(this,n)},i.loadRoot=function(){return this.findRoot(),ll(this.urlForZipFile(this.root))},i.findRoot=function(){var e=this,n=Object.keys(this.files).filter(function(t){return 0===e.files[t].depth}).filter(function(e){return"yaml"===t.extensionForURL(e)});if(1===n.length&&(this.root=n[0]),!this.root){var i="Could not find root scene for bundle '"+this.url+"': ";throw i+="The zip archive's root level must contain a single scene file with the '.yaml' extension. ",n.length>0?i+="Found multiple YAML files at the root level: "+n.map(function(t){return"'"+t+"'"}).join(", ")+".":i+="Found NO YAML files at the root level.",Error(i)}},i.parseZipFiles=function(){return new Promise(function(e,n){var i,r,o,s,a,u;return i=[],r=[],this.zip.forEach(function(t,e){e.dir||(i.push(t),r.push(e.async("arraybuffer")))}),Promise.resolve(Promise.all(r)).then(function(r){try{for(o=r,s=0;s<o.length;s++)a=i[s],u=a.split("/").length-1,this.files[a]={data:o[s],type:t.extensionForURL(a),depth:u};return e()}catch(t){return n(t)}}.bind(this),n)}.bind(this))},i.urlForZipFile=function(e){if(this.files[e])return this.files[e].url||(this.files[e].url=t.createObjectURL(new Blob([this.files[e].data]))),this.files[e].url},i.typeForZipFile=function(t){return this.files[t]&&this.files[t].type},n}(sl);function ul(t){return!(!t||"global."!==t.slice(0,7))}function ll(e){return new Promise(function(n,i){"string"==typeof e?t.Utils.io(e).then(function(t){try{var e=function(t){var e;try{e=ol.safeLoad(t,{json:!0})}catch(t){throw t}return e}(t);n(e)}catch(t){i(t)}},i):(e=Object.assign({},e),n(e))})}var cl=rl={loadScene:function(e,n){return new Promise(function(i,r){var o,s,a,u,l,c,h,f,d;return o=this,a=(s=void 0===n?{}:n).path,u=s.type,l=[],Promise.resolve(this.loadSceneRecursive({url:e,path:a,type:u},null,l)).then(function(e){try{return c=e,h=this.finalize(c),f=h.config,d=h.bundle,f?(l.length>0&&l.forEach(function(e){var n="Failed to import scene: "+e.url;t.log("error",n,e),o.trigger("error",{type:"scene_import",message:n,error:e,url:e.url})}),i({config:f,bundle:d})):r(l[0])}catch(t){return r(t)}}.bind(this),r)}.bind(this))},loadSceneRecursive:function(e,n,i){return new Promise(function(r,o){var s,a,u,l,c,h,f,d,p;if(s=this,a=e.url,u=e.path,l=e.type,void 0===i&&(i=[]),!a)return r({});c=function(e,n,i,r){return void 0===r&&(r=null),null!=r&&"zip"===r||"string"==typeof e&&!t.isLocalURL(e)&&"zip"===t.extensionForURL(e)?new al(e,n,i):new sl(e,n,i)}(a,u,n,l);var m=function(t){try{return t.url=a,i.push(t),r({})}catch(t){return o(t)}};try{return Promise.resolve(c.load()).then(function(e){try{return null==(h=e).import?(this.normalize(h,c),r({config:h,bundle:c})):(Array.isArray(h.import)||(h.import=[h.import]),f=[],h.import.forEach(function(e){"object"==typeof e&&(e=t.createObjectURL(new Blob([JSON.stringify(e)]))),f.push(c.resourceFor(e))}),delete h.import,d=f.map(function(t){return s.loadSceneRecursive(t,c,i)}),Promise.resolve(Promise.all(d)).then(function(e){try{return p=e.map(function(t){return s.normalize(t.config,t.bundle)}).map(function(t){return t.config}),h=t.mergeObjects.apply(void 0,p.concat([h])),this.normalize(h,c),r({config:h,bundle:c})}catch(t){return m(t)}}.bind(this),m))}catch(t){return m(t)}}.bind(this),m)}catch(t){m(t)}}.bind(this))},normalize:function(t,e){return this.normalizeDataSources(t,e),this.normalizeFonts(t,e),this.normalizeTextures(t,e),this.hoistTextures(t,e),{config:t,bundle:e}},normalizeDataSources:function(t,e){for(var n in t.sources=t.sources||{},t.sources)this.normalizeDataSource(t.sources[n],e);return t},normalizeDataSource:function(t,e){if(t.url=e.urlFor(t.url),Array.isArray(t.composite)&&t.composite.forEach(function(t){return t.url=e.urlFor(t.url)}),t.scripts)for(var n in Array.isArray(t.scripts)&&(t.scripts=t.scripts.reduce(function(t,e){return t[e]=e,t},{})),t.scripts)t.scripts[n]=e.urlFor(t.scripts[n]);return t},normalizeFonts:function(t,e){for(var n in t.fonts=t.fonts||{},t.fonts)if(Array.isArray(t.fonts[n]))t.fonts[n].forEach(function(t){t.url=t.url&&e.urlFor(t.url)});else{var i=t.fonts[n];i.url=i.url&&e.urlFor(i.url)}return t},normalizeTextures:function(t,e){if(t.textures=t.textures||{},t.textures)for(var n in t.textures){var i=t.textures[n];i.url&&(i.url=e.urlFor(i.url))}},hoistTextures:function(e,n){var i=this;if(e.styles){var r=function(t){var r=e.styles[t],o=r.texture;"string"!=typeof o||e.textures[o]||(r.texture=i.hoistTexture(o,e,n)),r.material&&["emission","ambient","diffuse","specular","normal"].forEach(function(t){var o=null!=r.material[t]&&r.material[t].texture;"string"!=typeof o||e.textures[o]||(r.material[t].texture=i.hoistTexture(o,e,n))})};for(var o in e.styles)r(o)}if(this.hoistStyleShaderUniformTextures(e,n,{include_globals:!1}),e.layers)for(var s=[e.layers];s.length>0;){var a=s.pop();if("object"==typeof a&&!Array.isArray(a))for(var u in a)if("draw"===u){var l=a[u];for(var c in l){if(l[c].texture){var h=l[c].texture;"string"!=typeof h||e.textures[h]||(l[c].texture=this.hoistTexture(h,e,n))}if(l[c].outline&&l[c].outline.texture){var f=l[c].outline.texture;"string"!=typeof f||e.textures[f]||(l[c].outline.texture=this.hoistTexture(f,e,n))}}}else{if(t.isReserved(u))continue;s.push(a[u])}}},hoistStyleShaderUniformTextures:function(e,n,i){var r=this,o=i.include_globals;if(e.styles)for(var s in e.styles){var a=e.styles[s];a.shaders&&a.shaders.uniforms&&t.GLSL.parseUniforms(a.shaders.uniforms).forEach(function(t){var i=t.type,s=t.value,a=t.key,u=t.uniforms;"sampler2D"!==i||"string"!=typeof s||e.textures[s]||!o&&ul(s)||(u[a]=r.hoistTexture(s,e,n))})}},hoistTexture:function(t,e,n){var i=ul(t),r=i?t:n.urlFor(t),o=i?"texture-"+r:r;return e.textures[o]={url:r},o},applyGlobalProperties:function(e){if(!e.global||0===Object.keys(e.global).length)return e;var n=function t(e,n,i){for(var r in void 0===n&&(n=null),void 0===i&&(i={}),n=n?n+".":"global.",e){var o=n+r,s=e[r];i[o]=s,"object"!=typeof s||Array.isArray(s)||t(s,o,i)}return i}(e.global);return function e(i,r,o){var s;if(null!=r&&"object"==typeof r&&r._global_prop&&r._global_prop[o]?s=r._global_prop[o]:"string"==typeof i&&"global."===i.slice(0,7)&&(s=i),s){null==r._global_prop&&Object.defineProperty(r,"_global_prop",{value:{}}),r._global_prop[o]=s;for(var a,u=n[s];"string"==typeof u&&"global."===u.slice(0,7);){if((a=a||[s]).indexOf(u)>-1){t.log({level:"warn",once:!0},"Global properties: cyclical reference detected",a),u=null;break}a.push(u),u=n[u]}Object.defineProperty(r,o,{enumerable:!0,get:function(){return u},set:function(t){delete r._global_prop[o],delete r[o],r[o]=t}})}else if(Array.isArray(i))for(var l=0;l<i.length;l++)e(i[l],i,l);else if("object"==typeof i)for(var c in i)e(i[c],i,c);return i}(e)},finalize:function(t){var e=t.config,n=t.bundle;return e?(e.global=e.global||{},e.scene=e.scene||{},e.cameras=e.cameras||{},e.lights=e.lights||{},e.styles=e.styles||{},e.layers=e.layers||{},e.camera&&(e.cameras.default=e.camera),0===Object.keys(e.cameras).length&&(e.cameras.default={}),(0===Object.keys(e.lights).length||Object.keys(e.lights).every(function(t){return!1===e.lights[t].visible}))&&(e.lights.default_light={type:"directional"}),{config:e,bundle:n}):{}}};t.subscribeMixin(rl);var hl=function(){function e(){this.tiles={},this.max_proxy_descendant_depth=6,this.max_proxy_ancestor_depth=7,this.children_cache={}}var n=e.prototype;return n.addTile=function(e){for(this.tiles[e.key]=this.tiles[e.key]||{descendants:0},this.tiles[e.key].tile=e;e.style_z>=0;){if(!(e=t.TileID.parent(e)))return;this.tiles[e.key]||(this.tiles[e.key]={descendants:0}),this.tiles[e.key].descendants++}},n.removeTile=function(e){for(this.tiles[e.key]&&(delete this.tiles[e.key].tile,0===this.tiles[e.key].descendants&&delete this.tiles[e.key]);e.style_z>=0;){if(!(e=t.TileID.parent(e)))return;this.tiles[e.key]&&this.tiles[e.key].descendants>0&&(this.tiles[e.key].descendants--,0!==this.tiles[e.key].descendants||this.tiles[e.key].tile||delete this.tiles[e.key])}},n.getAncestor=function(e){for(var n=0;n<this.max_proxy_ancestor_depth;){if(!(e=t.TileID.parent(e)))return;if(this.tiles[e.key]&&this.tiles[e.key].tile&&this.tiles[e.key].tile.loaded)return this.tiles[e.key].tile;n++}},n.getDescendants=function(e,n){var i=this;void 0===n&&(n=0);var r=[];if(n<this.max_proxy_descendant_depth){var o=t.TileID.children(e,this.children_cache);if(!o)return;o.forEach(function(t){i.tiles[t.key]&&(i.tiles[t.key].tile&&i.tiles[t.key].tile.loaded?r.push(i.tiles[t.key].tile):i.tiles[t.key].descendants>0&&r.push.apply(r,i.getDescendants(t,n+1)))})}return r},e}(),fl={},dl={};function pl(e,n){if(void 0===n&&(n=null),this.obb)return t.Label.prototype.occluded.call(this,e,n);if(this.obbs)for(var i=0;i<this.obbs.length;i++){var r={aabb:this.aabbs[i],obb:this.obbs[i]};if(t.Label.prototype.occluded.call(r,e,n))return!0}return!1}var ml=function(){function e(e){var n=e.scene;this.scene=n,this.tiles={},this.pyramid=new hl,this.visible_coords={},this.queued_coords=[],this.building_tiles=null,this.renderable_tiles=[],this.collision={tile_keys:null,mesh_set:null,zoom:null,zoom_steps:3},this.main_thread_target=["TileManager",this.scene.id].join("_"),t.WorkerBroker.addTarget(this.main_thread_target,this)}var n=e.prototype;return n.destroy=function(){this.forEachTile(function(t){return t.destroy()}),this.tiles={},this.pyramid=null,this.visible_coords={},this.queued_coords=[],this.scene=null,t.WorkerBroker.removeTarget(this.main_thread_target)},n.keepTile=function(t){this.tiles[t.key]=t,this.pyramid.addTile(t)},n.hasTile=function(t){return void 0!==this.tiles[t]},n.forgetTile=function(t){if(this.hasTile(t)){var e=this.tiles[t];this.pyramid.removeTile(e)}delete this.tiles[t],this.tileBuildStop(t)},n.removeTile=function(e){t.log("trace","tile unload for "+e);var n=this.tiles[e];null!=n&&n.destroy(),this.forgetTile(n.key),this.scene.requestRedraw()},n.forEachTile=function(t){for(var e in this.tiles)t(this.tiles[e])},n.removeTiles=function(t){var e=[];for(var n in this.tiles)t(this.tiles[n])&&e.push(n);for(var i=0;i<e.length;i++){var r=e[i];this.removeTile(r)}},n.updateTilesForView=function(){this.visible_coords={};for(var t=this.view.findVisibleTileCoordinates(),e=0;e<t.length;e++){var n=t[e];this.queueCoordinate(n),this.visible_coords[n.key]=n}this.updateTileStates()},n.updateTileStates=function(){var t=this;return this.forEachTile(function(e){t.updateVisibility(e)}),this.loadQueuedCoordinates(),this.updateProxyTiles(),this.view.pruneTilesForView(),this.updateRenderableTiles(),this.style_manager.updateActiveStyles(this.renderable_tiles),this.style_manager.updateActiveBlendOrders(this.renderable_tiles),this.updateLabels()},n.updateLabels=function(){var e=this;if(this.scene.building&&!this.scene.building.initial)return Promise.resolve({});var n=this.renderable_tiles.filter(function(t){return t.valid}).filter(function(t){return t.built});return 0===n.length?Promise.resolve({}):(n.sort(function(t,e){return t.build_id<e.build_id?-1:t.build_id>e.build_id?1:0}),this.collision.zoom===_l(this.view.zoom,this.collision.zoom_steps)&&this.collision.tile_keys===JSON.stringify(n.map(function(t){return t.key}))&&this.collision.mesh_set===vl(n)?Promise.resolve({}):(this.collision.task||(this.collision.zoom=_l(this.view.zoom,this.collision.zoom_steps),this.collision.tile_keys=JSON.stringify(n.map(function(t){return t.key})),this.collision.mesh_set=vl(n),this.collision.task={type:"tileManagerUpdateLabels",run:function(i){return new Promise(function(r,o){var s;return Promise.resolve(function(e,n,i){return new Promise(function(r,o){var s,a,u;return void 0===i&&(i=!1),dl=fl,fl={},s=function(e,n){var i={},r={};for(var o in e.forEach(function(e){var o=t.Geo.unitsPerMeter(e.coords.z),s=Math.pow(2,n-e.style_z),a=o*s,u=t.Geo.metersPerPixel(n),l=Object.assign({},e.meshes,e.pending_label_meshes);for(var c in l)l[c].forEach(function(n){if(n.labels)for(var s in n.labels)if(!e.isProxy()||dl[s]){var l=n.labels[s].container.label,c=n.labels[s].container.linked,h=n.labels[s].ranges,f=Object.assign({},n.labels[s].debug,{tile:e,params:l,label_id:s}),d=i[s]={};if(d.discard=pl.bind(d),d.build_id=e.build_id,Object.assign(d,l),d.layout=Object.assign({},l.layout),d.layout.repeat_scale=.75,d.layout.repeat_distance=d.layout.repeat_distance||0,d.layout.repeat_distance/=a,d.position=[d.position[0]/o+e.min.x,d.position[1]/o+e.min.y],d.unit_scale=u,"point"===d.type)t.LabelPoint.prototype.updateBBoxes.call(d);else if("straight"===d.type)t.LabelLineStraight.prototype.updateBBoxes.call(d,d.position,d.size,d.angle,d.angle,d.offset);else if(l.obbs){var p=l.obbs.map(function(n){var i=n.x,r=n.y,s=n.a,u=n.w,l=n.h;return i=i/o+e.min.x,r=r/o+e.min.y,u/=a,l/=a,new t.OBB(i,r,s,u,l)});d.obbs=p,d.aabbs=p.map(function(t){return t.getExtent()})}r[s]={label:d,linked:c,ranges:h,mesh:n,debug:f}}})}),r){var s=r[o];s.linked&&(s.linked=r[s.linked])}return r=Object.keys(r).map(function(t){return r[t]})}(e,n),t.Collision.startTile("main",{apply_repeat_groups:!0,return_hidden:!0}),t.Collision.addStyle("main","main"),Promise.resolve(t.Collision.collide(s,"main","main")).then(function(t){try{return u=[],(a=t).forEach(function(t){var e=0;!0!==t.show||i&&t.label.breach&&!dl[t.label.id]||(e=1),e&&(fl[t.label.id]=!0);var n=!0;t.ranges.forEach(function(i){if(n){var r=t.mesh;if(r.valid){for(var o=r.vertex_layout.offset.a_shape,s=r.vertex_layout.stride,a=0;a<i[1];a++){if(r.vertex_data[i[0]+a*s+o+6]===e)return void(n=!1);r.vertex_data[i[0]+a*s+o+6]=e}-1===u.indexOf(r)&&u.push(r)}}})}),u.forEach(function(t){return t.upload()}),e.forEach(function(t){return t.swapPendingLabels()}),r({labels:a,containers:s})}catch(t){return o(t)}},o)})}(n,e.collision.zoom,e.isLoadingVisibleTiles())).then(function(n){try{return s=n,e.scene.requestRedraw(),e.collision.task=null,t.Task.finish(i,s),e.updateTileStates(),r()}catch(t){return o(t)}},o)})},immediate:!0},t.Task.add(this.collision.task)),this.collision.task.promise))},n.updateProxyTiles=function(){var t=this;if(0!==this.view.zoom_direction){this.forEachTile(function(t){return t.setProxyFor(null)});var e=!1;this.forEachTile(function(n){if(1===t.view.zoom_direction){if(n.visible&&!n.labeled){var i=t.pyramid.getAncestor(n);i&&(i.setProxyFor(n),e=!0)}}else if(-1===t.view.zoom_direction&&n.visible&&!n.labeled)for(var r=t.pyramid.getDescendants(n),o=0;o<r.length;o++)r[o].setProxyFor(n),e=!0}),e||(this.view.zoom_direction=0)}},n.updateVisibility=function(e){if(e.visible=!1,e.style_z===this.view.tile_zoom)if(this.visible_coords[e.coords.key])e.visible=!0;else for(var n in this.visible_coords)if(t.TileID.isDescendant(e.coords,this.visible_coords[n])){e.visible=!0;break}},n.pruneToVisibleTiles=function(){this.removeTiles(function(t){return!t.visible})},n.getRenderableTiles=function(){return this.renderable_tiles},n.updateRenderableTiles=function(){for(var t in this.renderable_tiles=[],this.tiles){var e=this.tiles[t];e.visible&&e.loaded&&this.renderable_tiles.push(e)}return this.renderable_tiles},n.isLoadingVisibleTiles=function(){var t=this;return Object.keys(this.tiles).some(function(e){return t.tiles[e].visible&&!t.tiles[e].built})},n.allVisibleTilesLabeled=function(){return this.renderable_tiles.every(function(t){return t.labeled})},n.queueCoordinate=function(t){this.queued_coords[this.queued_coords.length]=t},n.loadQueuedCoordinates=function(){var e=this;0!==this.queued_coords.length&&(this.queued_coords.sort(function(n,i){var r=e.view.center.meters,o=t.Geo.metersPerTile(n.z)/2,s=t.Geo.metersForTile(n);s.x+=o,s.y-=o;var a=t.Geo.metersForTile(i);a.x+=o,a.y-=o;var u=Math.abs(r.x-s.x)+Math.abs(r.y-s.y),l=Math.abs(r.x-a.x)+Math.abs(r.y-a.y);return n.center_dist=u,i.center_dist=l,l>u?-1:l===u?0:1}),this.queued_coords.forEach(function(t){return e.loadCoordinate(t)}),this.queued_coords=[])},n.loadCoordinate=function(e){if(e.z===this.view.center.tile.z)for(var n in this.scene.sources){var i=this.scene.sources[n];if(i.builds_geometry_tiles&&i.includesTile(e,this.view.tile_zoom)){var r=t.TileID.normalizedKey(e,i,this.view.tile_zoom);if(r&&!this.hasTile(r)){t.log("trace","load tile "+r+", distance from view center: "+e.center_dist);var o=new t.Tile({source:i,coords:e,workers:this.scene.workers,style_z:this.view.baseZoom(e.z),view:this.view});this.keepTile(o),this.buildTile(o)}}}},n.buildTile=function(t,e){this.tileBuildStart(t.key),this.updateVisibility(t),t.build(this.scene.generation,e)},n.buildTileStylesCompleted=function(e){var n=e.tile,i=e.progress;if(null==this.tiles[n.key])t.log("trace","discarded tile "+n.key+" in TileManager.buildTileStylesCompleted because previously removed"),t.Tile.abortBuild(n),this.updateTileStates();else if(n.generation!==this.scene.generation)t.log("trace","discarded tile "+n.key+" in TileManager.buildTileStylesCompleted because built with scene config gen "+n.generation+", current "+this.scene.generation),t.Tile.abortBuild(n),this.updateTileStates();else{if(this.tiles[n.key]){if(n.id<this.tiles[n.key].id)return t.log("trace","discarded tile "+n.key+" for id "+n.id+" in TileManager.buildTileStylesCompleted because built for discarded tile id"),void t.Tile.abortBuild(n);n=this.tiles[n.key].merge(n)}i.done&&(n.built=!0),n.buildMeshes(this.scene.styles,i),this.updateTileStates(),this.scene.requestRedraw()}i.done&&this.tileBuildStop(n.key)},n.buildTileError=function(e){t.log("error","Error building tile "+e.key+":",e.error),this.forgetTile(e.key),t.Tile.abortBuild(e)},n.tileBuildStart=function(e){this.building_tiles=this.building_tiles||{},this.building_tiles[e]=!0,t.log("trace","tileBuildStart for "+e+": "+Object.keys(this.building_tiles).length)},n.tileBuildStop=function(e){this.building_tiles&&(t.log("trace","tileBuildStop for "+e+": "+Object.keys(this.building_tiles).length),delete this.building_tiles[e],this.checkBuildQueue())},n.checkBuildQueue=function(){this.building_tiles&&0!==Object.keys(this.building_tiles).length||(this.building_tiles=null,this.scene.tileManagerBuildDone())},n.getDebugProp=function(t,e){var n=[];for(var i in this.tiles)null==this.tiles[i].debug[t]||"function"==typeof e&&!0!==e(this.tiles[i])||n.push(this.tiles[i].debug[t]);return n},n.getDebugSum=function(t,e){var n=0;for(var i in this.tiles)null==this.tiles[i].debug[t]||"function"==typeof e&&!0!==e(this.tiles[i])||(n+=this.tiles[i].debug[t]);return n},n.getDebugAverage=function(t,e){return this.getDebugSum(t,e)/Object.keys(this.tiles).length},t._createClass(e,[{key:"view",get:function(){return this.scene.view}},{key:"style_manager",get:function(){return this.scene.style_manager}}]),e}();function _l(t,e,n){return void 0===n&&(n=2),(Math.floor(t*e)/e).toFixed(n)}function vl(t){return JSON.stringify(Object.entries(t).map(function(t){var e=t[1];return Object.entries(e.meshes).map(function(t){return t[1].map(function(t){return t.created_at})})}))}var gl=function(){function t(t,e){e(t),this.value=t,this.setup=e}return t.prototype.set=function(t){JSON.stringify(this.value)!==JSON.stringify(t)&&(this.setup(t),this.value=t)},t}(),yl=function(t){this.defaults={},this.defaults.culling=!0,this.defaults.culling_face=t.BACK,this.defaults.blending=!1,this.defaults.blending_src=t.ONE_MINUS_SRC_ALPHA,this.defaults.blending_dst=t.ONE_MINUS_SRC_ALPHA,this.defaults.blending_src_alpha=t.ONE,this.defaults.blending_dst_alpha=t.ONE_MINUS_SRC_ALPHA,this.defaults.depth_write=!0,this.defaults.depth_test=!0,t.depthFunc(t.LESS),this.culling=new gl({cull:this.defaults.culling,face:this.defaults.culling_face},function(e){e.cull?(t.enable(t.CULL_FACE),t.cullFace(e.face)):t.disable(t.CULL_FACE)}),this.blending=new gl({blend:this.defaults.blending,src:this.defaults.blending_src,dst:this.defaults.blending_dst,src_alpha:this.defaults.blending_src_alpha,dst_alpha:this.defaults.blending_dst_alpha},function(e){e.blend?(t.enable(t.BLEND),e.src_alpha&&e.dst_alpha?t.blendFuncSeparate(e.src,e.dst,e.src_alpha,e.dst_alpha):t.blendFunc(e.src,e.dst)):t.disable(t.BLEND)}),this.depth_write=new gl({depth_write:this.defaults.depth_write},function(e){t.depthMask(e.depth_write)}),this.depth_test=new gl({depth_test:this.defaults.depth_test},function(e){e.depth_test?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST)})};t.require$$0$5("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0);var bl,xl=function(){function e(){this.canvas=null,this.gl=null,this.screenshot_canvas=null,this.screenshot_context=null,this.queue_screenshot=null,this.video_capture=null}var n=e.prototype;return n.setCanvas=function(t,e){this.canvas=t,this.gl=e},n.screenshot=function(t){var e=this,n=(void 0===t?{}:t).background;return null!=this.queue_screenshot?this.queue_screenshot.promise:(this.queue_screenshot={background:n},this.queue_screenshot.promise=new Promise(function(t,n){e.queue_screenshot.resolve=t,e.queue_screenshot.reject=n}),this.queue_screenshot.promise)},n.completeScreenshot=function(){if(null!=this.queue_screenshot){var e=this.canvas.width,n=this.canvas.height,i=new Uint8Array(e*n*4);this.gl.readPixels(0,0,e,n,this.gl.RGBA,this.gl.UNSIGNED_BYTE,i);var r=this.queue_screenshot.background;r=r&&"transparent"!==r?t.StyleParser.parseColor(r).slice(0,3).map(function(t){return 255*t}):null;for(var o=new Uint8ClampedArray(e*n*4),s=0;s<n;s++)for(var a=0;a<e;a++){var u=4*((n-s-1)*e+a),l=4*(s*e+a),c=i[u+3];o[l+0]=255*i[u+0]/c,o[l+1]=255*i[u+1]/c,o[l+2]=255*i[u+2]/c,o[l+3]=c,r&&(c/=255,o[l+0]=o[l+0]*c+r[0]*(1-c),o[l+1]=o[l+1]*c+r[1]*(1-c),o[l+2]=o[l+2]*c+r[2]*(1-c),o[l+3]=255)}this.screenshot_canvas=this.screenshot_canvas||document.createElement("canvas");var h=this.screenshot_canvas;h.width=e,h.height=n,this.screenshot_context=this.screenshot_context||h.getContext("2d");var f=this.screenshot_context,d=new ImageData(o,e,n);f.putImageData(d,0,0);for(var p=h.toDataURL("image/png"),m=atob(p.slice(22)),_=new Uint8Array(m.length),v=0;v<m.length;++v)_[v]=m.charCodeAt(v);var g=new Blob([_],{type:"image/png"});this.queue_screenshot.resolve({url:p,blob:g,type:"png"}),this.queue_screenshot=null}},n.startVideoCapture=function(){var e=this;if("function"!=typeof window.MediaRecorder||!this.canvas||"function"!=typeof this.canvas.captureStream)return t.log("warn","Video capture (Canvas.captureStream and/or MediaRecorder APIs) not supported by browser"),!1;if(this.video_capture)return t.log("warn","Video capture already in progress, call Scene.stopVideoCapture() first"),!1;try{var n=this.video_capture={};n.chunks=[],n.stream=this.canvas.captureStream(),n.options={mimeType:"video/webm"},n.media_recorder=new MediaRecorder(n.stream,n.options),n.media_recorder.ondataavailable=function(i){if(i.data.size>0&&n.chunks.push(i.data),n.resolve){var r=new Blob(n.chunks,{type:n.options.mimeType}),o=t.createObjectURL(r);n.stream&&(n.stream.getTracks()||[]).forEach(function(t){t.stop(),n.stream.removeTrack(t)}),n.stream=null,n.media_recorder=null,e.video_capture=null,n.resolve({url:o,blob:r,type:"webm"})}},n.media_recorder.start()}catch(e){return this.video_capture=null,t.log("error","Scene video capture failed",e),!1}return!0},n.stopVideoCapture=function(){var e=this;return this.video_capture?(this.video_capture.promise=new Promise(function(t,n){e.video_capture.resolve=t,e.video_capture.reject=n}),this.video_capture.media_recorder.stop(),this.video_capture.promise):(t.log("warn","No scene video capture in progress, call Scene.startVideoCapture() first"),Promise.resolve({}))},e}(),wl=function(){function e(n,i){var r;i=i||{},t.subscribeMixin(this),this.id=e.id++,this.initialized=!1,this.initializing=null,this.sources={},this.view=new t.View(this,i),this.tile_manager=new ml({scene:this}),this.num_workers=i.numWorkers||2,!0===i.disableVertexArrayObjects&&(t.VertexArrayObject.disabled=!0),t.Utils.use_high_density_display=void 0===i.highDensityDisplay||i.highDensityDisplay,t.Utils.updateDevicePixelRatio(),this.config=null,this.config_source=n,this.config_bundle=null,this.last_valid_config_source=null,this.styles=null,this.style_manager=new t.StyleManager,this.building=null,this.dirty=!0,i.preUpdate&&this.subscribe({pre_update:i.preUpdate}),i.postUpdate&&this.subscribe({post_update:i.postUpdate}),this.render_loop=!i.disableRenderLoop,this.render_loop_active=!1,this.render_loop_stop=!1,this.render_count=0,this.last_render_count=0,this.render_count_changed=!1,this.frame=0,this.last_main_render=-1,this.last_selection_render=-1,this.media_capture=new xl,this.selection=null,this.selection_feature_count=0,this.fetching_selection_map=null,this.prev_textures=null,this.introspection=!0===i.introspection,this.times={},this.resetTime(),this.container=i.container,this.canvas=null,this.contextOptions=i.webGLContextOptions,this.lights=null,this.background=null,this.createListeners(),this.updating=0,this.generation=e.generation,this.last_complete_generation=e.generation,(r=this).debug={profile:function(e){console.profile("main thread: "+e),t.WorkerBroker.postMessage(r.workers,"self.profile",e)},profileEnd:function(e){console.profileEnd("main thread: "+e),t.WorkerBroker.postMessage(r.workers,"self.profileEnd",e)},timeRebuild:function(e,n){void 0===e&&(e=1),void 0===n&&(n={});var i=[];!function o(){var s=+new Date;r.rebuild(n).then(function(){if(i.push(+new Date-s),i.length<e)o();else{var n=~~(i.reduce(function(t,e){return t+e})/i.length);t.log("info","Profiled rebuild "+e+" times: "+n+" avg ("+Math.min.apply(Math,i)+" min, "+Math.max.apply(Math,i)+" max)")}})}()},geometryCountByStyle:function(){var t={};return r.tile_manager.getRenderableTiles().forEach(function(e){var n=function(n){t[n]=t[n]||0,e.meshes[n].forEach(function(e){t[n]+=e.geometry_count})};for(var i in e.meshes)n(i)}),t},geometryCountByBaseStyle:function(){var t=r.debug.geometryCountByStyle(),e={};for(var n in t){var i=r.styles[n].baseStyle();e[i]=e[i]||0,e[i]+=t[n]}return e},geometryCountTotal:function(){var t=r.debug.geometryCountByStyle();return Object.keys(t).reduce(function(e,n){return t[n]+e},0)},geometrySizeByStyle:function(){var t={};return r.tile_manager.getRenderableTiles().forEach(function(e){var n=function(n){t[n]=t[n]||0,e.meshes[n].forEach(function(e){t[n]+=e.buffer_size})};for(var i in e.meshes)n(i)}),t},geometrySizeByBaseStyle:function(){var t=r.debug.geometrySizeByStyle(),e={};for(var n in t){var i=r.styles[n].baseStyle();e[i]=e[i]||0,e[i]+=t[n]}return e},geometrySizeTotal:function(){var t=r.debug.geometrySizeByStyle();return Object.keys(t).reduce(function(e,n){return t[n]+e},0)},textureSizeTotal:function(){return Object.values(t.Texture.textures).map(function(t){return t.byteSize()}).reduce(function(t,e){return t+e})},layerStats:function(){return t.debugSettings.layer_stats?t.debugSumLayerStats(r.tile_manager.getRenderableTiles()):(t.log("warn","Enable the 'layer_stats' debug setting to collect layer stats"),{})},renderableTilesCount:function(){return r.tile_manager.getRenderableTiles().length}},this.log_level=i.logLevel||"warn",t.log.setLevel(this.log_level),t.log.reset()}e.create=function(t,n){return void 0===n&&(n={}),new e(t,n)};var n=e.prototype;return n.load=function(e,n){var i=this;return void 0===e&&(e=null),void 0===n&&(n={}),this.initializing?this.initializing:(t.log.reset(),this.updating++,this.initialized=!1,this.view_complete=!1,this.times.frame=null,this.times.build=null,(n="string"==typeof n?{base_path:n}:n).blocking=void 0===n.blocking||n.blocking,!1!==this.render_loop&&this.setupRenderLoop(),this.createCanvas(),this.prev_textures=this.config&&Object.keys(this.config.textures),this.initializing=this.loadScene(e,n).then(function(){return i.createWorkers()}).then(function(){i.destroyFeatureSelection(),t.WorkerBroker.postMessage(i.workers,"self.clearFunctionStringCache");var e="object"==typeof i.config_source||i.hasSubscribersFor("load"),r=i.updateConfig({serialize_funcs:e,normalize:!1,loading:!0,fade_in:!0});if(!0===n.blocking)return r}).then(function(){i.freePreviousTextures(),i.updating--,i.initializing=null,i.initialized=!0,i.last_valid_config_source=i.config_source,i.last_valid_options={base_path:n.base_path,file_type:n.file_type},i.requestRedraw()}).catch(function(e){var n,r;if(i.initializing=null,i.updating=0,"YAMLException"===e.name?(n="yaml",r="Error parsing scene YAML"):r="Error initializing scene",i.trigger("error",{type:n,message:r,error:e,url:i.config_source}),r="Scene.load() failed to load "+JSON.stringify(i.config_source)+": "+e.message,i.last_valid_config_source)return t.log("warn",r,e),t.log("info","Scene.load() reverting to last valid configuration"),i.load(i.last_valid_config_source,i.last_valid_base_path);throw t.log("error",r,e),e}),this.initializing)},n.destroy=function(){if(this.initialized=!1,this.render_loop_stop=!0,this.destroyListeners(),this.destroyFeatureSelection(),this.canvas&&this.canvas.parentNode&&(this.canvas.parentNode.removeChild(this.canvas),this.canvas=null),this.container=null,this.gl){t.Texture.destroy(this.gl),this.style_manager.destroy(this.gl),this.styles={},t.ShaderProgram.reset();var e=this.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),this.gl=null}this.sources={},this.destroyWorkers(),this.tile_manager.destroy(),this.tile_manager=null,t.log.reset()},n.createCanvas=function(){if(!this.canvas){this.container=this.container||document.body,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.top=0,this.canvas.style.left=0,this.container.style.backgroundColor="transparent",this.container.appendChild(this.canvas);try{this.gl=U.getContext(this.canvas,Object.assign({alpha:!0,premultipliedAlpha:!0,stencil:!0,device_pixel_ratio:t.Utils.device_pixel_ratio},this.contextOptions))}catch(t){throw new Error("Couldn't create WebGL context. Your browser may not support WebGL, or it's turned off? Visit http://webglreport.com/ for more info.")}this.resizeMap(this.container.clientWidth,this.container.clientHeight),t.VertexArrayObject.init(this.gl),this.render_states=new yl(this.gl),this.media_capture.setCanvas(this.canvas,this.gl)}},n.updateExternalScripts=function(){var t=[].concat(this.external_scripts||[]),e=[];if(this.config.scene.scripts)for(var n in this.config.scene.scripts)-1===e.indexOf(this.config.scene.scripts[n])&&e.push(this.config.scene.scripts[n]);for(var i in this.config.sources){var r=this.config.sources[i];if(r.scripts)for(var o in r.scripts)-1===e.indexOf(r.scripts[o])&&e.push(r.scripts[o])}return this.external_scripts=e,!(this.external_scripts.length===t.length&&this.external_scripts.every(function(e,n){return e===t[n]}))},n.createWorkers=function(){return this.updateExternalScripts()&&this.destroyWorkers(),this.workers?Promise.resolve():this.makeWorkers()},n.makeWorkers=function(){var e=this,n=!!this.gl.getExtension("OES_element_index_uint"),r=[];this.workers=[];for(var o=function(o){var s=new Worker(i.workerURL);e.workers[o]=s,t.WorkerBroker.addWorker(s),t.log("debug","Scene.makeWorkers: initializing worker "+o);var a=o;r.push(t.WorkerBroker.postMessage(s,"self.init",e.id,o,e.num_workers,e.log_level,t.Utils.device_pixel_ratio,n,e.external_scripts).then(function(e){return t.log("debug","Scene.makeWorkers: initialized worker "+e),e},function(e){return t.log("error","Scene.makeWorkers: failed to initialize worker "+a+":",e),Promise.reject(e)}))},s=0;s<this.num_workers;s++)o(s);return this.next_worker=0,Promise.all(r).then(function(){t.log.setWorkers(e.workers)})},n.destroyWorkers=function(){this.selection=null,Array.isArray(this.workers)&&(t.log.setWorkers(null),this.workers.forEach(function(t){t.terminate()}),this.workers=null)},n.ready=function(){return!(!this.view.ready()||0===Object.keys(this.sources).length)},n.updateDevicePixelRatio=function(){var e=this;t.Utils.updateDevicePixelRatio()&&t.WorkerBroker.postMessage(this.workers,"self.updateDevicePixelRatio",t.Utils.device_pixel_ratio).then(function(){return e.rebuild()}).then(function(){return e.resizeMap(e.view.size.css.width,e.view.size.css.height)})},n.resizeMap=function(e,n){0===e&&0===n||(this.dirty=!0,this.view.setViewportSize(e,n),this.gl&&U.resize(this.gl,e,n,t.Utils.device_pixel_ratio))},n.requestRedraw=function(){this.dirty=!0},n.immediateRedraw=function(){this.dirty=!0,this.update()},n.renderLoop=function(){this.render_loop_active=!0,this.update(),t.Task.setState({user_moving_view:this.view.user_input_active}),t.Task.processAll(),this.render_loop_stop?(this.render_loop_stop=!1,this.render_loop_active=!1):window.requestAnimationFrame(this.renderLoop.bind(this))},n.setupRenderLoop=function(){var t=this;this.render_loop_active||setTimeout(function(){t.renderLoop()},0)},n.update=function(){var e=this.dirty,n=!!this.selection&&this.selection.hasPendingRequests(),i=!(!1===e&&!1===n||!1===this.initialized||this.updating>0||!1===this.ready());return this.trigger("pre_update",i),this.view.update(),!!i&&(this.dirty=!1,this.updateDevicePixelRatio(),this.render({main:e,selection:n}),this.updateViewComplete(),this.media_capture.completeScreenshot(),this.trigger("post_update",i),(!0===this.animated||this.view.isAnimating())&&(this.dirty=!0),this.frame++,t.log("trace","Scene.render()"),!0)},n.render=function(e){var n=this,i=e.main,r=e.selection,o=this.gl;if(this.updateBackground(),Object.keys(this.lights).forEach(function(t){return n.lights[t].update()}),this.render_count_changed=!1,i&&(this.render_count=this.renderPass(),this.last_main_render=this.frame,this.render_count!==this.last_render_count&&(this.render_count_changed=!0,this.logFirstFrame(),this.getFeatureSelectionMapSize().then(function(e){n.selection_feature_count=e,t.log("info","Scene: rendered "+n.render_count+" primitives ("+e+" features in selection map)")})),this.last_render_count=this.render_count),r){if(this.view.panning||this.view.user_input_active)return void this.selection.clearPendingRequests();!this.selection.locked&&this.last_selection_render<this.last_main_render&&(this.selection.bind(),this.renderPass("selection_program",{allow_blend:!1}),o.bindFramebuffer(o.FRAMEBUFFER,null),o.viewport(0,0,this.canvas.width,this.canvas.height),o.clearColor.apply(o,this.background.computed_color),this.last_selection_render=this.frame),this.selection.read()}return!0},n.renderPass=function(e,n){var i=this;void 0===e&&(e="program");var r=(void 0===n?{}:n).allow_blend;r=null==r||r,this.clearFrame();var o,s=0,a=this.style_manager.getActiveBlendOrders(),u=Array.isArray(a),l=0;for(a=u?a:a[Symbol.iterator]();;){var c;if(u){if(l>=a.length)break;c=a[l++]}else{if((l=a.next()).done)break;c=l.value}for(var h=c,f=h.blend_order,d=h.styles,p=function(n){var a=i.styles[d[n]];if(null==a)return"continue";if(a.blend!==o){var u=Object.assign({},t.Style.render_states[a.blend],{blend:r&&a.blend});i.setRenderState(u)}var l=r&&a.blend;if("translucent"===l)i.gl.colorMask(!1,!1,!1,!1),i.renderStyle(a.name,e,f),i.gl.colorMask(!0,!0,!0,!0),i.gl.depthFunc(i.gl.EQUAL),i.gl.enable(i.gl.STENCIL_TEST),i.gl.clearStencil(0),i.gl.clear(i.gl.STENCIL_BUFFER_BIT),i.gl.stencilFunc(i.gl.EQUAL,i.gl.ZERO,255),i.gl.stencilOp(i.gl.KEEP,i.gl.KEEP,i.gl.INCR),s+=i.renderStyle(a.name,e,f),i.gl.disable(i.gl.STENCIL_TEST),i.gl.depthFunc(i.gl.LESS);else if("opaque"!==l&&!0===a.stencil_proxy_tiles){var c=i.tile_manager.getRenderableTiles().filter(function(t){return t.meshes[a.name]}).map(function(t){return t.proxy_level}).reduce(function(t,e){return t.indexOf(e)>-1||t.push(e),t},[]).sort();if(c.length>1){i.gl.enable(i.gl.STENCIL_TEST),i.gl.clearStencil(0),i.gl.clear(i.gl.STENCIL_BUFFER_BIT),i.gl.stencilOp(i.gl.KEEP,i.gl.KEEP,i.gl.REPLACE);for(var h=0;h<c.length;h++)i.gl.stencilFunc(i.gl.GEQUAL,c.length-h,255),s+=i.renderStyle(a.name,e,f,c[h]);i.gl.disable(i.gl.STENCIL_TEST)}else s+=i.renderStyle(a.name,e,f)}else s+=i.renderStyle(a.name,e,f);o=a.blend},m=0;m<d.length;m++)p(m)}return s},n.renderStyle=function(t,e,n,i){var r=this;void 0===i&&(i=null);for(var o,s=this.styles[t],a=!0,u=0,l=this.tile_manager.getRenderableTiles().filter(function(t){return"number"!=typeof i||t.proxy_level===i}).map(function(e){if(e.meshes[t])return[e,e.meshes[t].filter(function(t){return t.variant.blend_order===n})]}).filter(function(t){return t}),c=Math.max.apply(Math,l.map(function(t){var e=t[1];return Math.max.apply(Math,e.map(function(t){return t.variant.mesh_order}))})),h=function(n){var i=function(){if(h){if(f>=c.length)return"break";d=c[f++]}else{if((f=c.next()).done)return"break";d=f.value}var i=d,l=i[0],p=i[1],m=!0;if(!l.shouldProxyForStyle(t))return"continue";var _=p.filter(function(t){return t.variant.mesh_order===n});return 0===_.length?"continue":!0!==a||(a=!1,o=r.setupStyle(s,e))?void _.forEach(function(t){!0===m&&(m=!1,r.view.setupTile(l,o)),s.render(t)&&r.requestRedraw(),u+=t.geometry_count}):{v:{v:0}}},c=l,h=Array.isArray(c),f=0;t:for(c=h?c:c[Symbol.iterator]();;){var d,p=i();switch(p){case"break":break t;case"continue":continue;default:if("object"==typeof p)return p.v}}},f=0;f<c+1;f++){var d=h(f);if("object"==typeof d)return d.v}return u},n.setupStyle=function(t,e){var n;try{if(!(n=t.getProgram(e)))return}catch(e){return void this.trigger("warning",{type:"styles",message:"Error compiling style "+t.name,style:t,shader_errors:t.program&&t.program.shader_errors})}for(var i in n.use(),t.setup(),n.uniform("1f","u_time",this.animated?(+new Date-this.start_time)/1e3:0),this.view.setupProgram(n),this.lights)this.lights[i].setupProgram(n);return n},n.clearFrame=function(){this.initialized&&(this.render_states.depth_write.set({depth_write:!0}),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT|this.gl.STENCIL_BUFFER_BIT))},n.setRenderState=function(t){var e=void 0===t?{}:t,n=e.depth_test,i=e.depth_write,r=e.cull_face,o=e.blend;if(this.initialized){var s=this.render_states;n=!1!==n&&s.defaults.depth_test,i=!1!==i&&s.defaults.depth_write,r=!1!==r&&s.defaults.culling,o=null!=o?o:s.defaults.blending;var a=this.gl;s.depth_test.set({depth_test:n}),s.depth_write.set({depth_write:i}),s.culling.set({cull:r,face:s.defaults.culling_face}),o?"opaque"===o?s.blending.set({blend:!1}):"overlay"===o||"inlay"===o||"translucent"===o?s.blending.set({blend:!0,src:a.SRC_ALPHA,dst:a.ONE_MINUS_SRC_ALPHA,src_alpha:a.ONE,dst_alpha:a.ONE_MINUS_SRC_ALPHA}):"add"===o?s.blending.set({blend:!0,src:a.ONE,dst:a.ONE}):"multiply"===o&&s.blending.set({blend:!0,src:a.ZERO,dst:a.SRC_COLOR}):s.blending.set({blend:!1})}},n.getFeatureAt=function(e,n){var i=(void 0===n?{}:n).radius;if(!this.initialized)return t.log("debug","Scene.getFeatureAt() called before scene was initialized"),Promise.resolve();if(0===this.selection_feature_count)return Promise.resolve();this.selection||this.resetFeatureSelection();var r={x:e.x/this.view.size.css.width,y:e.y/this.view.size.css.height};return i=i>0?{x:i/this.view.size.css.width,y:i/this.view.size.css.height}:null,this.selection.getFeatureAt(r,{radius:i}).then(function(t){return Object.assign(t,{pixel:e})}).catch(function(t){return Promise.resolve({error:t})})},n.queryFeatures=function(e){return new Promise(function(n,i){var r,o,s,a,u,l,c,h,f,d,p,m,_,v,g,y;return o=(r=void 0===e?{}:e).filter,s=r.unique,a=void 0===s||s,u=r.group_by,l=void 0===u?null:u,h=void 0===(c=r.visible)?null:c,f=r.geometry,d=void 0!==f&&f,this.initialized?(o=t.Utils.serializeWithFunctions(o),p=(a="string"==typeof a?[a]:a)&&function(e){var n=Array.isArray(a)?t.sliceObject(e.properties,a):e.properties;return d?JSON.stringify({geometry:e.geometry,properties:n}):JSON.stringify(n)},l=("string"==typeof l||Array.isArray(l))&&l,m=l&&function(e){return Array.isArray(l)?JSON.stringify(t.sliceObject(e,l)):e[l]},_=this.tile_manager.getRenderableTiles().map(function(t){return t.key}),Promise.resolve(t.WorkerBroker.postMessage(this.workers,"self.queryFeatures",{filter:o,visible:h,geometry:d,tile_keys:_})).then(function(t){try{return v=[],g={},y={},t.forEach(function(t){return t.forEach(function(t){if(p){var e=p(t);if(g[e])return;g[e]=!0}if(m){var n=m(t.properties);y[n]=y[n]||[],y[n].push(t)}else v.push(t)})}),n(m?y:v)}catch(t){return i(t)}},i)):n([])}.bind(this))},n.rebuild=function(n){var i=this,r=void 0===n?{}:n,o=r.initial,s=void 0!==o&&o,a=r.new_generation,u=void 0===a||a,l=r.sources,c=void 0===l?null:l,h=r.serialize_funcs,f=r.profile,d=void 0!==f&&f,p=r.fade_in,m=void 0!==p&&p;return new Promise(function(n,r){if(i.building){i.building.queued&&i.building.queued.reject&&(t.log("debug","Scene.rebuild: request superceded by a newer call"),i.building.queued.resolve(!1));var o={initial:s,new_generation:u,sources:c,serialize_funcs:h,profile:d,fade_in:m};return i.building.queued={resolve:n,reject:r,options:o},void t.log("trace","Scene.rebuild(): queuing request")}if(i.building={resolve:n,reject:r,initial:s},d&&i.debug.profile("Scene.rebuild"),u)for(var a in i.generation=++e.generation,i.styles)i.styles[a].setGeneration(i.generation);i.syncConfigToWorker({serialize_funcs:h}),i.resetWorkerFeatureSelection(c),i.resetTime(),i.tile_manager.pruneToVisibleTiles(),i.tile_manager.forEachTile(function(t){(!c||c.indexOf(t.source.name)>-1)&&i.tile_manager.buildTile(t,{fade_in:m})}),i.tile_manager.updateTilesForView(),i.tile_manager.checkBuildQueue()}).then(function(){d&&i.debug.profileEnd("Scene.rebuild")})},n.tileManagerBuildDone=function(){if(t.TextCanvas.pruneTextCache(),this.building){t.log("info","Scene: build geometry finished"),this.building.resolve&&(this.logFirstBuild(),this.building.resolve(!0));var e=this.building.queued;this.building=null,e?(t.log("debug","Scene: starting queued rebuild() request"),this.rebuild(e.options).then(e.resolve,e.reject)):this.tile_manager.updateLabels()}},n.loadScene=function(e,n){var i=this;void 0===e&&(e=null);var r=void 0===n?{}:n,o=r.base_path,s=r.file_type;return this.config_source=e||this.config_source,"string"==typeof this.config_source?this.base_path=t.pathForURL(o||this.config_source):this.base_path=t.pathForURL(o),this.config_path=this.base_path,cl.loadScene(this.config_source,{path:this.base_path,type:s}).then(function(t){var e=t.config,n=t.bundle;return i.config=e,i.config_bundle=n,i.config})},n.setDataSource=function(e,n){if(e&&n&&n.type&&(n.url||n.data)){var i=null==this.config.sources[e],r=this.config.sources[e]=Object.assign({},n);return r.data&&"object"==typeof r.data&&(r.url=t.createObjectURL(new Blob([JSON.stringify(r.data)])),delete r.data),i?this.updateConfig({rebuild:{sources:[e]}}):this.rebuild({sources:[e]})}t.log("error","No name provided or not a valid config:",e,n)},n.createDataSources=function(e){var n=this;void 0===e&&(e=!1);var i=[],r=Object.keys(this.sources),o=0;for(var s in this.config.sources){var a=this.config.sources[s],u=this.sources[s];try{var l=Object.assign({},a,{name:s,id:o++});if(this.sources[s]=t.DataSource.create(l,this.sources),!this.sources[s])throw{}}catch(e){delete this.sources[s];var c="Could not create data source: "+e.message;t.log("warn","Scene: "+c,a),this.trigger("warning",{type:"sources",source:a,message:c})}(e||t.DataSource.tileLayoutChanged(this.sources[s],u))&&i.push(s)}for(var h in r.forEach(function(t){n.config.sources[t]||(delete n.sources[t],i.push(t))}),i.length>0&&this.tile_manager.removeTiles(function(t){return i.indexOf(t.source.name)>-1}),this.config.layers){var f=this.config.layers[h];!1!==f.enabled&&f.data&&this.sources[f.data.source]&&(this.sources[f.data.source].builds_geometry_tiles=!0)}},n.loadTextures=function(){var e=this;return t.Texture.createFromObject(this.gl,this.config.textures).then(function(){return t.Texture.createDefault(e.gl)})},n.freePreviousTextures=function(){var e=this;this.prev_textures&&(this.prev_textures.forEach(function(n){!e.config.textures[n]&&t.Texture.textures[n]&&t.Texture.textures[n].destroy()}),this.prev_textures=null)},n.updateStyles=function(){if(!this.initialized&&!this.initializing)throw new Error("Scene.updateStyles() called before scene was initialized");for(var t in this.styles=this.style_manager.build(this.config.styles),this.style_manager.initStyles(this),this.styles)this.styles[t].setGL(this.gl);this.dirty=!0},n.getActiveCamera=function(){return this.view.getActiveCamera()},n.setActiveCamera=function(t){return this.view.setActiveCamera(t)},n.createLights=function(){for(var e in this.lights={},this.config.lights)if(this.config.lights[e]&&"object"==typeof this.config.lights[e]){var n=this.config.lights[e];n.name=e.replace("-","_"),n.visible=!1!==n.visible,n.visible&&(this.lights[n.name]=t.Light.create(this.view,n))}t.Light.inject(this.lights)},n.setBackground=function(){var e=this.config.scene.background;this.background={},e&&e.color&&(this.background.color=t.StyleParser.createColorPropertyCache(e.color)),this.background.color||(this.background.color=t.StyleParser.createColorPropertyCache([0,0,0,0]))},n.updateBackground=function(){var e,n=this.background.computed_color,i=this.background.computed_color=t.StyleParser.evalCachedColorProperty(this.background.color,{zoom:this.view.tile_zoom});n&&!i.some(function(t,e){return n[e]!==t})||(1===i[3]?this.canvas.style.backgroundColor="rgba("+i.map(function(t){return Math.floor(255*t)}).join(", ")+")":this.canvas.style.backgroundColor="transparent",(e=this.gl).clearColor.apply(e,i))},n.setIntrospection=function(t){var e=this;return t!==this.introspection?(this.introspection=null!=t&&t,this.updating++,this.updateConfig({normalize:!1}).then(function(){return e.updating--})):Promise.resolve()},n.updateConfig=function(n){var i=this,r=void 0===n?{}:n,o=r.loading,s=void 0!==o&&o,a=r.rebuild,u=void 0===a||a,l=r.serialize_funcs,c=r.normalize,h=void 0===c||c,f=r.fade_in,d=void 0!==f&&f;this.generation=++e.generation,this.updating++,this.config=cl.applyGlobalProperties(this.config),h?cl.normalize(this.config,this.config_bundle):(cl.hoistStyleShaderUniformTextures(this.config,this.config_bundle,{include_globals:!0}),cl.normalizeTextures(this.config,this.config_bundle)),this.trigger(s?"load":"update",{config:this.config}),this.style_manager.init(),this.view.reset(),this.createLights(),this.createDataSources(s),this.loadTextures(),this.setBackground(),t.FontManager.loadFonts(this.config.fonts),this.updateStyles();var p=u?this.rebuild(Object.assign({initial:s,new_generation:!1,serialize_funcs:l,fade_in:d},"object"==typeof u&&u)):this.syncConfigToWorker({serialize_funcs:l});return this.updating--,this.view.updateBounds(),this.requestRedraw(),p.then(function(){i.last_render_count=0,i.requestRedraw()})},n.syncConfigToWorker=function(e){var n=(void 0===e?{}:e).serialize_funcs,i=void 0===n||n?t.Utils.serializeWithFunctions(this.config):JSON.stringify(this.config);return t.WorkerBroker.postMessage(this.workers,"self.updateConfig",{config:i,generation:this.generation,introspection:this.introspection},t.debugSettings)},n.createListeners=function(){var e=this;this.listeners={},this.listeners.view={move:function(){return e.trigger("move")}},this.view.subscribe(this.listeners.view),this.listeners.texture={update:function(){return e.dirty=!0},warning:function(t){return e.trigger("warning",Object.assign({type:"textures"},t))}},t.Texture.subscribe(this.listeners.texture),this.listeners.scene_loader={error:function(t){return e.trigger("error",Object.assign({type:"scene"},t))}},cl.subscribe(this.listeners.scene_loader)},n.destroyListeners=function(){this.unsubscribeAll(),this.view.unsubscribe(this.listeners.view),t.Texture.unsubscribe(this.listeners.texture),cl.unsubscribe(this.listeners.scene_loader),this.listeners=null},n.destroyFeatureSelection=function(){this.selection&&(this.selection.destroy(),this.selection=null)},n.resetFeatureSelection=function(){var e=this;this.selection=new t.FeatureSelection(this.gl,this.workers,function(){return e.building}),this.last_render_count=0},n.resetWorkerFeatureSelection=function(e){void 0===e&&(e=null),this.workers&&t.WorkerBroker.postMessage(this.workers,"self.resetFeatureSelection",e)},n.getFeatureSelectionMapSize=function(){var e=this;return null==this.fetching_selection_map&&(this.fetching_selection_map=t.WorkerBroker.postMessage(this.workers,"self.getFeatureSelectionMapSize").then(function(t){return e.fetching_selection_map=null,t.reduce(function(t,e){return t+e})})),this.fetching_selection_map},n.resetTime=function(){this.start_time=+new Date},n.updateViewComplete=function(){!this.render_count_changed&&this.generation===this.last_complete_generation||this.building||this.tile_manager.isLoadingVisibleTiles()||!this.tile_manager.allVisibleTilesLabeled()||(this.tile_manager.updateLabels(),this.last_complete_generation=this.generation,this.trigger("view_complete",{first:!0!==this.view_complete}),this.view_complete=!0)},n.resetViewComplete=function(){this.last_complete_generation=null},n.screenshot=function(t){var e=(void 0===t?{}:t).background,n=void 0===e?"white":e;return this.requestRedraw(),this.media_capture.screenshot({background:n})},n.startVideoCapture=function(){return this.requestRedraw(),this.media_capture.startVideoCapture()},n.stopVideoCapture=function(){return this.media_capture.stopVideoCapture()},n.logFirstFrame=function(){0!==this.last_render_count||this.times.first_frame||(this.times.first_frame=+new Date-this.start_time,t.log("debug","Scene: initial frame time: "+this.times.first_frame))},n.logFirstBuild=function(){null==this.times.first_build&&(this.times.first_build=+new Date-this.start_time,t.log("debug","Scene: initial build time: "+this.times.first_build))},t._createClass(e,[{key:"animated",get:function(){var t=this;return!1!==this.config.scene.animated&&this.style_manager.getActiveStyles().some(function(e){return t.styles[e].animated})}}]),e}();wl.id=0,wl.generation=0;var Tl={map:{},scrollWheelZoom:{},doubleClickZoom:{}};return{leafletLayer:function(e){return function(e){if(void 0!==bl)return new bl(e);if(t.Thread.is_main){var n,i=e.leaflet||window.L,r=i.GridLayer?i.GridLayer:i.TileLayer,o=r===i.GridLayer?"1.x":"0.7.x",s={};return r===i.TileLayer&&(s._addTile=function(){},s._removeTile=function(){},s._reset=function(){r.prototype._reset.apply(this,arguments),this.scene&&this.scene.container&&this.scene.canvas&&this.scene.container.appendChild(this.scene.canvas)}),Object.assign(s,{initialize:function(t){t.showDebug=!!t.showDebug,i.setOptions(this,t),this.updateTangramDebugSettings(),this.createScene(),this.hooks={},this._updating_tangram=!1},createScene:function(){this.scene=wl.create(this.options.scene,{numWorkers:this.options.numWorkers,preUpdate:this.options.preUpdate,postUpdate:this.options.postUpdate,continuousZoom:"1.x"===bl.leafletVersion,wrapView:!0!==this.options.noWrap,highDensityDisplay:this.options.highDensityDisplay,logLevel:this.options.logLevel,introspection:this.options.introspection,webGLContextOptions:this.options.webGLContextOptions,disableRenderLoop:this.options.disableRenderLoop})},onAdd:function(e){var n=this;this.scene||this.createScene(),r.prototype.onAdd.apply(this,arguments),this.hooks.resize=function(){n._updating_tangram=!0,n.updateSize(),n._updating_tangram=!1},e.on("resize",this.hooks.resize),this.hooks.move=function(){if(!n._updating_tangram){n._updating_tangram=!0,n.scene.view.setPanning(!0);var i=e.getCenter();i.zoom=Math.max(Math.min(e.getZoom(),e.getMaxZoom()||t.Geo.default_view_max_zoom),e.getMinZoom()),n.scene.view.setView(i),n._mapLayerCount>1&&n.scene.immediateRedraw(),n._updating_tangram=!1}},e.on("move",this.hooks.move),this.hooks.moveend=function(){n.scene.view.setPanning(!1),n.scene.requestRedraw()},e.on("moveend",this.hooks.moveend),this.hooks.drag=function(){n.scene.view.markUserInput()},e.on("drag",this.hooks.drag),this._map_pane_observer=new MutationObserver(function(t){t.forEach(function(){return n.reverseTransform()})}),this._map_pane_observer.observe(e.getPanes().mapPane,{attributes:!0}),this.modifyScrollWheelBehavior(e),this.modifyZoomBehavior(e),this.trackMapLayerCounts(e),this.setupSelectionEventHandlers(e),this.setSelectionEvents(this.options.events,{radius:this.options.selectionRadius}),this.scene.container=this.getContainer(),this.updateSize(),this.updateView(),this.resizeOnFirstVisible(),this.scene.subscribe({move:this.onTangramViewUpdate.bind(this)}),this.scene.load(this.options.scene,{base_path:this.options.sceneBasePath,file_type:this.options.sceneFileType,blocking:!1}).then(function(){n._updating_tangram=!0,n.updateSize(),n.updateView(),n.reverseTransform(),n._updating_tangram=!1,n.fire("init")}).catch(function(t){n.fire("error",t)})},onRemove:function(t){r.prototype.onRemove.apply(this,arguments),t.off("layeradd layerremove overlayadd overlayremove",this._updateMapLayerCount),t.off("resize",this.hooks.resize),t.off("move",this.hooks.move),t.off("moveend",this.hooks.moveend),t.off("drag",this.hooks.drag),t.off("click",this.hooks.click),t.off("mousemove",this.hooks.mousemove),t.off("mouseout",this.hooks.mouseout),document.removeEventListener("visibilitychange",this.hooks.visibilitychange),this.hooks={},this._map_pane_observer.disconnect(),this.scene&&(this.scene.destroy(),this.scene=null)},createTile:function(t){var e=t.x+"/"+t.y+"/"+t.z,n=document.createElement("div");if(n.setAttribute("data-tile-key",e),n.style.width="256px",n.style.height="256px",this.options.showDebug){var i=document.createElement("div");i.textContent=e,i.style.position="absolute",i.style.left=0,i.style.top=0,i.style.color="white",i.style.fontSize="16px",i.style.textOutline="1px #000000",i.style.padding="8px",n.appendChild(i),n.style.borderStyle="solid",n.style.borderColor="white",n.style.borderWidth="1px"}return n},modifyScrollWheelBehavior:function(t){if(this.scene.view.continuous_zoom&&t.scrollWheelZoom&&!1!==this.options.modifyScrollWheel){t.options.zoomSnap=0;var e=t.scrollWheelZoom.enabled();t.scrollWheelZoom.disable(),i.Browser.chrome||i.Browser.safari?t.scrollWheelZoom._onWheelScroll=function(t){var e=i.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._performZoom(),i.DomEvent.stop(t)}:t.options.wheelDebounceTime=20;var r=(s=function(t){t._moveEnd(!0),t.fire("viewreset")},a=2*t.options.wheelDebounceTime,function(){var t=this,e=arguments;clearTimeout(u),u=setTimeout(function(){u=null,s.apply(t,e)},a)});Tl.scrollWheelZoom._performZoom||(Tl.scrollWheelZoom._performZoom=t.scrollWheelZoom._performZoom);var o=this;t.scrollWheelZoom._performZoom=function(){if(this._map===o._map){var t=this._map,e=t.getZoom();t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel);this._delta=0,e+i>=this._map.getMaxZoom()?i=this._map.getMaxZoom()-e:e+i<=this._map.getMinZoom()&&(i=this._map.getMinZoom()-e),i&&("center"===t.options.scrollWheelZoom?n(o,t.getCenter(),e+i):n(o,this._lastMousePos,e+i),r(t))}else Tl.scrollWheelZoom._performZoom.call(this)},e&&t.scrollWheelZoom.enable()}var s,a,u},modifyZoomBehavior:function(t){if(this.scene.view.continuous_zoom&&!1!==this.options.modifyZoomBehavior){var e=this,r=function(e,r,o){t._stop();var s=t._zoom;r=i.latLng(r),o=void 0===o?s:o,o=Math.min(o,t.getMaxZoom());var a=Date.now();return t._moveStart(!0),function u(){var l=(Date.now()-a)/75;l<=1?(t._flyToFrame=i.Util.requestAnimFrame(u,t),n(e,r,s+(o-s)*l)):n(e,r,o)._moveEnd(!0)}.call(t),t};if(t.doubleClickZoom){var o=t.doubleClickZoom.enabled();t.doubleClickZoom.disable(),Tl.doubleClickZoom._onDoubleClick||(Tl.doubleClickZoom._onDoubleClick=t.doubleClickZoom._onDoubleClick),t.doubleClickZoom._onDoubleClick=function(t){if(this._map===e._map){var n=this._map,i=n.getZoom(),o=n.options.zoomDelta,s=t.originalEvent.shiftKey?i-o:i+o;"center"===n.options.doubleClickZoom?r(e,n.getCenter(),s):r(e,n.containerPointToLatLng(t.containerPoint),s)}else Tl.doubleClickZoom._onDoubleClick.call(this,t)},o&&t.doubleClickZoom.enable()}t._zoomAnimated&&(Tl.map._animateZoom||(Tl.map._animateZoom=t._animateZoom),t._animateZoom=function(t,n,o,s){this===e._map?(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,r(e,t,n)),setTimeout(i.Util.bind(this._onZoomTransitionEnd,this),250)):Tl.map._animateZoom.call(this,t,n,o,s)})}},updateView:function(){var e=this._map.getCenter();e.zoom=Math.max(Math.min(this._map.getZoom(),this._map.getMaxZoom()||t.Geo.default_view_max_zoom),this._map.getMinZoom()),this.scene.view.setView(e)},updateSize:function(){var t=this._map.getSize();this.scene.resizeMap(t.x,t.y)},resizeOnFirstVisible:function(){var t=this,e=!0;this.hooks.visibilitychange=function(){e&&(e=!1,t.updateSize())},document.addEventListener("visibilitychange",this.hooks.visibilitychange)},onTangramViewUpdate:function(){if(this._map&&!this._updating_tangram){var t=this._map.getCenter(),e=this.scene.view.center;t.lng===e.lng&&t.lat===e.lat&&this._map.getZoom()===this.scene.view.zoom||(this._updating_tangram=!0,this._map.setView([this.scene.view.center.lat,this.scene.view.center.lng],this.scene.view.zoom,{animate:!1}),this._updating_tangram=!1)}},render:function(){this.scene&&this.scene.update()},reverseTransform:function(){if(this._map&&this.scene&&this.scene.container){var t=this._map.containerPointToLayerPoint([0,0]);i.DomUtil.setPosition(this.scene.container,t)}},setupSelectionEventHandlers:function(t){var e=this;this._selection_events={},this._selection_radius=null,this.hooks.click=function(t){"function"==typeof e._selection_events.click&&e.scene.getFeatureAt(t.containerPoint,{radius:e._selection_radius}).then(function(n){var i=Object.assign({},n,{leaflet_event:t});e._selection_events.click(i)})},t.on("click",this.hooks.click),this.hooks.mousemove=function(t){"function"==typeof e._selection_events.hover&&e.scene.getFeatureAt(t.containerPoint,{radius:e._selection_radius}).then(function(n){var i=Object.assign({},n,{leaflet_event:t});e._selection_events.hover(i)})},t.on("mousemove",this.hooks.mousemove),this.hooks.mouseout=function(t){"function"==typeof e._selection_events.hover&&e._selection_events.hover({changed:!0,leaflet_event:t})},t.on("mouseout",this.hooks.mouseout)},setSelectionEvents:function(t,e){var n=(void 0===e?{}:e).radius;this._selection_events=Object.assign(this._selection_events,t),this._selection_radius=void 0!==n?n:this._selection_radius},trackMapLayerCounts:function(t){var e=this;this._updateMapLayerCount=function(){var n=t.getPanes().mapPane.childNodes;e._mapLayerCount=0;for(var i=0;i<n.length;i++)e._mapLayerCount+=n[i].childNodes.length},t.on("layeradd layerremove overlayadd overlayremove",this._updateMapLayerCount),this._updateMapLayerCount()},updateTangramDebugSettings:function(){t.mergeDebugSettings(this.options.debug||{})}}),n=function(t,e,n){var r=t._map,o=t.scene,s=r.getZoomScale(n),a=r.getSize().divideBy(2),u=(e instanceof i.Point?e:r.latLngToContainerPoint(e)).subtract(a).multiplyBy(1-1/s),l=r.containerPointToLatLng(a.add(u));return o&&o.view.markUserInput(),r._move(l,n,{flyTo:!0})},"function"!=typeof(bl=r.extend(s)).remove&&(bl.prototype.remove=function(){this._map&&this._map.removeLayer(this),this.fire("remove")}),bl.layerBaseClass=r,bl.leafletVersion=o,new bl(e)}}(e)},debug:{log:t.log,yaml:ol,Utils:t.Utils,Geo:t.Geo,Vector:t.Vector,DataSource:t.DataSource,GLSL:t.GLSL,ShaderProgram:t.ShaderProgram,VertexData:t.VertexData,Texture:t.Texture,Material:t.Material,Light:t.Light,Scene:wl,WorkerBroker:t.WorkerBroker,Task:t.Task,StyleManager:t.StyleManager,StyleParser:t.StyleParser,TileID:t.TileID,Collision:t.Collision,FeatureSelection:t.FeatureSelection,TextCanvas:t.TextCanvas,debugSettings:t.debugSettings},version:t.version}});try{i.debug.ESM=!1,i.debug.SHA="a3ab5d42418cca14cac399281ff102e2ebad4b94"}catch(t){}return i},t.exports=n()}).call(this,n("yLpj"))},NTRo:function(t,e,n){var i=n("3M5q");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(t.exports=i.locals)},OH9c:function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},OTTw:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},"Rn+g":function(t,e,n){"use strict";var i=n("LYNF");t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},SYky:function(t,e,n){!function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){o(t,e,n[e])})}return t}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var a="transitionend";function u(t){var n=this,i=!1;return e(this).one(l.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||l.triggerTransitionEnd(n)},t),this}var l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),i=e(t).css("transition-delay"),r=parseFloat(n),o=parseFloat(i);return r||o?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(a)},supportsTransitionEnd:function(){return Boolean(a)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=e[i],s=o&&l.isElement(o)?"element":(a=o,{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(s))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}var a},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?l.findShadowRoot(t.parentNode):null}};e.fn.emulateTransitionEnd=u,e.event.special[l.TRANSITION_END]={bindType:a,delegateType:a,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var c=e.fn.alert,h={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},f={ALERT:"alert",FADE:"fade",SHOW:"show"},d=function(){function t(t){this._element=t}var n=t.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t));var n=this._triggerCloseEvent(e);n.isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(t){var n=l.getSelectorFromElement(t),i=!1;return n&&(i=document.querySelector(n)),i||(i=e(t).closest("."+f.ALERT)[0]),i},n._triggerCloseEvent=function(t){var n=e.Event(h.CLOSE);return e(t).trigger(n),n},n._removeElement=function(t){var n=this;if(e(t).removeClass(f.SHOW),e(t).hasClass(f.FADE)){var i=l.getTransitionDurationFromElement(t);e(t).one(l.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(i)}else this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger(h.CLOSED).remove()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||(r=new t(this),i.data("bs.alert",r)),"close"===n&&r[n](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',d._handleDismiss(new d)),e.fn.alert=d._jQueryInterface,e.fn.alert.Constructor=d,e.fn.alert.noConflict=function(){return e.fn.alert=c,d._jQueryInterface};var p=e.fn.button,m={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},_={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},v={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},g=function(){function t(t){this._element=t}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,i=e(this._element).closest(_.DATA_TOGGLE)[0];if(i){var r=this._element.querySelector(_.INPUT);if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains(m.ACTIVE))t=!1;else{var o=i.querySelector(_.ACTIVE);o&&e(o).removeClass(m.ACTIVE)}if(t){if(r.hasAttribute("disabled")||i.hasAttribute("disabled")||r.classList.contains("disabled")||i.classList.contains("disabled"))return;r.checked=!this._element.classList.contains(m.ACTIVE),e(r).trigger("change")}r.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(m.ACTIVE)),t&&e(this._element).toggleClass(m.ACTIVE)},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.button");i||(i=new t(this),e(this).data("bs.button",i)),"toggle"===n&&i[n]()})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(v.CLICK_DATA_API,_.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var n=t.target;e(n).hasClass(m.BUTTON)||(n=e(n).closest(_.BUTTON)),g._jQueryInterface.call(e(n),"toggle")}).on(v.FOCUS_BLUR_DATA_API,_.DATA_TOGGLE_CARROT,function(t){var n=e(t.target).closest(_.BUTTON)[0];e(n).toggleClass(m.FOCUS,/^focus(in)?$/.test(t.type))}),e.fn.button=g._jQueryInterface,e.fn.button.Constructor=g,e.fn.button.noConflict=function(){return e.fn.button=p,g._jQueryInterface};var y="carousel",b=".bs.carousel",x=e.fn[y],w={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},T={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},A={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},E={SLIDE:"slide.bs.carousel",SLID:"slid.bs.carousel",KEYDOWN:"keydown.bs.carousel",MOUSEENTER:"mouseenter.bs.carousel",MOUSELEAVE:"mouseleave.bs.carousel",TOUCHSTART:"touchstart.bs.carousel",TOUCHMOVE:"touchmove.bs.carousel",TOUCHEND:"touchend.bs.carousel",POINTERDOWN:"pointerdown.bs.carousel",POINTERUP:"pointerup.bs.carousel",DRAG_START:"dragstart.bs.carousel",LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},S={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},k={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},C={TOUCH:"touch",PEN:"pen"},O=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(k.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=t.prototype;return n.next=function(){this._isSliding||this._slide(A.NEXT)},n.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide(A.PREV)},n.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(k.NEXT_PREV)&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(t){var n=this;this._activeElement=this._element.querySelector(k.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(E.SLID,function(){return n.to(t)});else{if(i===t)return this.pause(),void this.cycle();var r=t>i?A.NEXT:A.PREV;this._slide(r,this._items[t])}},n.dispose=function(){e(this._element).off(b),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(t){return t=s({},w,t),l.typeCheckConfig(y,t,T),t},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},n._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(E.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&e(this._element).on(E.MOUSEENTER,function(e){return t.pause(e)}).on(E.MOUSELEAVE,function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var n=function(e){t._pointerEvent&&C[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){t._pointerEvent&&C[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval))};e(this._element.querySelectorAll(k.ITEM_IMG)).on(E.DRAG_START,function(t){return t.preventDefault()}),this._pointerEvent?(e(this._element).on(E.POINTERDOWN,function(t){return n(t)}),e(this._element).on(E.POINTERUP,function(t){return i(t)}),this._element.classList.add(S.POINTER_EVENT)):(e(this._element).on(E.TOUCHSTART,function(t){return n(t)}),e(this._element).on(E.TOUCHMOVE,function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)}),e(this._element).on(E.TOUCHEND,function(t){return i(t)}))}},n._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},n._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(k.ITEM)):[],this._items.indexOf(t)},n._getItemByDirection=function(t,e){var n=t===A.NEXT,i=t===A.PREV,r=this._getItemIndex(e),o=this._items.length-1,s=i&&0===r||n&&r===o;if(s&&!this._config.wrap)return e;var a=t===A.PREV?-1:1,u=(r+a)%this._items.length;return-1===u?this._items[this._items.length-1]:this._items[u]},n._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(k.ACTIVE_ITEM)),o=e.Event(E.SLIDE,{relatedTarget:t,direction:n,from:r,to:i});return e(this._element).trigger(o),o},n._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(k.ACTIVE));e(n).removeClass(S.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass(S.ACTIVE)}},n._slide=function(t,n){var i,r,o,s=this,a=this._element.querySelector(k.ACTIVE_ITEM),u=this._getItemIndex(a),c=n||a&&this._getItemByDirection(t,a),h=this._getItemIndex(c),f=Boolean(this._interval);if(t===A.NEXT?(i=S.LEFT,r=S.NEXT,o=A.LEFT):(i=S.RIGHT,r=S.PREV,o=A.RIGHT),c&&e(c).hasClass(S.ACTIVE))this._isSliding=!1;else{var d=this._triggerSlideEvent(c,o);if(!d.isDefaultPrevented()&&a&&c){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(c);var p=e.Event(E.SLID,{relatedTarget:c,direction:o,from:u,to:h});if(e(this._element).hasClass(S.SLIDE)){e(c).addClass(r),l.reflow(c),e(a).addClass(i),e(c).addClass(i);var m=parseInt(c.getAttribute("data-interval"),10);m?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=m):this._config.interval=this._config.defaultInterval||this._config.interval;var _=l.getTransitionDurationFromElement(a);e(a).one(l.TRANSITION_END,function(){e(c).removeClass(i+" "+r).addClass(S.ACTIVE),e(a).removeClass(S.ACTIVE+" "+r+" "+i),s._isSliding=!1,setTimeout(function(){return e(s._element).trigger(p)},0)}).emulateTransitionEnd(_)}else e(a).removeClass(S.ACTIVE),e(c).addClass(S.ACTIVE),this._isSliding=!1,e(this._element).trigger(p);f&&this.cycle()}}},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.carousel"),r=s({},w,e(this).data());"object"==typeof n&&(r=s({},r,n));var o="string"==typeof n?n:r.slide;if(i||(i=new t(this,r),e(this).data("bs.carousel",i)),"number"==typeof n)i.to(n);else if("string"==typeof o){if(void 0===i[o])throw new TypeError('No method named "'+o+'"');i[o]()}else r.interval&&r.ride&&(i.pause(),i.cycle())})},t._dataApiClickHandler=function(n){var i=l.getSelectorFromElement(this);if(i){var r=e(i)[0];if(r&&e(r).hasClass(S.CAROUSEL)){var o=s({},e(r).data(),e(this).data()),a=this.getAttribute("data-slide-to");a&&(o.interval=!1),t._jQueryInterface.call(e(r),o),a&&e(r).data("bs.carousel").to(a),n.preventDefault()}}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return w}}]),t}();e(document).on(E.CLICK_DATA_API,k.DATA_SLIDE,O._dataApiClickHandler),e(window).on(E.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(k.DATA_RIDE)),n=0,i=t.length;n<i;n++){var r=e(t[n]);O._jQueryInterface.call(r,r.data())}}),e.fn[y]=O._jQueryInterface,e.fn[y].Constructor=O,e.fn[y].noConflict=function(){return e.fn[y]=x,O._jQueryInterface};var L="collapse",P=e.fn[L],R={toggle:!0,parent:""},M={toggle:"boolean",parent:"(string|element)"},I={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},N={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},z={WIDTH:"width",HEIGHT:"height"},D={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},j=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(D.DATA_TOGGLE)),i=0,r=n.length;i<r;i++){var o=n[i],s=l.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter(function(e){return e===t});null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=t.prototype;return n.toggle=function(){e(this._element).hasClass(N.SHOW)?this.hide():this.show()},n.show=function(){var n,i,r=this;if(!(this._isTransitioning||e(this._element).hasClass(N.SHOW)||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(D.ACTIVES)).filter(function(t){return"string"==typeof r._config.parent?t.getAttribute("data-parent")===r._config.parent:t.classList.contains(N.COLLAPSE)})).length&&(n=null),n&&(i=e(n).not(this._selector).data("bs.collapse"))&&i._isTransitioning))){var o=e.Event(I.SHOW);if(e(this._element).trigger(o),!o.isDefaultPrevented()){n&&(t._jQueryInterface.call(e(n).not(this._selector),"hide"),i||e(n).data("bs.collapse",null));var s=this._getDimension();e(this._element).removeClass(N.COLLAPSE).addClass(N.COLLAPSING),this._element.style[s]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(N.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var a=s[0].toUpperCase()+s.slice(1),u="scroll"+a,c=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,function(){e(r._element).removeClass(N.COLLAPSING).addClass(N.COLLAPSE).addClass(N.SHOW),r._element.style[s]="",r.setTransitioning(!1),e(r._element).trigger(I.SHOWN)}).emulateTransitionEnd(c),this._element.style[s]=this._element[u]+"px"}}},n.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(N.SHOW)){var n=e.Event(I.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",l.reflow(this._element),e(this._element).addClass(N.COLLAPSING).removeClass(N.COLLAPSE).removeClass(N.SHOW);var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var s=this._triggerArray[o],a=l.getSelectorFromElement(s);if(null!==a){var u=e([].slice.call(document.querySelectorAll(a)));u.hasClass(N.SHOW)||e(s).addClass(N.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0),this._element.style[i]="";var c=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,function(){t.setTransitioning(!1),e(t._element).removeClass(N.COLLAPSING).addClass(N.COLLAPSE).trigger(I.HIDDEN)}).emulateTransitionEnd(c)}}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return(t=s({},R,t)).toggle=Boolean(t.toggle),l.typeCheckConfig(L,t,M),t},n._getDimension=function(){var t=e(this._element).hasClass(z.WIDTH);return t?z.WIDTH:z.HEIGHT},n._getParent=function(){var n,i=this;l.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(n.querySelectorAll(r));return e(o).each(function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])}),n},n._addAriaAndCollapsedClass=function(t,n){var i=e(t).hasClass(N.SHOW);n.length&&e(n).toggleClass(N.COLLAPSED,!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=l.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),o=s({},R,i.data(),"object"==typeof n&&n?n:{});if(!r&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),r||(r=new t(this,o),i.data("bs.collapse",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return R}}]),t}();e(document).on(I.CLICK_DATA_API,D.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=e(this),i=l.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(i));e(r).each(function(){var t=e(this),i=t.data("bs.collapse"),r=i?"toggle":n.data();j._jQueryInterface.call(t,r)})}),e.fn[L]=j._jQueryInterface,e.fn[L].Constructor=j,e.fn[L].noConflict=function(){return e.fn[L]=P,j._jQueryInterface};var F="dropdown",B=e.fn[F],U=new RegExp("38|40|27"),H={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},$={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},W={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},G={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},q={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},V={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Z=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=t.prototype;return i.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass($.DISABLED)){var i=t._getParentFromElement(this._element),r=e(this._menu).hasClass($.SHOW);if(t._clearMenus(),!r){var o={relatedTarget:this._element},s=e.Event(H.SHOW,o);if(e(i).trigger(s),!s.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var a=this._element;"parent"===this._config.reference?a=i:l.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(i).addClass($.POSITION_STATIC),this._popper=new n(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(i).closest(W.NAVBAR_NAV).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass($.SHOW),e(i).toggleClass($.SHOW).trigger(e.Event(H.SHOWN,o))}}}},i.show=function(){if(!(this._element.disabled||e(this._element).hasClass($.DISABLED)||e(this._menu).hasClass($.SHOW))){var n={relatedTarget:this._element},i=e.Event(H.SHOW,n),r=t._getParentFromElement(this._element);e(r).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass($.SHOW),e(r).toggleClass($.SHOW).trigger(e.Event(H.SHOWN,n)))}},i.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass($.DISABLED)&&e(this._menu).hasClass($.SHOW)){var n={relatedTarget:this._element},i=e.Event(H.HIDE,n),r=t._getParentFromElement(this._element);e(r).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass($.SHOW),e(r).toggleClass($.SHOW).trigger(e.Event(H.HIDDEN,n)))}},i.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;e(this._element).on(H.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},i._getConfig=function(t){return t=s({},this.constructor.Default,e(this._element).data(),t),l.typeCheckConfig(F,t,this.constructor.DefaultType),t},i._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(W.MENU))}return this._menu},i._getPlacement=function(){var t=e(this._element.parentNode),n=G.BOTTOM;return t.hasClass($.DROPUP)?(n=G.TOP,e(this._menu).hasClass($.MENURIGHT)&&(n=G.TOPEND)):t.hasClass($.DROPRIGHT)?n=G.RIGHT:t.hasClass($.DROPLEFT)?n=G.LEFT:e(this._menu).hasClass($.MENURIGHT)&&(n=G.BOTTOMEND),n},i._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},i._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},i._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.dropdown"),r="object"==typeof n?n:null;if(i||(i=new t(this,r),e(this).data("bs.dropdown",i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},t._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var i=[].slice.call(document.querySelectorAll(W.DATA_TOGGLE)),r=0,o=i.length;r<o;r++){var s=t._getParentFromElement(i[r]),a=e(i[r]).data("bs.dropdown"),u={relatedTarget:i[r]};if(n&&"click"===n.type&&(u.clickEvent=n),a){var l=a._menu;if(e(s).hasClass($.SHOW)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&e.contains(s,n.target))){var c=e.Event(H.HIDE,u);e(s).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),i[r].setAttribute("aria-expanded","false"),e(l).removeClass($.SHOW),e(s).removeClass($.SHOW).trigger(e.Event(H.HIDDEN,u)))}}}},t._getParentFromElement=function(t){var e,n=l.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(n){if((/input|textarea/i.test(n.target.tagName)?!(32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||e(n.target).closest(W.MENU).length)):U.test(n.which))&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!e(this).hasClass($.DISABLED))){var i=t._getParentFromElement(this),r=e(i).hasClass($.SHOW);if(r&&(!r||27!==n.which&&32!==n.which)){var o=[].slice.call(i.querySelectorAll(W.VISIBLE_ITEMS));if(0!==o.length){var s=o.indexOf(n.target);38===n.which&&s>0&&s--,40===n.which&&s<o.length-1&&s++,s<0&&(s=0),o[s].focus()}}else{if(27===n.which){var a=i.querySelector(W.DATA_TOGGLE);e(a).trigger("focus")}e(this).trigger("click")}}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return q}},{key:"DefaultType",get:function(){return V}}]),t}();e(document).on(H.KEYDOWN_DATA_API,W.DATA_TOGGLE,Z._dataApiKeydownHandler).on(H.KEYDOWN_DATA_API,W.MENU,Z._dataApiKeydownHandler).on(H.CLICK_DATA_API+" "+H.KEYUP_DATA_API,Z._clearMenus).on(H.CLICK_DATA_API,W.DATA_TOGGLE,function(t){t.preventDefault(),t.stopPropagation(),Z._jQueryInterface.call(e(this),"toggle")}).on(H.CLICK_DATA_API,W.FORM_CHILD,function(t){t.stopPropagation()}),e.fn[F]=Z._jQueryInterface,e.fn[F].Constructor=Z,e.fn[F].noConflict=function(){return e.fn[F]=B,Z._jQueryInterface};var X=e.fn.modal,Y={backdrop:!0,keyboard:!0,focus:!0,show:!0},K={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},J={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},Q={SCROLLABLE:"modal-dialog-scrollable",SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},tt={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},et=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(tt.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=t.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var n=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass(Q.FADE)&&(this._isTransitioning=!0);var i=e.Event(J.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(J.CLICK_DISMISS,tt.DATA_DISMISS,function(t){return n.hide(t)}),e(this._dialog).on(J.MOUSEDOWN_DISMISS,function(){e(n._element).one(J.MOUSEUP_DISMISS,function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)}))}},n.hide=function(t){var n=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=e.Event(J.HIDE);if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=e(this._element).hasClass(Q.FADE);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(J.FOCUSIN),e(this._element).removeClass(Q.SHOW),e(this._element).off(J.CLICK_DISMISS),e(this._dialog).off(J.MOUSEDOWN_DISMISS),r){var o=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(o)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return e(t).off(".bs.modal")}),e(document).off(J.FOCUSIN),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=s({},Y,t),l.typeCheckConfig("modal",t,K),t},n._showElement=function(t){var n=this,i=e(this._element).hasClass(Q.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass(Q.SCROLLABLE)?this._dialog.querySelector(tt.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,i&&l.reflow(this._element),e(this._element).addClass(Q.SHOW),this._config.focus&&this._enforceFocus();var r=e.Event(J.SHOWN,{relatedTarget:t}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(r)};if(i){var s=l.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(l.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},n._enforceFocus=function(){var t=this;e(document).off(J.FOCUSIN).on(J.FOCUSIN,function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()})},n._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(J.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off(J.KEYDOWN_DISMISS)},n._setResizeEvent=function(){var t=this;this._isShown?e(window).on(J.RESIZE,function(e){return t.handleUpdate(e)}):e(window).off(J.RESIZE)},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass(Q.OPEN),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(J.HIDDEN)})},n._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(t){var n=this,i=e(this._element).hasClass(Q.FADE)?Q.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Q.BACKDROP,i&&this._backdrop.classList.add(i),e(this._backdrop).appendTo(document.body),e(this._element).on(J.CLICK_DISMISS,function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),i&&l.reflow(this._backdrop),e(this._backdrop).addClass(Q.SHOW),!t)return;if(!i)return void t();var r=l.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(l.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(Q.SHOW);var o=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass(Q.FADE)){var s=l.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(l.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else t&&t()},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(tt.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(tt.STICKY_CONTENT));e(n).each(function(n,i){var r=i.style.paddingRight,o=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")}),e(i).each(function(n,i){var r=i.style.marginRight,o=e(i).css("margin-right");e(i).data("margin-right",r).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")});var r=document.body.style.paddingRight,o=e(document.body).css("padding-right");e(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}e(document.body).addClass(Q.OPEN)},n._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(tt.FIXED_CONTENT));e(t).each(function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""});var n=[].slice.call(document.querySelectorAll(""+tt.STICKY_CONTENT));e(n).each(function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")});var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className=Q.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(n,i){return this.each(function(){var r=e(this).data("bs.modal"),o=s({},Y,e(this).data(),"object"==typeof n&&n?n:{});if(r||(r=new t(this,o),e(this).data("bs.modal",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](i)}else o.show&&r.show(i)})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Y}}]),t}();e(document).on(J.CLICK_DATA_API,tt.DATA_TOGGLE,function(t){var n,i=this,r=l.getSelectorFromElement(this);r&&(n=document.querySelector(r));var o=e(n).data("bs.modal")?"toggle":s({},e(n).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=e(n).one(J.SHOW,function(t){t.isDefaultPrevented()||a.one(J.HIDDEN,function(){e(i).is(":visible")&&i.focus()})});et._jQueryInterface.call(e(n),o,this)}),e.fn.modal=et._jQueryInterface,e.fn.modal.Constructor=et,e.fn.modal.noConflict=function(){return e.fn.modal=X,et._jQueryInterface};var nt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],it={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},rt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ot=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function st(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=new window.DOMParser,r=i.parseFromString(t,"text/html"),o=Object.keys(e),s=[].slice.call(r.body.querySelectorAll("*")),a=function(t,n){var i=s[t],r=i.nodeName.toLowerCase();if(-1===o.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var a=[].slice.call(i.attributes),u=[].concat(e["*"]||[],e[r]||[]);a.forEach(function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===nt.indexOf(n)||Boolean(t.nodeValue.match(rt)||t.nodeValue.match(ot));for(var i=e.filter(function(t){return t instanceof RegExp}),r=0,o=i.length;r<o;r++)if(n.match(i[r]))return!0;return!1})(t,u)||i.removeAttribute(t.nodeName)})},u=0,l=s.length;u<l;u++)a(u);return r.body.innerHTML}var at="tooltip",ut=e.fn.tooltip,lt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),ct=["sanitize","whiteList","sanitizeFn"],ht={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},ft={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},dt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:it},pt={SHOW:"show",OUT:"out"},mt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},_t={FADE:"fade",SHOW:"show"},vt={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},gt={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},yt=function(){function t(t,e){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var i=t.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(_t.SHOW))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var r=l.findShadowRoot(this.element),o=e.contains(null!==r?r:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!o)return;var s=this.getTipElement(),a=l.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(s).addClass(_t.FADE);var u="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,c=this._getAttachment(u);this.addAttachmentClass(c);var h=this._getContainer();e(s).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(s).appendTo(h),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,s,{placement:c,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:vt.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),e(s).addClass(_t.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var f=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),n===pt.OUT&&t._leave(null,t)};if(e(this.tip).hasClass(_t.FADE)){var d=l.getTransitionDurationFromElement(this.tip);e(this.tip).one(l.TRANSITION_END,f).emulateTransitionEnd(d)}else f()}},i.hide=function(t){var n=this,i=this.getTipElement(),r=e.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==pt.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(r),!r.isDefaultPrevented()){if(e(i).removeClass(_t.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[gt.CLICK]=!1,this._activeTrigger[gt.FOCUS]=!1,this._activeTrigger[gt.HOVER]=!1,e(this.tip).hasClass(_t.FADE)){var s=l.getTransitionDurationFromElement(i);e(i).one(l.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},i.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(vt.TOOLTIP_INNER)),this.getTitle()),e(t).removeClass(_t.FADE+" "+_t.SHOW)},i.setElementContent=function(t,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=st(n,this.config.whiteList,this.config.sanitizeFn)),t.html(n)):t.text(n):this.config.html?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text())},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},i._getContainer=function(){return!1===this.config.container?document.body:l.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},i._getAttachment=function(t){return ft[t.toUpperCase()]},i._setListeners=function(){var t=this,n=this.config.trigger.split(" ");n.forEach(function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(n!==gt.MANUAL){var i=n===gt.HOVER?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=n===gt.HOVER?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,function(e){return t._enter(e)}).on(r,t.config.selector,function(e){return t._leave(e)})}}),e(this.element).closest(".modal").on("hide.bs.modal",function(){t.element&&t.hide()}),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?gt.FOCUS:gt.HOVER]=!0),e(n.getTipElement()).hasClass(_t.SHOW)||n._hoverState===pt.SHOW?n._hoverState=pt.SHOW:(clearTimeout(n._timeout),n._hoverState=pt.SHOW,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===pt.SHOW&&n.show()},n.config.delay.show):n.show())},i._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?gt.FOCUS:gt.HOVER]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=pt.OUT,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){n._hoverState===pt.OUT&&n.hide()},n.config.delay.hide):n.hide())},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){var n=e(this.element).data();return Object.keys(n).forEach(function(t){-1!==ct.indexOf(t)&&delete n[t]}),"number"==typeof(t=s({},this.constructor.Default,n,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),l.typeCheckConfig(at,t,this.constructor.DefaultType),t.sanitize&&(t.template=st(t.template,t.whiteList,t.sanitizeFn)),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(lt);null!==n&&n.length&&t.removeClass(n.join(""))},i._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(_t.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.tooltip"),r="object"==typeof n&&n;if((i||!/dispose|hide/.test(n))&&(i||(i=new t(this,r),e(this).data("bs.tooltip",i)),"string"==typeof n)){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return dt}},{key:"NAME",get:function(){return at}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return mt}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return ht}}]),t}();e.fn.tooltip=yt._jQueryInterface,e.fn.tooltip.Constructor=yt,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=ut,yt._jQueryInterface};var bt="popover",xt=e.fn.popover,wt=new RegExp("(^|\\s)bs-popover\\S+","g"),Tt=s({},yt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),At=s({},yt.DefaultType,{content:"(string|element|function)"}),Et={FADE:"fade",SHOW:"show"},St={TITLE:".popover-header",CONTENT:".popover-body"},kt={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Ct=function(t){var n,i;function o(){return t.apply(this,arguments)||this}i=t,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var s=o.prototype;return s.isWithContent=function(){return this.getTitle()||this._getContent()},s.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},s.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},s.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(St.TITLE),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(St.CONTENT),n),t.removeClass(Et.FADE+" "+Et.SHOW)},s._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},s._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(wt);null!==n&&n.length>0&&t.removeClass(n.join(""))},o._jQueryInterface=function(t){return this.each(function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new o(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},r(o,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Tt}},{key:"NAME",get:function(){return bt}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return kt}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return At}}]),o}(yt);e.fn.popover=Ct._jQueryInterface,e.fn.popover.Constructor=Ct,e.fn.popover.noConflict=function(){return e.fn.popover=xt,Ct._jQueryInterface};var Ot="scrollspy",Lt=e.fn[Ot],Pt={offset:10,method:"auto",target:""},Rt={offset:"number",method:"string",target:"(string|element)"},Mt={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},It={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},Nt={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},zt={OFFSET:"offset",POSITION:"position"},Dt=function(){function t(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+Nt.NAV_LINKS+","+this._config.target+" "+Nt.LIST_ITEMS+","+this._config.target+" "+Nt.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(Mt.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}var n=t.prototype;return n.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?zt.OFFSET:zt.POSITION,i="auto"===this._config.method?n:this._config.method,r=i===zt.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var o=[].slice.call(document.querySelectorAll(this._selector));o.map(function(t){var n,o=l.getSelectorFromElement(t);if(o&&(n=document.querySelector(o)),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[e(n)[i]().top+r,o]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},n.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){if("string"!=typeof(t=s({},Pt,"object"==typeof t&&t?t:{})).target){var n=e(t.target).attr("id");n||(n=l.getUID(Ot),e(t.target).attr("id",n)),t.target="#"+n}return l.typeCheckConfig(Ot,t,Rt),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length,o=r;o--;){var s=this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(void 0===this._offsets[o+1]||t<this._offsets[o+1]);s&&this._activate(this._targets[o])}}},n._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(It.DROPDOWN_ITEM)?(i.closest(Nt.DROPDOWN).find(Nt.DROPDOWN_TOGGLE).addClass(It.ACTIVE),i.addClass(It.ACTIVE)):(i.addClass(It.ACTIVE),i.parents(Nt.NAV_LIST_GROUP).prev(Nt.NAV_LINKS+", "+Nt.LIST_ITEMS).addClass(It.ACTIVE),i.parents(Nt.NAV_LIST_GROUP).prev(Nt.NAV_ITEMS).children(Nt.NAV_LINKS).addClass(It.ACTIVE)),e(this._scrollElement).trigger(Mt.ACTIVATE,{relatedTarget:t})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(It.ACTIVE)}).forEach(function(t){return t.classList.remove(It.ACTIVE)})},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.scrollspy"),r="object"==typeof n&&n;if(i||(i=new t(this,r),e(this).data("bs.scrollspy",i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Pt}}]),t}();e(window).on(Mt.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(Nt.DATA_SPY)),n=t.length,i=n;i--;){var r=e(t[i]);Dt._jQueryInterface.call(r,r.data())}}),e.fn[Ot]=Dt._jQueryInterface,e.fn[Ot].Constructor=Dt,e.fn[Ot].noConflict=function(){return e.fn[Ot]=Lt,Dt._jQueryInterface};var jt=e.fn.tab,Ft={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},Bt={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},Ut={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},Ht=function(){function t(t){this._element=t}var n=t.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(Bt.ACTIVE)||e(this._element).hasClass(Bt.DISABLED))){var n,i,r=e(this._element).closest(Ut.NAV_LIST_GROUP)[0],o=l.getSelectorFromElement(this._element);if(r){var s="UL"===r.nodeName||"OL"===r.nodeName?Ut.ACTIVE_UL:Ut.ACTIVE;i=(i=e.makeArray(e(r).find(s)))[i.length-1]}var a=e.Event(Ft.HIDE,{relatedTarget:this._element}),u=e.Event(Ft.SHOW,{relatedTarget:i});if(i&&e(i).trigger(a),e(this._element).trigger(u),!u.isDefaultPrevented()&&!a.isDefaultPrevented()){o&&(n=document.querySelector(o)),this._activate(this._element,r);var c=function(){var n=e.Event(Ft.HIDDEN,{relatedTarget:t._element}),r=e.Event(Ft.SHOWN,{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(r)};n?this._activate(n,n.parentNode,c):c()}}},n.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(t,n,i){var r=this,o=!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?e(n).children(Ut.ACTIVE):e(n).find(Ut.ACTIVE_UL),s=o[0],a=i&&s&&e(s).hasClass(Bt.FADE),u=function(){return r._transitionComplete(t,s,i)};if(s&&a){var c=l.getTransitionDurationFromElement(s);e(s).removeClass(Bt.SHOW).one(l.TRANSITION_END,u).emulateTransitionEnd(c)}else u()},n._transitionComplete=function(t,n,i){if(n){e(n).removeClass(Bt.ACTIVE);var r=e(n.parentNode).find(Ut.DROPDOWN_ACTIVE_CHILD)[0];r&&e(r).removeClass(Bt.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass(Bt.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),l.reflow(t),t.classList.contains(Bt.FADE)&&t.classList.add(Bt.SHOW),t.parentNode&&e(t.parentNode).hasClass(Bt.DROPDOWN_MENU)){var o=e(t).closest(Ut.DROPDOWN)[0];if(o){var s=[].slice.call(o.querySelectorAll(Ut.DROPDOWN_TOGGLE));e(s).addClass(Bt.ACTIVE)}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.tab");if(r||(r=new t(this),i.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(Ft.CLICK_DATA_API,Ut.DATA_TOGGLE,function(t){t.preventDefault(),Ht._jQueryInterface.call(e(this),"show")}),e.fn.tab=Ht._jQueryInterface,e.fn.tab.Constructor=Ht,e.fn.tab.noConflict=function(){return e.fn.tab=jt,Ht._jQueryInterface};var $t=e.fn.toast,Wt={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},Gt={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},qt={animation:"boolean",autohide:"boolean",delay:"number"},Vt={animation:!0,autohide:!0,delay:500},Zt={DATA_DISMISS:'[data-dismiss="toast"]'},Xt=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var n=t.prototype;return n.show=function(){var t=this;e(this._element).trigger(Wt.SHOW),this._config.animation&&this._element.classList.add(Gt.FADE);var n=function(){t._element.classList.remove(Gt.SHOWING),t._element.classList.add(Gt.SHOW),e(t._element).trigger(Wt.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(Gt.HIDE),this._element.classList.add(Gt.SHOWING),this._config.animation){var i=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},n.hide=function(t){var n=this;this._element.classList.contains(Gt.SHOW)&&(e(this._element).trigger(Wt.HIDE),t?this._close():this._timeout=setTimeout(function(){n._close()},this._config.delay))},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Gt.SHOW)&&this._element.classList.remove(Gt.SHOW),e(this._element).off(Wt.CLICK_DISMISS),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},n._getConfig=function(t){return t=s({},Vt,e(this._element).data(),"object"==typeof t&&t?t:{}),l.typeCheckConfig("toast",t,this.constructor.DefaultType),t},n._setListeners=function(){var t=this;e(this._element).on(Wt.CLICK_DISMISS,Zt.DATA_DISMISS,function(){return t.hide(!0)})},n._close=function(){var t=this,n=function(){t._element.classList.add(Gt.HIDE),e(t._element).trigger(Wt.HIDDEN)};if(this._element.classList.remove(Gt.SHOW),this._config.animation){var i=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.toast"),o="object"==typeof n&&n;if(r||(r=new t(this,o),i.data("bs.toast",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](this)}})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return qt}},{key:"Default",get:function(){return Vt}}]),t}();e.fn.toast=Xt._jQueryInterface,e.fn.toast.Constructor=Xt,e.fn.toast.noConflict=function(){return e.fn.toast=$t,Xt._jQueryInterface},function(){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=l,t.Alert=d,t.Button=g,t.Carousel=O,t.Collapse=j,t.Dropdown=Z,t.Modal=et,t.Popover=Ct,t.Scrollspy=Dt,t.Tab=Ht,t.Toast=Xt,t.Tooltip=yt,Object.defineProperty(t,"__esModule",{value:!0})}(e,n("EVdn"),n("8L3F"))},T5K2:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n@media (min-width: 576px) {\n.side-panel {\n        position: fixed;\n        left: 0;\n        top: 0;\n        width: 350px !important;\n        bottom: 0;\n}\n}\n.side-panel {\n    position: fixed;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    background: #1a1a1a;\n    z-index: 30;\n    overflow-x: hidden;\n    overflow-y: auto;\n}\n.panel-close {\n    cursor: pointer;\n    line-height: inherit;\n    transition: .2s;\n}\n.panel-close:hover {\n    color: #ffcc00;\n    transition: .2s;\n}\n.panel-item {\n    padding: 1rem;\n    background: #111;\n}\n.side-title {\n    font-size: 16px;\n}\n.sp-widget {\n    padding: 0 1rem;\n    display: inline-flex;\n    justify-content: center;\n}\n.dep-arr-container > div\n{\n    flex: 1;\n}\n.dep-arr-container {\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n    width: 100%;\n}\n.sp-widget-icon {\n}\n.sp-widget-icon > .material-icons {\n    font-size: 2.5rem;\n    line-height: inherit;\n}\n.sp-widget-content {\n    position: relative; margin-top: auto; margin-bottom: auto; margin-right: 0;\n    padding-left: .5rem;\n}\n.side-header {\n    padding: .5rem 1rem;\n    background: #2a2a2a;\n    position: relative;\n    z-index: 10;\n    box-shadow: rgba(0,0,0,.72) 0 0 10px;\n}\n.side-image {\n    height: 200px;\n    background: #2eb5ff center no-repeat;\n    background-size: cover;\n}\n.sp-nav {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n    background: #333;\n}\n.sp-nav-item {\n    flex: 1;\n    text-align: center;\n    line-height: 1;\n    padding: .25rem 1rem;\n    padding-bottom: .5rem;\n    color: white;\n    border: none;\n    background: transparent;\n    text-decoration: none;\n    text-underline: none;\n    transition: .2s;\n}\n.vfr {\n    background: rgba(39, 193, 84, 1);\n}\n.mvfr {\n    background: #298dde;\n}\n.ifr {\n    background: #da1319;\n}\n.lifr {\n    background: #e81ce9;\n}\n.footer-nav > .active {\n    color: #2eb5ff;\n}\n.sp-nav-item:hover {\n    background: #ffcc00;\n    transition: .2s;\n    color: white;\n    border: none;\n    text-decoration: none;\n    text-underline: none;\n}\n",""])},URgk:function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n("YBdB"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},UYHi:function(t,e,n){"use strict";var i=n("e+6W");n.n(i).a},UnBK:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("xAGQ"),o=n("Lmem"),s=n("JEQr"),a=n("2SVd"),u=n("5oMp");function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return l(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},W3OC:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.panel-item[data-v-dbfc70a6]:hover {\n    background: #ffcc00;\n    transition: .2s;\n}\n.panel-item[data-v-dbfc70a6] {\n    padding: .5rem 1rem;\n    transition: .2s;\n    cursor: pointer;\n}\n.side-header[data-v-dbfc70a6] {\n    position: -webkit-sticky;\n    position: sticky;\n}\n",""])},WmOE:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n#map[data-v-66538ee4] {\n    width: 100%;\n    height: 100%;\n}\n",""])},XuX8:function(t,e,n){t.exports=n("INkZ")},YBdB:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,u=1,l={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[u]=r,i(u),u++},f.clearImmediate=d}function d(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{d(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n("yLpj"),n("8oxB"))},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"aET+":function(t,e,n){var i,r,o={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),a=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),u=null,l=0,c=[],h=n("9tPo");function f(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](i.parts[s]);for(;s<i.parts.length;s++)r.parts.push(g(i.parts[s],e))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(g(i.parts[s],e));o[i.id]={id:i.id,refs:1,parts:a}}}}function d(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function p(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(t.insertAt.before,n);n.insertBefore(e,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function _(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return v(e,t.attrs),p(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var s=l++;n=u||(u=_(e)),i=x.bind(null,n,s,!1),r=x.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),p(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=h(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=_(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return f(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var s=n[r];(a=o[s.id]).refs--,i.push(a)}t&&f(d(t,e),e);for(r=0;r<i.length;r++){var a;if(0===(a=i[r]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete o[a.id]}}}};var y,b=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function x(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},awG2:function(t,e,n){var i=n("WmOE");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(t.exports=i.locals)},b5Ro:function(t,e,n){"use strict";var i=n("awG2");n.n(i).a},bUC5:function(t,n,i){"use strict";i.r(n);var r=i("4R65"),o=i.n(r),s=i("N7A+"),a=i.n(s),u=i("vDqi"),l=i.n(u),c=(i("qLfE"),i("sPWI"),{name:"SidePanelTabs",props:{initialTab:String,tabs:Array},data:function(){return{activeTab:this.initialTab}},computed:{tabBodyName:function(){return"tab-body-".concat(this.activeTab)}},methods:{tabNavName:function(t){return"tab-nav-".concat(t)},switchTab:function(t){console.log(t),this.activeTab=t}}});i("CfQg");function h(t,e,n,i,r,o,s,a){var u,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=u):r&&(u=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}var f=h(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-between",height:"100%"}},[n("div",[t._t(t.tabBodyName)],2),t._v(" "),n("div",{staticClass:"footer-nav"},t._l(t.tabs,function(e){return n("button",{staticClass:"footer-nav-item",class:{"footer-nav--active":t.activeTab===e},attrs:{name:e},on:{click:function(n){return t.switchTab(e)}}},[t._t(t.tabNavName(e))],2)}),0)])},[],!1,null,"1d92dfe8",null).exports,d=h({name:"AirportInfoTab",data:function(){return{dep:0,arr:0}},props:{airport:Object,current_wx:Object},created:function(){setInterval(this.getDepArr(this.airport.gps_code),6e4)},methods:{openChart:function(t){window.open("https://aeronav.faa.gov/d-tpp/1906/"+t,"_blank")},getDepArr:function(t){var e=this;axios.get("/api/flights/vatsim/"+t,{}).then(function(t){e.dep=t.data.dep,e.arr=t.data.arr})}},computed:{flightRules:function(){if(!this.current_wx)return null;switch(this.current_wx.flight_rules){case"VFR":return{vfr:!0};case"MVFR":return{mvfr:!0};case"IFR":return{ifr:!0};case"LIFR":return{lifr:!0}}},apd:function(){return this.$store.state.airport.charts.charts.filter(function(t){return"APD"===t.chart_code})},hot:function(){return this.$store.state.airport.charts.charts.filter(function(t){return"HOT"===t.chart_code})},min:function(){return this.$store.state.airport.charts.charts.filter(function(t){return"MIN"===t.chart_code})}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"panel-item",staticStyle:{display:"inline-flex",width:"100%",background:"#323232"}},[n("div",{class:t.flightRules,staticStyle:{"border-radius":"50%",height:"25px",width:"25px",margin:"auto",border:"2px solid white"}}),t._v(" "),n("div",{staticStyle:{"margin-left":"1rem",flex:"1"}},[n("div",{staticStyle:{"font-size":"24px","line-height":"1"}},[t._v(t._s(t.airport.gps_code))]),t._v(" "),n("div",{staticStyle:{"font-size":"11px",color:"#aaa"}},[t._v("Elevation: "+t._s(t.airport.elevation_ft)+"ft | "+t._s(t.airport.municipality))])])]),t._v(" "),t.current_wx?n("div",{staticClass:"panel-item"},[t._v("\n        "+t._s(t.current_wx.sanitized)+"\n    ")]):t._e(),t._v(" "),this.$store.state.airport.charts?n("div",{staticClass:"sp-nav"},[t.apd?n("button",{staticClass:"sp-nav-item",on:{click:function(e){return t.openChart(t.apd[0].pdf_name)}}},[n("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "),n("div",[t._v("\n                Diagram\n            ")])]):t._e(),t._v(" "),t.min?n("button",{staticClass:"sp-nav-item",on:{click:function(e){return t.openChart(t.min[0].pdf_name)}}},[n("i",{staticClass:"material-icons"},[t._v("flight_takeoff")]),t._v(" "),n("div",[t._v("\n                TO Mins\n            ")])]):t._e(),t._v(" "),t.hot?n("button",{staticClass:"sp-nav-item",on:{click:function(e){return t.openChart(t.hot[0].pdf_name)}}},[n("i",{staticClass:"material-icons"},[t._v("whatshot")]),t._v(" "),n("div",[t._v("\n                Hotspots\n            ")])]):t._e()]):t._e(),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"dep-arr-container"},[n("a",{staticStyle:{flex:"1"}},[n("div",{staticClass:"sp-widget",staticStyle:{background:"#34a422",width:"100%"}},[t._m(1),t._v(" "),n("div",{staticClass:"sp-widget-content"},[n("div",{staticStyle:{"font-size":"40px"}},[t._v(t._s(t.dep.length))])])])]),t._v(" "),n("a",{staticStyle:{flex:"1"}},[n("div",{staticClass:"sp-widget",staticStyle:{background:"#a42125",width:"100%"}},[t._m(2),t._v(" "),n("div",{staticClass:"sp-widget-content"},[n("div",{staticStyle:{"font-size":"40px"}},[t._v(t._s(t.arr.length))])])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"side-header"},[e("span",{staticClass:"side-title"},[this._v("Departures/Arrivals")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sp-widget-icon"},[e("i",{staticClass:"material-icons"},[this._v("flight_takeoff")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sp-widget-icon"},[e("i",{staticClass:"material-icons"},[this._v("flight_land")])])}],!1,null,"e15a0126",null).exports,p={name:"AirportWXTAFPanel",props:{wx:Object},computed:{flightRules:function(){switch(this.wx.flight_rules){case"VFR":return{vfr:!0};case"MVFR":return{mvfr:!0};case"IFR":return{ifr:!0};case"LIFR":return{lifr:!0}}}}},m=(i("Lw30"),{name:"AirportWXTab",components:{AirportWXTAFPanel:h(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"panel-item",staticStyle:{display:"inline-flex",width:"100%",background:"#323232"}},[n("div",{class:t.flightRules,staticStyle:{"border-radius":"50%",height:"25px",width:"25px",margin:"auto",border:"2px solid white"}}),t._v(" "),n("div",{staticStyle:{"margin-left":"1rem",flex:"1"}},[n("div",{staticStyle:{"font-size":"24px","line-height":"1"}},[t._v(t._s(t.wx.type)+" "+t._s(t.wx.start_time.repr))]),t._v(" "),n("div",{staticStyle:{"font-size":"11px",color:"#aaa"}},[t._v(t._s(t.wx.sanitized))])])]),t._v(" "),n("div",{staticClass:"panel-item",staticStyle:{"font-size":"14px"}},[t.wx.wind_direction?n("div",{staticClass:"wx-row"},[t._m(0),t._v(" "),n("div",{staticStyle:{"margin-left":".5rem"}},[n("div",[t._v(t._s(t.wx.wind_direction.repr)+"@"+t._s(t.wx.wind_speed.repr))])])]):t._e(),t._v(" "),t.wx.clouds?n("div",{staticClass:"wx-row"},[t._m(1),t._v(" "),n("div",{staticStyle:{"margin-left":".5rem"}},t._l(t.wx.clouds,function(e){return n("div",[t._v(t._s(e.type)+"@"+t._s(e.altitude))])}),0)]):t._e(),t._v(" "),t.wx.visibility?n("div",{staticClass:"wx-row"},[t._m(2),t._v(" "),n("div",{staticStyle:{"margin-left":".5rem"}},[n("div",[t._v(t._s(t.wx.visibility.repr))])])]):t._e()])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wx-header"},[e("div",[this._v("Wind:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wx-header"},[e("div",[this._v("Sky Conditions:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wx-header"},[e("div",[this._v("Visibility:")])])}],!1,null,"0531848e",null).exports},props:{airport:Object,metar:Object,taf:Object},computed:{flightRules:function(){switch(this.metar.flight_rules){case"VFR":return{vfr:!0};case"MVFR":return{mvfr:!0};case"IFR":return{ifr:!0};case"LIFR":return{lifr:!0}}}}}),_=(i("oMSk"),h(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.metar&&t.taf?n("div",[n("div",{staticClass:"side-header"},[t._v("\n        Current Weather\n    ")]),t._v(" "),n("div",{staticClass:"panel-item",staticStyle:{display:"inline-flex",width:"100%",background:"#323232"}},[n("div",{class:t.flightRules,staticStyle:{"border-radius":"50%",height:"25px",width:"25px",margin:"auto",border:"2px solid white"}}),t._v(" "),n("div",{staticStyle:{"margin-left":"1rem",flex:"1"}},[n("div",{staticStyle:{"font-size":"24px","line-height":"1"}},[t._v(t._s(t.metar.time.repr))]),t._v(" "),n("div",{staticStyle:{"font-size":"11px",color:"#aaa"}},[t._v(t._s(t.metar.raw))])])]),t._v(" "),n("div",{staticClass:"panel-item",staticStyle:{"font-size":"14px"}},[n("div",{staticClass:"wx-row"},[t._m(0),t._v(" "),n("div",{staticStyle:{"margin-left":".5rem"}},[n("div",[t._v(t._s(t.metar.wind_direction.repr)+"@"+t._s(t.metar.wind_speed.repr))])])]),t._v(" "),n("div",{staticClass:"wx-row"},[t._m(1),t._v(" "),n("div",{staticStyle:{"margin-left":".5rem"}},t._l(t.metar.clouds,function(e){return n("div",[t._v(t._s(e.repr))])}),0)]),t._v(" "),n("div",{staticClass:"wx-row"},[t._m(2),t._v(" "),n("div",{staticStyle:{"margin-left":".5rem"}},[n("div",[t._v(t._s(t.metar.temperature.repr)+t._s(t.metar.units.temperature))])])]),t._v(" "),n("div",{staticClass:"wx-row"},[t._m(3),t._v(" "),n("div",{staticStyle:{"margin-left":".5rem"}},[n("div",[t._v(t._s(t.metar.dewpoint.repr)+t._s(t.metar.units.temperature))])])]),t._v(" "),n("div",{staticClass:"wx-row"},[t._m(4),t._v(" "),n("div",{staticStyle:{"margin-left":".5rem"}},[n("div",[t._v(t._s(t.metar.altimeter.value))])])])]),t._v(" "),n("div",{staticClass:"side-header"},[t._v("\n        Terminal Area Forecast\n    ")]),t._v(" "),t._l(t.taf.forecast,function(t){return n("div",[n("airport-w-x-t-a-f-panel",{attrs:{wx:t}})],1)})],2):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wx-header"},[e("div",[this._v("Wind:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wx-header"},[e("div",[this._v("Sky Conditions:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wx-header"},[e("div",[this._v("Temperature:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wx-header"},[e("div",[this._v("Dew Point:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wx-header"},[e("div",[this._v("Altimeter:")])])}],!1,null,"0aa3b501",null).exports),v={name:"AirportChartsTab",computed:{charts:function(){return this.$store.state.airport.charts},sids:function(){return this.$store.state.airport.charts.charts.filter(function(t){return"DP"===t.chart_code})},stars:function(){return this.$store.state.airport.charts.charts.filter(function(t){return"STAR"===t.chart_code})},iaps:function(){return this.$store.state.airport.charts.charts.filter(function(t){return"IAP"===t.chart_code})},apd:function(){return this.$store.state.airport.charts.charts.filter(function(t){return"APD"===t.chart_code})},hot:function(){return this.$store.state.airport.charts.charts.filter(function(t){return"HOT"===t.chart_code})},min:function(){return this.$store.state.airport.charts.charts.filter(function(t){return"MIN"===t.chart_code})}},methods:{openChart:function(t){window.open("https://aeronav.faa.gov/d-tpp/1906/"+t,"_blank")}}},g=(i("4IGl"),{name:"SideInfoPanel",components:{AirportChartsTab:h(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"side-header"},[t._v("Airport Information")]),t._v(" "),t._l(t.apd,function(e){return n("div",{staticClass:"panel-item",on:{click:function(n){return t.openChart(e.pdf_name)}}},[t._v("\n        "+t._s(e.chart_name)+"\n    ")])}),t._v(" "),t._l(t.hot,function(e){return n("div",{staticClass:"panel-item",on:{click:function(n){return t.openChart(e.pdf_name)}}},[t._v("\n        "+t._s(e.chart_name)+"\n    ")])}),t._v(" "),t._l(t.min,function(e){return n("div",{staticClass:"panel-item",on:{click:function(n){return t.openChart(e.pdf_name)}}},[t._v("\n        "+t._s(e.chart_name)+"\n    ")])}),t._v(" "),n("div",{staticClass:"side-header"},[t._v("Instrument Approach Procedures")]),t._v(" "),t._l(t.iaps,function(e){return n("div",{staticClass:"panel-item",on:{click:function(n){return t.openChart(e.pdf_name)}}},[t._v("\n        "+t._s(e.chart_name)+"\n    ")])}),t._v(" "),n("div",{staticClass:"side-header"},[t._v("Departure Procedures (SIDs)")]),t._v(" "),t._l(t.sids,function(e){return n("div",{staticClass:"panel-item",on:{click:function(n){return t.openChart(e.pdf_name)}}},[t._v("\n        "+t._s(e.chart_name)+"\n    ")])}),t._v(" "),n("div",{staticClass:"side-header"},[t._v("Arrival Procedures (STARs)")]),t._v(" "),t._l(t.stars,function(e){return n("div",{staticClass:"panel-item",on:{click:function(n){return t.openChart(e.pdf_name)}}},[t._v("\n        "+t._s(e.chart_name)+"\n    ")])})],2)},[],!1,null,"dbfc70a6",null).exports,AirportWXTab:_,AirportInfoTab:d,SidePanelTabs:f},data:function(){return{showing:!1,initialTab:"main",tabs:["main","freq","wx","charts"],metar:null,taf:null}},created:function(){this.getWX(this.airport.gps_code),setInterval(this.getWX(this.airport.gps_code),3e5)},methods:{getWX:function(t){var e=this;l.a.get("/api/wx/all/"+t,{params:{format:"json",onfail:"cache"}}).then(function(t){e.metar=t.data.metar,e.taf=t.data.taf})},closePanel:function(){this.$store.commit("SET_AIRPORT",null)}},watch:{airport:function(t){this.getWX(t.gps_code)}},computed:{airport:function(){return this.$store.state.airport.info}}}),y=(i("x1ep"),h(g,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.airport?n("div",{staticClass:"side-panel",staticStyle:{"z-index":"100"}},[n("div",{staticClass:"side-header",staticStyle:{background:"#2eb5ff","z-index":"40",display:"flex","justify-content":"space-between",position:"sticky",top:"0"}},[n("div",{staticStyle:{"font-size":"18px","font-weight":"bold",margin:"auto 0"}},[t._v(t._s(t.airport.name))]),t._v(" "),n("div",[n("i",{staticClass:"material-icons panel-close",on:{click:t.closePanel}},[t._v("close")])])]),t._v(" "),n("SidePanelTabs",{attrs:{tabs:t.tabs,initialTab:t.initialTab}},[n("template",{slot:"tab-body-main"},[n("AirportInfoTab",{attrs:{airport:t.airport,current_wx:t.metar}})],1),t._v(" "),n("template",{slot:"tab-body-freq"},[n("div",[n("div",{staticClass:"side-header",staticStyle:{background:"#fc2200"}},[t._v("Airport Frequencies Not Verified")]),t._v(" "),t._l(t.airport.freqs,function(e){return n("div",{staticClass:"panel-item"},[n("div",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v(t._s(e.description))]),t._v(" "),n("div",[t._v(t._s(e.frequency))])])})],2)]),t._v(" "),n("template",{slot:"tab-body-wx"},[n("AirportWXTab",{attrs:{airport:t.airport,metar:t.metar,taf:t.taf}})],1),t._v(" "),n("template",{slot:"tab-body-charts"},[n("AirportChartsTab")],1),t._v(" "),n("template",{slot:"tab-nav-main"},[n("div",[n("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "),n("div",[t._v("\n                    Info\n                ")])])]),t._v(" "),n("template",{slot:"tab-nav-freq"},[n("div",[n("i",{staticClass:"material-icons"},[t._v("headset_mic")]),t._v(" "),n("div",[t._v("\n                    Freq\n                ")])])]),t._v(" "),n("template",{slot:"tab-nav-wx"},[n("div",[n("i",{staticClass:"material-icons"},[t._v("cloud")]),t._v(" "),n("div",[t._v("\n                    WX\n                ")])])]),t._v(" "),n("template",{slot:"tab-nav-charts"},[n("div",[n("i",{staticClass:"material-icons"},[t._v("map")]),t._v(" "),n("div",[t._v("\n                    Charts\n                ")])])])],2)],1):t._e()},[],!1,null,null,null).exports),b={name:"SideNavBar"},x=(i("UYHi"),h(b,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sn-nav-panel"},[n("div",{staticClass:"sn-brand"},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"/img/logo.svg"}})]),t._v(" "),n("div",{staticClass:"sn-nav"},[n("form",{staticStyle:{display:"none"},attrs:{action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_top",id:"donate"}},[n("input",{attrs:{type:"hidden",name:"cmd",value:"_donations"}}),t._v(" "),n("input",{attrs:{type:"hidden",name:"business",value:"taylorbroad@gmail.com"}}),t._v(" "),n("input",{attrs:{type:"hidden",name:"currency_code",value:"USD"}}),t._v(" "),n("input",{attrs:{type:"image",src:"https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif",border:"0",name:"submit",title:"PayPal - The safer, easier way to pay online!",alt:"Donate with PayPal button"}}),t._v(" "),n("img",{attrs:{alt:"",border:"0",src:"https://www.paypal.com/en_US/i/scr/pixel.gif",width:"1",height:"1"}})]),t._v(" "),n("div",{staticClass:"sn-nav-item",attrs:{onclick:"document.getElementById('donate').submit();"}},[n("div",[n("i",{staticClass:"material-icons"},[t._v("payment")]),t._v(" "),n("div",[t._v("\n                    Donate\n                ")])])])])])}],!1,null,"0862227c",null).exports);function w(t){return 1852*t}var T=o.a.icon({iconUrl:"/img/aircraftTarget.svg",iconSize:[32,32],iconAnchor:[16,16],popupAnchor:[-20,20]}),A=(o.a.icon({iconUrl:"/img/map/depTarget.svg",iconSize:[24,24],iconAnchor:[12,12]}),o.a.icon({iconUrl:"/img/map/arrTarget.svg",iconSize:[24,24],iconAnchor:[12,12]}),o.a.icon({iconUrl:"/img/ATC_DEL.svg",iconSize:[16,16],iconAnchor:[8,8],popupAnchor:[-20,20]})),E=o.a.icon({iconUrl:"/img/ATC_GND.svg",iconSize:[16,16],iconAnchor:[8,8],popupAnchor:[-20,20]}),S=o.a.icon({iconUrl:"/img/ATC_TWR.svg",iconSize:[16,16],iconAnchor:[8,8],popupAnchor:[-20,20]}),k=o.a.icon({iconUrl:"/img/ATC_APP.svg",iconSize:[16,16],iconAnchor:[8,8],popupAnchor:[-20,20]}),C=o.a.icon({iconUrl:"/img/ATC_CTR.svg",iconSize:[16,16],iconAnchor:[8,8],popupAnchor:[-20,20]}),O={name:"Map",components:{SideNavBar:x,SideInfoPanel:y},data:function(){return{lmap:null,tangramLayer:null,vatsimLayer:null,vatsimAircraft:[],acf_markers:[],ground_targets:[],vatsimATCLayer:null,vatsimATC:[]}},mounted:function(){var t=this,e=[37.487,-98.981,5];this.lmap=o.a.map(document.getElementById("map")),this.lmap.zoomControl.setPosition("topright"),this.tangramLayer=a.a.leafletLayer({scene:"classic_map.yaml",attribution:'openAIP | &copy; OSM contributors | <b style="color: red">NOT FOR REAL WORLD NAVIGATION</b>',selectionRadius:10,events:{click:this.clickHandler}}),this.tangramLayer.addTo(this.lmap),this.lmap.setView(e.slice(0,3),e[2]),this.vatsimLayer=o.a.layerGroup().addTo(this.lmap),this.vatsimATCLayer=o.a.layerGroup().addTo(this.lmap),this.getVatsimData(),setInterval(function(){t.getVatsimData()},6e4)},updated:function(){console.log("Updated"),this.tangramLayer.scene.updateConfig()},methods:{getVatsimData:function(){var t=this;l.a.get("/vatsimflights.json").then(function(e){t.vatsimLayer.clearLayers(),e.data.forEach(function(e){o.a.marker([e.location.coordinates[1],e.location.coordinates[0]],{icon:T,rotationAngle:e.heading}).addTo(t.vatsimLayer).bindTooltip(e.callsign,{offset:[0,0],className:"markerText"})})}),console.log("VATSIM Aircraft Updated"),l.a.get("/vatsimatc.json").then(function(e){t.vatsimATCLayer.clearLayers(),e.data.forEach(function(e){var n=e.callsign.split("_");switch(n[n.length-1]){case"DEL":o.a.marker([e.location.coordinates[1],e.location.coordinates[0]],{icon:A}).addTo(t.vatsimATCLayer).bindTooltip(e.callsign+" | "+e.frequency+"<br>"+e.full_name),o.a.circle([e.location.coordinates[1],e.location.coordinates[0]],{radius:w(e.visual_range),fill:!1,color:"#f96f23"}).addTo(t.vatsimATCLayer);break;case"GND":o.a.marker([e.location.coordinates[1],e.location.coordinates[0]],{icon:E}).addTo(t.vatsimATCLayer).bindTooltip(e.callsign+" | "+e.frequency+"<br>"+e.full_name),o.a.circle([e.location.coordinates[1],e.location.coordinates[0]],{radius:w(e.visual_range),fill:!1,color:"#2ef923"}).addTo(t.vatsimATCLayer);break;case"TWR":o.a.marker([e.location.coordinates[1],e.location.coordinates[0]],{icon:S}).addTo(t.vatsimATCLayer).bindTooltip(e.callsign+" | "+e.frequency+"<br>"+e.full_name),o.a.circle([e.location.coordinates[1],e.location.coordinates[0]],{radius:w(e.visual_range),fill:!1,color:"#17c2c6"}).addTo(t.vatsimATCLayer);break;case"APP":case"DEP":o.a.marker([e.location.coordinates[1],e.location.coordinates[0]],{icon:k}).addTo(t.vatsimATCLayer).bindTooltip(e.callsign+" | "+e.frequency+"<br>"+e.full_name),o.a.circle([e.location.coordinates[1],e.location.coordinates[0]],{radius:w(e.visual_range),fill:!1,color:"#fcee21"}).addTo(t.vatsimATCLayer);break;case"CTR":case"FSS":o.a.marker([e.location.coordinates[1],e.location.coordinates[0]],{icon:C}).addTo(t.vatsimATCLayer).bindTooltip(e.callsign+" | "+e.frequency+"<br>"+e.full_name),o.a.circle([e.location.coordinates[1],e.location.coordinates[0]],{radius:w(e.visual_range),fill:!1,color:"#e51515"}).addTo(t.vatsimATCLayer)}})})},clickHandler:function(t){var e=this;console.log(t),void 0!==t.feature&&(this.$store.commit("SET_AIRPORT",null),l.a.get("/api/airport/"+t.feature.properties.icao).then(function(t){e.$store.commit("SET_AIRPORT",t.data)}))},addAircraft:function(t){}},watch:{activeAircraft:function(t,e){var n=this;t.forEach(function(t){var e=n.acf_markers.findIndex(function(e){return e._id===t._id});if(-1!==e)n.acf_markers[e].marker.slideTo([t.location.coordinates[1],t.location.coordinates[0]]),n.acf_markers[e].marker.setRotationAngle(t.heading);else{n.acf_markers.push(t);var i=n.acf_markers.findIndex(function(e){return e._id===t._id});n.acf_markers[i].marker.addTo(n.vatsimLayer)}})}},computed:{activeAircraft:function(){return this.$store.state.aircraft.aircraftList}}},L=(i("b5Ro"),h(O,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("side-nav-bar"),this._v(" "),e("div",{staticStyle:{display:"flex",position:"fixed",top:"0",left:"60px",bottom:"0",right:"0"}},[e("SideInfoPanel"),this._v(" "),e("div",{staticStyle:{"z-index":"-100"},attrs:{id:"map"}})],1)],1)},[],!1,null,"66538ee4",null).exports),P=o.a.icon({iconUrl:"/img/aircraftTarget.svg",iconSize:[32,32],iconAnchor:[16,16],popupAnchor:[-20,20]}),R={name:"AfvMap",components:{SideNavBar:x,SideInfoPanel:y},data:function(){return{lmap:null,tangramLayer:null,vatsimLayer:null,vatsimAircraft:[],acf_markers:[],ground_targets:[]}},mounted:function(){var t=this,e=[37.487,-98.981,5];this.lmap=o.a.map(document.getElementById("map")),this.lmap.zoomControl.setPosition("topright"),this.tangramLayer=a.a.leafletLayer({scene:"classic_map.yaml",attribution:"openAIP | &copy; OSM contributors",selectionRadius:10,events:{click:this.clickHandler}}),this.tangramLayer.addTo(this.lmap),this.lmap.setView(e.slice(0,3),e[2]),this.vatsimLayer=o.a.layerGroup().addTo(this.lmap),this.getVatsimData(),setInterval(function(){t.getVatsimData()},6e4)},updated:function(){console.log("Updated"),this.tangramLayer.scene.updateConfig()},methods:{getVatsimData:function(){var t=this;l.a.get("/api/flights/vatsim_afv").then(function(e){t.vatsimLayer.clearLayers(),e.data.pilots.forEach(function(e){o.a.marker([e.latitude,e.longitude],{icon:P,rotationAngle:e.heading}).addTo(t.vatsimLayer).bindTooltip(e.callsign+"</br>"+e.member.name,{offset:[0,0],className:"markerText"})})}),console.log("VATSIM Aircraft Updated")},clickHandler:function(t){var e=this;console.log(t),void 0!==t.feature&&(this.$store.commit("SET_AIRPORT",null),l.a.get("/api/airport/"+t.feature.properties.icao).then(function(t){e.$store.commit("SET_AIRPORT",t.data)}))},addAircraft:function(t){}},watch:{activeAircraft:function(t,e){var n=this;t.forEach(function(t){var e=n.acf_markers.findIndex(function(e){return e._id===t._id});if(-1!==e)n.acf_markers[e].marker.slideTo([t.location.coordinates[1],t.location.coordinates[0]]),n.acf_markers[e].marker.setRotationAngle(t.heading);else{n.acf_markers.push(t);var i=n.acf_markers.findIndex(function(e){return e._id===t._id});n.acf_markers[i].marker.addTo(n.vatsimLayer)}})}},computed:{activeAircraft:function(){return this.$store.state.aircraft.aircraftList}}},M=(i("IVnQ"),h(R,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticStyle:{display:"flex",position:"fixed",top:"0",left:"0",bottom:"0",right:"0"}},[e("SideInfoPanel"),this._v(" "),e("div",{staticStyle:{"z-index":"-100"},attrs:{id:"map"}})],1)])},[],!1,null,"95ccbef8",null).exports),I=(i("nOdW"),i("XuX8")),N=i.n(I),z=i("L2JU"),D={state:{info:null,charts:null,loading:!1},mutations:{SET_AIRPORT:function(t,e){null==e?(t.info=null,t.charts=null):(t.info=e.airport,t.charts=e.charts)},SET_LOADING:function(t,e){t.loading=e}},actions:{checkAndSetAirport:function(t,e){var n=t.commit;t.state;l.a.get("/api/airports",{params:{icao:e}}).then(function(t){n("SET_LOADING",!0),n("SET_AIRPORT",t.data),n("SET_LOADING",!1)})}}},j=o.a.icon({iconUrl:"/img/aircraftTarget.svg",iconSize:[32,32],iconAnchor:[16,16],popupAnchor:[-20,20]}),F={state:{aircraftList:[],selectedAircraft:null},mutations:{SET_INDV_ACF:function(t,e){var n=t.aircraftList.findIndex(function(t){return t._id=e._id});t.aircraftList[n]=e},ADD_INDV_ACF:function(t,e){t.aircraftList.push(e)}},actions:{editAircraft:function(t,n){var i=t.commit;-1===t.state.aircraftList.findIndex(function(t){return t._id=n._id})?i("ADD_INDV_ACF",n):(n.marker=o.a.marker([n.location.coordinates[1],n.location.coordinates[0]],{icon:j,rotationAngle:e.heading}),n.marker.bindTooltip(e.callsign,{offset:[0,0],className:"markerText"}),n.on_ground=n.groundspeed<=30,i("SET_INDV_ACF",n))}}};N.a.use(z.a);var B=new z.a.Store({modules:{airport:D,aircraft:F}});i("9Wh1"),window.Vue=i("XuX8");new Vue({created:function(){var t=this;this.$echo.channel("laravel_database_flight-data").listen("VatsimUpdated",function(e){console.log(e),e.aircraft.forEach(function(e){t.$store.dispatch("setAircraft",e)})})},components:{svmap:L,svmapafv:M},store:B,el:"#app"})},"e+6W":function(t,e,n){var i=n("oMCp");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(t.exports=i.locals)},endd:function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},eqyj:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},gzFi:function(t,e,n){var i=n("tVF7");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(t.exports=i.locals)},"jfS+":function(t,e,n){"use strict";var i=n("endd");function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},kcck:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n#map[data-v-95ccbef8] {\n    width: 100%;\n    height: 100%;\n}\n",""])},n6bm:function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,o=String(t),s="",a=0,u=i;o.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&e>>8-a%1*8)){if((n=o.charCodeAt(a+=.75))>255)throw new r;e=e<<8|n}return s}},nOdW:function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={install:function(t,e){if(!e)throw new Error("[Vue-Echo] cannot locate options");if("object"!==(void 0===e?"undefined":i(e)))throw new Error("[Vue-Echo] cannot initiate options");"function"==typeof e.socketId?t.prototype.$echo=e:t.prototype.$echo=new o.default(e),t.mixin({created:function(){var t=this.$options.channel;if(t){t.startsWith("private:")?this.channel=this.$echo.private(t.replace("private:","")):t.startsWith("presence:")?this.channel=this.$echo.join(t.replace("presence:","")):this.channel=this.$echo.channel(t);var e=this.$options.echo;e&&Object.keys(e).forEach(function(t){var n=this;this.channel.listen(t,function(i){e[t](i,n)})},this)}},beforeDestroy:function(){this.$options.channel&&this.channel.unsubscribe()}})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},u=function(){function t(e){i(this,t),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",broadcaster:"pusher",csrfToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(e),this.connect()}return r(t,[{key:"setOptions",value:function(t){return this.options=o(this._defaultOptions,t),this.csrfToken()&&(this.options.auth.headers["X-CSRF-TOKEN"]=this.csrfToken()),t}},{key:"csrfToken",value:function(){var t=void 0;return"undefined"!=typeof window&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&(t=document.querySelector('meta[name="csrf-token"]'))?t.getAttribute("content"):null}}]),t}(),l=function(){function t(){i(this,t)}return r(t,[{key:"listenForWhisper",value:function(t,e){return this.listen(".client-"+t,e)}},{key:"notification",value:function(t){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",t)}}]),t}(),c=function(){function t(e){i(this,t),this.setNamespace(e)}return r(t,[{key:"format",value:function(t){return"."===t.charAt(0)||"\\"===t.charAt(0)?t.substr(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(t){this.namespace=t}}]),t}(),h=function(t){function e(t,n,r){i(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.name=n,o.pusher=t,o.options=r,o.eventFormatter=new c(o.options.namespace),o.subscribe(),o}return s(e,t),r(e,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"stopListening",value:function(t){return this.subscription.unbind(this.eventFormatter.format(t)),this}},{key:"on",value:function(t,e){return this.subscription.bind(t,e),this}}]),e}(l),f=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),r(e,[{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-"+t,e),this}}]),e}(h),d=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),r(e,[{key:"here",value:function(t){return this.on("pusher:subscription_succeeded",function(e){t(Object.keys(e.members).map(function(t){return e.members[t]}))}),this}},{key:"joining",value:function(t){return this.on("pusher:member_added",function(e){t(e.info)}),this}},{key:"leaving",value:function(t){return this.on("pusher:member_removed",function(e){t(e.info)}),this}},{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-"+t,e),this}}]),e}(h),p=function(t){function e(t,n,r){i(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.events={},o.name=n,o.socket=t,o.options=r,o.eventFormatter=new c(o.options.namespace),o.subscribe(),o.configureReconnector(),o}return s(e,t),r(e,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"stopListening",value:function(t){var e=this.eventFormatter.format(t);return this.socket.removeListener(e),delete this.events[e],this}},{key:"on",value:function(t,e){var n=this,i=function(t,i){n.name==t&&e(i)};this.socket.on(t,i),this.bind(t,i)}},{key:"configureReconnector",value:function(){var t=this,e=function(){t.subscribe()};this.socket.on("reconnect",e),this.bind("reconnect",e)}},{key:"bind",value:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)}},{key:"unbind",value:function(){var t=this;Object.keys(this.events).forEach(function(e){t.events[e].forEach(function(n){t.socket.removeListener(e,n)}),delete t.events[e]})}}]),e}(l),m=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),r(e,[{key:"whisper",value:function(t,e){return this.socket.emit("client event",{channel:this.name,event:"client-"+t,data:e}),this}}]),e}(p),_=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),r(e,[{key:"here",value:function(t){return this.on("presence:subscribed",function(e){t(e.map(function(t){return t.user_info}))}),this}},{key:"joining",value:function(t){return this.on("presence:joining",function(e){return t(e.user_info)}),this}},{key:"leaving",value:function(t){return this.on("presence:leaving",function(e){return t(e.user_info)}),this}}]),e}(m),v=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),r(e,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(t,e){return this}},{key:"stopListening",value:function(t){return this}},{key:"on",value:function(t,e){return this}}]),e}(l),g=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),r(e,[{key:"whisper",value:function(t,e){return this}}]),e}(v),y=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),r(e,[{key:"here",value:function(t){return this}},{key:"joining",value:function(t){return this}},{key:"leaving",value:function(t){return this}},{key:"whisper",value:function(t,e){return this}}]),e}(v),b=function(t){function e(){i(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.channels={},t}return s(e,t),r(e,[{key:"connect",value:function(){void 0!==this.options.client?this.pusher=this.options.client:this.pusher=new Pusher(this.options.key,this.options)}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new h(this.pusher,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new f(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new d(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach(function(t,n){e.leaveChannel(t)})}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),e}(u),x=function(t){function e(){i(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.channels={},t}return s(e,t),r(e,[{key:"connect",value:function(){var t=this.getSocketIO();return this.socket=t(this.options.host,this.options),this.socket}},{key:"getSocketIO",value:function(){if("undefined"!=typeof io)return io;if(void 0!==this.options.client)return this.options.client;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new p(this.socket,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new m(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new _(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach(function(t){e.leaveChannel(t)})}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),e}(u),w=function(t){function e(){i(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.channels={},t}return s(e,t),r(e,[{key:"connect",value:function(){}},{key:"listen",value:function(t,e,n){return new v}},{key:"channel",value:function(t){return new v}},{key:"privateChannel",value:function(t){return new g}},{key:"presenceChannel",value:function(t){return new y}},{key:"leave",value:function(t){}},{key:"leaveChannel",value:function(t){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),e}(u),T=function(){function t(e){i(this,t),this.options=e,this.connect(),this.registerInterceptors()}return r(t,[{key:"channel",value:function(t){return this.connector.channel(t)}},{key:"connect",value:function(){"pusher"==this.options.broadcaster?this.connector=new b(this.options):"socket.io"==this.options.broadcaster?this.connector=new x(this.options):"null"==this.options.broadcaster&&(this.connector=new w(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(t){return this.connector.presenceChannel(t)}},{key:"leave",value:function(t){this.connector.leave(t)}},{key:"listen",value:function(t,e,n){return this.connector.listen(t,e,n)}},{key:"private",value:function(t){return this.connector.privateChannel(t)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup()}},{key:"registerVueRequestInterceptor",value:function(){var t=this;Vue.http.interceptors.push(function(e,n){t.socketId()&&e.headers.set("X-Socket-ID",t.socketId()),n()})}},{key:"registerAxiosRequestInterceptor",value:function(){var t=this;axios.interceptors.request.use(function(e){return t.socketId()&&(e.headers["X-Socket-Id"]=t.socketId()),e})}},{key:"registerjQueryAjaxSetup",value:function(){var t=this;void 0!==jQuery.ajax&&jQuery.ajaxSetup({beforeSend:function(e){t.socketId()&&e.setRequestHeader("X-Socket-Id",t.socketId())}})}}]),t}();e.default=T}])},oCqW:function(t,e,n){var i=n("kcck");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(t.exports=i.locals)},oMCp:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.sn-nav-item[data-v-0862227c] {\n    flex: 1;\n    text-align: center;\n    line-height: 1;\n    max-width: 60px;\n    padding-bottom: .5rem;\n    color: white;\n    border: none;\n    background: transparent;\n    text-decoration: none;\n    text-underline: none;\n    transition: .2s;\n    margin: .5rem 0;\n}\n.sn-nav-item[data-v-0862227c]:hover {\n    background: #ffcc00;\n    transition: .2s;\n    color: white;\n    border: none;\n    text-decoration: none;\n    text-underline: none;\n    cursor: pointer;\n}\n.sn-nav-item[data-v-0862227c] {\n    width: 100%;\n    padding: .25rem auto;\n}\n.sn-nav-panel[data-v-0862227c] {\n    float: left;\n    width: 60px;\n    height: 100vh;\n}\n.sn-brand[data-v-0862227c] {\n    height: 60px;\n    background: #1a1a1a;\n}\n.sn-nav[data-v-0862227c] {\n    flex-flow: row wrap;\n    flex-wrap: wrap;\n}\n",""])},oMSk:function(t,e,n){"use strict";var i=n("u34a");n.n(i).a},pyCd:function(t,e){},qLfE:function(t,e){var n,i,r;n=L.Marker.prototype._initIcon,i=L.Marker.prototype._setPos,r="msTransform"===L.DomUtil.TRANSFORM,L.Marker.addInitHook(function(){var t=this.options.icon&&this.options.icon.options&&this.options.icon.options.iconAnchor;t&&(t=t[0]+"px "+t[1]+"px"),this.options.rotationOrigin=this.options.rotationOrigin||t||"center bottom",this.options.rotationAngle=this.options.rotationAngle||0,this.on("drag",function(t){t.target._applyRotation()})}),L.Marker.include({_initIcon:function(){n.call(this)},_setPos:function(t){i.call(this,t),this._applyRotation()},_applyRotation:function(){this.options.rotationAngle&&(this._icon.style[L.DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin,r?this._icon.style[L.DomUtil.TRANSFORM]="rotate("+this.options.rotationAngle+"deg)":this._icon.style[L.DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")},setRotationAngle:function(t){return this.options.rotationAngle=t,this.update(),this},setRotationOrigin:function(t){return this.options.rotationOrigin=t,this.update(),this}})},sPWI:function(t,e){!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var i=n(1),r=n(3);window.L.CanvasIconLayer=r(L),window.rbush=i},function(t,e,n){"use strict";t.exports=r,t.exports.default=r;var i=n(2);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=m(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],u(r,t.leaf?i(o):o);return r}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(t,e,n,r,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(s=e+Math.ceil((n-e)/r/2)*r,i(t,s,e,n,o),a.push(e,s,s,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!p(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],p(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):d(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!p(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],p(t,s=e.leaf?n(o):o)){if(e.leaf||d(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,s,a=this.data,u=this.toBBox(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=c.pop(),s=!0),a.leaf&&-1!==(r=o(t,a.children,e)))return a.children.splice(r,1),l.push(a),this._condense(l),this;s||a.leaf||!d(a,u)?i?(n++,a=i.children[n],s=!1):a=null:(l.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return s(r=m(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=m([])).leaf=!1,r.height=i;var u,l,c,h,f=Math.ceil(o/a),d=f*Math.ceil(Math.sqrt(a));for(_(t,e,n,d,this.compareMinX),u=e;u<=n;u+=d)for(_(t,u,c=Math.min(u+d-1,n),f,this.compareMinY),l=u;l<=c;l+=f)h=Math.min(l+f-1,c),r.children.push(this._build(t,l,h,i-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,l,c,f,d,p;i.push(e),!e.leaf&&i.length-1!==n;){for(c=f=1/0,r=0,o=e.children.length;r<o;r++)u=h(s=e.children[r]),d=t,p=s,(l=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-u)<f?(f=l,c=u<c?u:c,a=s):l===f&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),u(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=m(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,u,l,c,f,d,p,m,_,v,g;for(l=c=1/0,i=e;i<=n-e;i++)d=r=a(t,0,i,this.toBBox),p=o=a(t,i,n,this.toBBox),m=Math.max(d.minX,p.minX),_=Math.max(d.minY,p.minY),v=Math.min(d.maxX,p.maxX),g=Math.min(d.maxY,p.maxY),s=Math.max(0,v-m)*Math.max(0,g-_),u=h(r)+h(o),s<l?(l=s,f=i,c=u<c?u:c):s===l&&u<c&&(c=u,f=i);return f},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,l=a(t,0,e,s),c=a(t,n-e,n,s),h=f(l)+f(c);for(r=e;r<n-e;r++)o=t.children[r],u(l,t.leaf?s(o):o),h+=f(l);for(r=n-e-1;r>=e;r--)o=t.children[r],u(c,t.leaf?s(o):o),h+=f(c);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)u(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,n){t.exports=function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,u=i-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(a-c)/a)*(u-a/2<0?-1:1);e(n,i,Math.max(r,Math.floor(i-u*c/a+h)),Math.min(o,Math.floor(i+(a-u)*c/a+h)),s)}var f=n[i],d=r,p=o;for(t(n,r,i),s(n[o],f)>0&&t(n,r,o);d<p;){for(t(n,d,p),d++,p--;s(n[d],f)<0;)d++;for(;s(n[p],f)>0;)p--}0===s(n[r],f)?t(n,r,p):t(n,++p,o),p<=i&&(r=p+1),i<=p&&(o=p-1)}}(n,i,r||0,o||n.length-1,s||e)}}()},function(t,e,n){"use strict";t.exports=function(t){var e=(t.Layer?t.Layer:t.Class).extend({initialize:function(e){t.setOptions(this,e),this._onClickListeners=[],this._onHoverListeners=[]},setOptions:function(e){return t.setOptions(this,e),this.redraw()},redraw:function(){this._redraw(!0)},addMarkers:function(t){var e=this,n=[],i=[];t.forEach(function(t){if("markerPane"==t.options.pane&&t.options.icon){var r=t.getLatLng(),o=e._map.getBounds().contains(r),s=e._addMarker(t,r,o);!0===o&&n.push(s[0]),i.push(s[1])}else console.error("Layer isn't a marker")}),e._markers.load(n),e._latlngMarkers.load(i)},addMarker:function(t){var e=t.getLatLng(),n=this._map.getBounds().contains(e),i=this._addMarker(t,e,n);!0===n&&this._markers.insert(i[0]),this._latlngMarkers.insert(i[1])},addLayer:function(t){"markerPane"==t.options.pane&&t.options.icon?this.addMarker(t):console.error("Layer isn't a marker")},addLayers:function(t){this.addMarkers(t)},removeLayer:function(t){this.removeMarker(t,!0)},removeMarker:function(t,e){t.minX&&(t=t.data);var n=t.getLatLng(),i=this._map.getBounds().contains(n),r={minX:n.lng,minY:n.lat,maxX:n.lng,maxY:n.lat,data:t};this._latlngMarkers.remove(r,function(t,e){return t.data._leaflet_id===e.data._leaflet_id}),this._latlngMarkers.total--,this._latlngMarkers.dirty++,!0===i&&!0===e&&this._redraw(!0)},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),this.options.pane?this.getPane().appendChild(this._canvas):t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.on("resize",this._reset,this),t.on("click",this._executeListeners,this),t.on("mousemove",this._executeListeners,this)},onRemove:function(t){this.options.pane?this.getPane().removeChild(this._canvas):t.getPanes().overlayPane.removeChild(this._canvas)},addTo:function(t){return t.addLayer(this),this},_addMarker:function(e,n,i){e._map=this._map,this._markers||(this._markers=new rbush),this._latlngMarkers||(this._latlngMarkers=new rbush,this._latlngMarkers.dirty=0,this._latlngMarkers.total=0),t.Util.stamp(e);var r=this._map.latLngToContainerPoint(n),o=e.options.icon.options.iconSize,s=o[0]/2,a=o[1]/2,u=[{minX:r.x-s,minY:r.y-a,maxX:r.x+s,maxY:r.y+a,data:e},{minX:n.lng,minY:n.lat,maxX:n.lng,maxY:n.lat,data:e}];return this._latlngMarkers.dirty++,this._latlngMarkers.total++,!0===i&&this._drawMarker(e,r),u},_drawMarker:function(t,e){var n=this;this._imageLookup||(this._imageLookup={}),e||(e=n._map.latLngToContainerPoint(t.getLatLng()));var i=t.options.icon.options.iconUrl;if(t.canvas_img)n._drawImage(t,e);else if(n._imageLookup[i])t.canvas_img=n._imageLookup[i][0],!1===n._imageLookup[i][1]?n._imageLookup[i][2].push([t,e]):n._drawImage(t,e);else{var r=new Image;r.src=i,t.canvas_img=r,n._imageLookup[i]=[r,!1,[[t,e]]],r.onload=function(){n._imageLookup[i][1]=!0,n._imageLookup[i][2].forEach(function(t){n._drawImage(t[0],t[1])})}}},_drawImage:function(t,e){var n=t.options.icon.options;this._context.drawImage(t.canvas_img,e.x-n.iconAnchor[0],e.y-n.iconAnchor[1],n.iconSize[0],n.iconSize[1])},_reset:function(){var e=this._map.containerPointToLayerPoint([0,0]);t.DomUtil.setPosition(this._canvas,e);var n=this._map.getSize();this._canvas.width=n.x,this._canvas.height=n.y,this._redraw()},_redraw:function(t){var e=this;if(this._map){t&&this._context.clearRect(0,0,this._canvas.width,this._canvas.height);var n=[];e._latlngMarkers.dirty/e._latlngMarkers.total>=.1&&(e._latlngMarkers.all().forEach(function(t){n.push(t)}),e._latlngMarkers.clear(),e._latlngMarkers.load(n),e._latlngMarkers.dirty=0,n=[]);var i=e._map.getBounds(),r={minX:i.getWest(),minY:i.getSouth(),maxX:i.getEast(),maxY:i.getNorth()};e._latlngMarkers.search(r).forEach(function(t){var i=e._map.latLngToContainerPoint(t.data.getLatLng()),r=t.data.options.icon.options.iconSize,o=r[0]/2,s=r[1]/2,a={minX:i.x-o,minY:i.y-s,maxX:i.x+o,maxY:i.y+s,data:t.data};n.push(a),e._drawMarker(t.data,i)}),this._markers.clear(),this._markers.load(n)}},_initCanvas:function(){this._canvas=t.DomUtil.create("canvas","leaflet-canvas-icon-layer leaflet-layer");var e=t.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this._canvas.style[e]="50% 50%";var n=this._map.getSize();this._canvas.width=n.x,this._canvas.height=n.y,this._context=this._canvas.getContext("2d");var i=this._map.options.zoomAnimation&&t.Browser.any3d;t.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(i?"animated":"hide"))},addOnClickListener:function(t){this._onClickListeners.push(t)},addOnHoverListener:function(t){this._onHoverListeners.push(t)},_executeListeners:function(t){var e=this,n=t.containerPoint.x,i=t.containerPoint.y;e._openToolTip&&(e._openToolTip.closeTooltip(),delete e._openToolTip);var r=this._markers.search({minX:n,minY:i,maxX:n,maxY:i});r&&r.length>0?(e._map._container.style.cursor="pointer","click"===t.type&&(r[0].data.getPopup()&&r[0].data.openPopup(),e._onClickListeners.forEach(function(e){e(t,r)})),"mousemove"===t.type&&(r[0].data.getTooltip()&&(e._openToolTip=r[0].data,r[0].data.openTooltip()),e._onHoverListeners.forEach(function(e){e(t,r)}))):e._map._container.style.cursor=""}});t.canvasIconLayer=function(t){return new e(t)}}}])},tQ2B:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("Rn+g"),o=n("MLWZ"),s=n("w0Vi"),a=n("OTTw"),u=n("LYNF"),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n("n6bm");t.exports=function(t){return new Promise(function(e,c){var h=t.data,f=t.headers;i.isFormData(h)&&delete f["Content-Type"];var d=new XMLHttpRequest,p="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(t.url)||(d=new window.XDomainRequest,p="onload",m=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var _=t.auth.username||"",v=t.auth.password||"";f.Authorization="Basic "+l(_+":"+v)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[p]=function(){if(d&&(4===d.readyState||m)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:t,request:d};r(e,c,i),d=null}},d.onerror=function(){c(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},i.isStandardBrowserEnv()){var g=n("eqyj"),y=(t.withCredentials||a(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in d&&i.forEach(f,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),c(t),d=null)}),void 0===h&&(h=null),d.send(h)})}},tVF7:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wx-row[data-v-0531848e] {\n    display: flex;\n    justify-content: space-between;\n}\n.wx-header[data-v-0531848e] {\n    text-align: right;\n    font-weight: bold;\n    margin-right: .5rem;\n}\n",""])},u34a:function(t,e,n){var i=n("zeRb");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(t.exports=i.locals)},v6aa:function(t,e,n){var i=n("W3OC");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(t.exports=i.locals)},vDqi:function(t,e,n){t.exports=n("zuR4")},w0Vi:function(t,e,n){"use strict";var i=n("xTJ+"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(i.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},x1ep:function(t,e,n){"use strict";var i=n("+JRF");n.n(i).a},xAGQ:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},"xTJ+":function(t,e,n){"use strict";var i=n("HSsa"),r=n("BEtg"),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:r,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return e},extend:function(t,e,n){return l(e,function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},yK9s:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},zeRb:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wx-row[data-v-0aa3b501] {\n    display: flex;\n    justify-content: space-between;\n}\n.wx-header[data-v-0aa3b501] {\n    text-align: right;\n    font-weight: bold;\n    margin-right: .5rem;\n}\n",""])},zuR4:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("HSsa"),o=n("CgaS"),s=n("JEQr");function a(t){var e=new o(t),n=r(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var u=a(s);u.Axios=o,u.create=function(t){return a(i.merge(s,t))},u.Cancel=n("endd"),u.CancelToken=n("jfS+"),u.isCancel=n("Lmem"),u.all=function(t){return Promise.all(t)},u.spread=n("DfZB"),t.exports=u,t.exports.default=u}});